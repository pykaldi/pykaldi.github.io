

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>kaldi.matrix &mdash; PyKaldi 0.0.9 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato" type="text/css" />
  
    <link rel="stylesheet" href="../_static/pykaldi-theme.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="PyKaldi 0.0.9 documentation" href="../index.html"/>
        <link rel="next" title="kaldi.nnet3" href="kaldi.nnet3.html"/>
        <link rel="prev" title="kaldi.lm" href="kaldi.lm.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/pykaldi-logo-light.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                0.0.9
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
    
            
            
              
            
            
              <p class="caption"><span class="caption-text">User Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../user/about.html">About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/install.html">Installation</a></li>
</ul>
<p class="caption"><span class="caption-text">Developer Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../dev/conv.html">Coding Conventions</a></li>
</ul>
<p class="caption"><span class="caption-text">API Guide</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="kaldi.alignment.html">kaldi.alignment</a></li>
<li class="toctree-l1"><a class="reference internal" href="kaldi.asr.html">kaldi.asr</a></li>
<li class="toctree-l1"><a class="reference internal" href="kaldi.base.html">kaldi.base</a></li>
<li class="toctree-l1"><a class="reference internal" href="kaldi.chain.html">kaldi.chain</a></li>
<li class="toctree-l1"><a class="reference internal" href="kaldi.cudamatrix.html">kaldi.cudamatrix</a></li>
<li class="toctree-l1"><a class="reference internal" href="kaldi.decoder.html">kaldi.decoder</a></li>
<li class="toctree-l1"><a class="reference internal" href="kaldi.feat.html">kaldi.feat</a></li>
<li class="toctree-l1"><a class="reference internal" href="kaldi.fstext.html">kaldi.fstext</a></li>
<li class="toctree-l1"><a class="reference internal" href="kaldi.gmm.html">kaldi.gmm</a></li>
<li class="toctree-l1"><a class="reference internal" href="kaldi.hmm.html">kaldi.hmm</a></li>
<li class="toctree-l1"><a class="reference internal" href="kaldi.ivector.html">kaldi.ivector</a></li>
<li class="toctree-l1"><a class="reference internal" href="kaldi.kws.html">kaldi.kws</a></li>
<li class="toctree-l1"><a class="reference internal" href="kaldi.lat.html">kaldi.lat</a></li>
<li class="toctree-l1"><a class="reference internal" href="kaldi.lm.html">kaldi.lm</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">kaldi.matrix</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#module-kaldi.matrix.common">kaldi.matrix.common</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-kaldi.matrix.compressed">kaldi.matrix.compressed</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-kaldi.matrix.functions">kaldi.matrix.functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-kaldi.matrix.htk">kaldi.matrix.htk</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-kaldi.matrix.optimization">kaldi.matrix.optimization</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-kaldi.matrix.packed">kaldi.matrix.packed</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-kaldi.matrix.sparse">kaldi.matrix.sparse</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="kaldi.nnet3.html">kaldi.nnet3</a></li>
<li class="toctree-l1"><a class="reference internal" href="kaldi.online2.html">kaldi.online2</a></li>
<li class="toctree-l1"><a class="reference internal" href="kaldi.rnnlm.html">kaldi.rnnlm</a></li>
<li class="toctree-l1"><a class="reference internal" href="kaldi.segmentation.html">kaldi.segmentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="kaldi.sgmm2.html">kaldi.sgmm2</a></li>
<li class="toctree-l1"><a class="reference internal" href="kaldi.tfrnnlm.html">kaldi.tfrnnlm</a></li>
<li class="toctree-l1"><a class="reference internal" href="kaldi.transform.html">kaldi.transform</a></li>
<li class="toctree-l1"><a class="reference internal" href="kaldi.tree.html">kaldi.tree</a></li>
<li class="toctree-l1"><a class="reference internal" href="kaldi.util.html">kaldi.util</a></li>
</ul>

            
          
    <p class="caption"><span class="caption-text">Other</span></p>
    <ul>
    <li class="toctree-l1"><a href="../genindex.html">Index</a></li>
    </ul>
  
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">PyKaldi</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>kaldi.matrix</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/api/kaldi.matrix.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-kaldi.matrix">
<span id="kaldi-matrix"></span><h1>kaldi.matrix<a class="headerlink" href="#module-kaldi.matrix" title="Permalink to this headline">Â¶</a></h1>
<p>PyKaldi defines the following CPU vector/matrix types:</p>
<table border="1" class="docutils">
<colgroup>
<col width="18%" />
<col width="24%" />
<col width="30%" />
<col width="28%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Type</th>
<th class="head">32-bit floating point</th>
<th class="head">64-bit floating point</th>
<th class="head">Other</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Dense Matrix</td>
<td><a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><code class="xref py py-class docutils literal"><span class="pre">Matrix</span></code></a></td>
<td><a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><code class="xref py py-class docutils literal"><span class="pre">DoubleMatrix</span></code></a></td>
<td><a class="reference internal" href="#kaldi.matrix.compressed.CompressedMatrix" title="kaldi.matrix.compressed.CompressedMatrix"><code class="xref py py-class docutils literal"><span class="pre">CompressedMatrix</span></code></a></td>
</tr>
<tr class="row-odd"><td>Dense Vector</td>
<td><a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><code class="xref py py-class docutils literal"><span class="pre">Vector</span></code></a></td>
<td><a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><code class="xref py py-class docutils literal"><span class="pre">DoubleVector</span></code></a></td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>Symmetric Matrix</td>
<td><a class="reference internal" href="#kaldi.matrix.packed.SpMatrix" title="kaldi.matrix.packed.SpMatrix"><code class="xref py py-class docutils literal"><span class="pre">SpMatrix</span></code></a></td>
<td><a class="reference internal" href="#kaldi.matrix.packed.DoubleSpMatrix" title="kaldi.matrix.packed.DoubleSpMatrix"><code class="xref py py-class docutils literal"><span class="pre">DoubleSpMatrix</span></code></a></td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>Triangular Matrix</td>
<td><a class="reference internal" href="#kaldi.matrix.packed.TpMatrix" title="kaldi.matrix.packed.TpMatrix"><code class="xref py py-class docutils literal"><span class="pre">TpMatrix</span></code></a></td>
<td><a class="reference internal" href="#kaldi.matrix.packed.DoubleTpMatrix" title="kaldi.matrix.packed.DoubleTpMatrix"><code class="xref py py-class docutils literal"><span class="pre">DoubleTpMatrix</span></code></a></td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>Sparse Matrix</td>
<td><a class="reference internal" href="#kaldi.matrix.sparse.SparseMatrix" title="kaldi.matrix.sparse.SparseMatrix"><code class="xref py py-class docutils literal"><span class="pre">SparseMatrix</span></code></a></td>
<td><a class="reference internal" href="#kaldi.matrix.sparse.DoubleSparseMatrix" title="kaldi.matrix.sparse.DoubleSparseMatrix"><code class="xref py py-class docutils literal"><span class="pre">DoubleSparseMatrix</span></code></a></td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>Sparse Vector</td>
<td><a class="reference internal" href="#kaldi.matrix.sparse.SparseVector" title="kaldi.matrix.sparse.SparseVector"><code class="xref py py-class docutils literal"><span class="pre">SparseVector</span></code></a></td>
<td><a class="reference internal" href="#kaldi.matrix.sparse.DoubleSparseMatrix" title="kaldi.matrix.sparse.DoubleSparseMatrix"><code class="xref py py-class docutils literal"><span class="pre">DoubleSparseMatrix</span></code></a></td>
<td>&#160;</td>
</tr>
</tbody>
</table>
<p>In addition, there is a <a class="reference internal" href="#kaldi.matrix.sparse.GeneralMatrix" title="kaldi.matrix.sparse.GeneralMatrix"><code class="xref py py-class docutils literal"><span class="pre">GeneralMatrix</span></code></a> type which is a wrapper around
<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><code class="xref py py-class docutils literal"><span class="pre">Matrix</span></code></a>, <a class="reference internal" href="#kaldi.matrix.sparse.SparseMatrix" title="kaldi.matrix.sparse.SparseMatrix"><code class="xref py py-class docutils literal"><span class="pre">SparseMatrix</span></code></a> and <a class="reference internal" href="#kaldi.matrix.compressed.CompressedMatrix" title="kaldi.matrix.compressed.CompressedMatrix"><code class="xref py py-class docutils literal"><span class="pre">CompressedMatrix</span></code></a> types.</p>
<p>The dense <a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><code class="xref py py-class docutils literal"><span class="pre">Vector</span></code></a>/<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><code class="xref py py-class docutils literal"><span class="pre">Matrix</span></code></a> types come in two flavors.</p>
<p><a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><code class="xref py py-class docutils literal"><span class="pre">Vector</span></code></a>/<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><code class="xref py py-class docutils literal"><span class="pre">Matrix</span></code></a> instances own the memory buffers backing them.
Instantiating a new <a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><code class="xref py py-class docutils literal"><span class="pre">Vector</span></code></a>/<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><code class="xref py py-class docutils literal"><span class="pre">Matrix</span></code></a> object allocates new memory
for storing the elements. They support destructive operations that reallocate
memory.</p>
<p><a class="reference internal" href="#kaldi.matrix.SubVector" title="kaldi.matrix.SubVector"><code class="xref py py-class docutils literal"><span class="pre">SubVector</span></code></a>/<a class="reference internal" href="#kaldi.matrix.SubMatrix" title="kaldi.matrix.SubMatrix"><code class="xref py py-class docutils literal"><span class="pre">SubMatrix</span></code></a> instances, on the other hand, share the
memory buffers owned by other objects. Instantiating a new
<a class="reference internal" href="#kaldi.matrix.SubVector" title="kaldi.matrix.SubVector"><code class="xref py py-class docutils literal"><span class="pre">SubVector</span></code></a>/<a class="reference internal" href="#kaldi.matrix.SubMatrix" title="kaldi.matrix.SubMatrix"><code class="xref py py-class docutils literal"><span class="pre">SubMatrix</span></code></a> object does not allocate new memory. Since
they provide views into other existing objects, they do not support destructive
operations that reallocate memory. Other than this caveat, they are equivalent
to <a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><code class="xref py py-class docutils literal"><span class="pre">Vector</span></code></a>/<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><code class="xref py py-class docutils literal"><span class="pre">Matrix</span></code></a> instances for all practical purposes. Almost
any function or method accepting a <a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><code class="xref py py-class docutils literal"><span class="pre">Vector</span></code></a>/<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><code class="xref py py-class docutils literal"><span class="pre">Matrix</span></code></a> instance can
instead be passed a <a class="reference internal" href="#kaldi.matrix.SubVector" title="kaldi.matrix.SubVector"><code class="xref py py-class docutils literal"><span class="pre">SubVector</span></code></a>/<a class="reference internal" href="#kaldi.matrix.SubMatrix" title="kaldi.matrix.SubMatrix"><code class="xref py py-class docutils literal"><span class="pre">SubMatrix</span></code></a> instance.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">All mutating vector/matrix methods are marked with an underscore suffix.
These methods overwrite the contents and return the resulting object,
unless they have other return values, to support method chaining.</p>
</div>
<p class="rubric">Functions</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#kaldi.matrix.set_printoptions" title="kaldi.matrix.set_printoptions"><code class="xref py py-obj docutils literal"><span class="pre">set_printoptions</span></code></a></td>
<td>Set options for printing.</td>
</tr>
</tbody>
</table>
<p class="rubric">Classes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><code class="xref py py-obj docutils literal"><span class="pre">DoubleMatrix</span></code></a></td>
<td>Double precision matrix.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#kaldi.matrix.DoubleSubMatrix" title="kaldi.matrix.DoubleSubMatrix"><code class="xref py py-obj docutils literal"><span class="pre">DoubleSubMatrix</span></code></a></td>
<td>Double precision matrix view.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#kaldi.matrix.DoubleSubVector" title="kaldi.matrix.DoubleSubVector"><code class="xref py py-obj docutils literal"><span class="pre">DoubleSubVector</span></code></a></td>
<td>Double precision vector view.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><code class="xref py py-obj docutils literal"><span class="pre">DoubleVector</span></code></a></td>
<td>Double precision vector.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><code class="xref py py-obj docutils literal"><span class="pre">Matrix</span></code></a></td>
<td>Single precision matrix.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#kaldi.matrix.SubMatrix" title="kaldi.matrix.SubMatrix"><code class="xref py py-obj docutils literal"><span class="pre">SubMatrix</span></code></a></td>
<td>Single precision matrix view.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#kaldi.matrix.SubVector" title="kaldi.matrix.SubVector"><code class="xref py py-obj docutils literal"><span class="pre">SubVector</span></code></a></td>
<td>Single precision vector view.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><code class="xref py py-obj docutils literal"><span class="pre">Vector</span></code></a></td>
<td>Single precision vector.</td>
</tr>
</tbody>
</table>
<dl class="class">
<dt id="kaldi.matrix.DoubleMatrix">
<em class="property">class </em><code class="descclassname">kaldi.matrix.</code><code class="descname">DoubleMatrix</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/kaldi/matrix.html#DoubleMatrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#kaldi.matrix.DoubleMatrix" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Double precision matrix.</p>
<dl class="docutils">
<dt>DoubleMatrix():</dt>
<dd>Creates an empty matrix.</dd>
<dt>DoubleMatrix(num_rows: int, num_cols: int):</dt>
<dd>Creates a new matrix of given size and fills it with zeros.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>num_rows</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â Number of rows of the new matrix.</li>
<li><strong>num_cols</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â Number of cols of the new matrix.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>DoubleMatrix(obj: matrix_like):</dt>
<dd>Creates a new matrix with the elements in obj.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>obj</strong> (<em>matrix_like</em>) â A matrix, a 2-D numpy array, any object exposing
a 2-D array interface, an object with an __array__ method
returning a 2-D numpy array, or any (nested) sequence that can
be interpreted as a matrix.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.add_">
<code class="descname">add_</code><span class="sig-paren">(</span><em>alpha:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.add_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds a scalar to each element of the matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar to add.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.add_cols_">
<code class="descname">add_cols_</code><span class="sig-paren">(</span><em>src</em>, <em>indices</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.add_cols_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds columns from another matrix.</p>
<p>Adds column <code class="xref py py-obj docutils literal"><span class="pre">indices[r]</span></code> of <code class="xref py py-obj docutils literal"><span class="pre">src</span></code> to column <code class="xref py py-obj docutils literal"><span class="pre">r</span></code>. As a special case, if
<code class="xref py py-obj docutils literal"><span class="pre">indexes[i]</span> <span class="pre">==</span> <span class="pre">-1</span></code>, skips column <code class="xref py py-obj docutils literal"><span class="pre">i</span></code>. All elements of indices must be in
<code class="xref py py-obj docutils literal"><span class="pre">[-1,</span> <span class="pre">src.num_cols-1]</span></code>, and <code class="xref py py-obj docutils literal"><span class="pre">src.num_rows</span></code> must equal <code class="xref py py-obj docutils literal"><span class="pre">self.num_rows</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>src</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The input matrix.</li>
<li><strong>indices</strong> (<em>List</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>]</em>) â The list of column indices.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.add_diag_vec_mat_">
<code class="descname">add_diag_vec_mat_</code><span class="sig-paren">(</span><em>alpha:float</em>, <em>v:DoubleVectorBase</em>, <em>M:DoubleMatrixBase</em>, <em>transM:MatrixTransposeType</em>, <em>beta:float=default</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.add_diag_vec_mat_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds given matrix to this one after scaling its rows.</p>
<p>Perform the operation <span class="math">\(S = \alpha\ diag(v)\ M + \beta\ S\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for <span class="math">\(diag(v) M\)</span>.</li>
<li><strong>v</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a>) â The scaling vector.</li>
<li><strong>M</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The input matrix.</li>
<li><strong>transM</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixTransposeType" title="kaldi.matrix.common.MatrixTransposeType"><em>MatrixTransposeType</em></a>) â Whether to use <strong>M</strong> or its transpose.
Defaults to <code class="docutils literal"><span class="pre">MatrixTransposeType.NO_TRANS</span></code>.</li>
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the destination matrix.
Defaults to <code class="docutils literal"><span class="pre">1.0</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.add_mat_">
<code class="descname">add_mat_</code><span class="sig-paren">(</span><em>alpha</em>, <em>M</em>, <em>trans=&lt;MatrixTransposeType.NO_TRANS: 111&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.add_mat_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds another matrix to this one.</p>
<p>Performs the operation <span class="math">\(S = \alpha\ M + S\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier.</li>
<li><strong>M</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.SpMatrix" title="kaldi.matrix.packed.SpMatrix"><em>SpMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.DoubleSpMatrix" title="kaldi.matrix.packed.DoubleSpMatrix"><em>DoubleSpMatrix</em></a>) â The input matrix.</li>
<li><strong>trans</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixTransposeType" title="kaldi.matrix.common.MatrixTransposeType"><em>MatrixTransposeType</em></a>) â Whether to use <strong>M</strong> or its transpose.
Defaults to <code class="docutils literal"><span class="pre">MatrixTransposeType.NO_TRANS</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.add_mat_diag_vec_">
<code class="descname">add_mat_diag_vec_</code><span class="sig-paren">(</span><em>alpha:float</em>, <em>M:DoubleMatrixBase</em>, <em>transM:MatrixTransposeType</em>, <em>v:DoubleVectorBase</em>, <em>beta:float=default</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.add_mat_diag_vec_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds given matrix to this one after scaling its columns.</p>
<p>Perform the operation <span class="math">\(S = \alpha\ M\ diag(v) + \beta\ S\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for <span class="math">\(M\ diag(v)\)</span>.</li>
<li><strong>M</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The input matrix.</li>
<li><strong>transM</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixTransposeType" title="kaldi.matrix.common.MatrixTransposeType"><em>MatrixTransposeType</em></a>) â Whether to use <strong>M</strong> or its transpose.
Defaults to <code class="docutils literal"><span class="pre">MatrixTransposeType.NO_TRANS</span></code>.</li>
<li><strong>v</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a>) â The scaling vector.</li>
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the destination matrix.
Defaults to <code class="docutils literal"><span class="pre">1.0</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.add_mat_mat_">
<code class="descname">add_mat_mat_</code><span class="sig-paren">(</span><em>A</em>, <em>B</em>, <em>transA=&lt;MatrixTransposeType.NO_TRANS: 111&gt;</em>, <em>transB=&lt;MatrixTransposeType.NO_TRANS: 111&gt;</em>, <em>alpha=1.0</em>, <em>beta=1.0</em>, <em>sparseA=False</em>, <em>sparseB=False</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.add_mat_mat_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds the product of given matrices.</p>
<p>Performs the operation <span class="math">\(M = \alpha\ A\ B + \beta\ M\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>A</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.DoubleTpMatrix" title="kaldi.matrix.packed.DoubleTpMatrix"><em>DoubleTpMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.DoubleSpMatrix" title="kaldi.matrix.packed.DoubleSpMatrix"><em>DoubleSpMatrix</em></a>) â The first input matrix.</li>
<li><strong>B</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.DoubleTpMatrix" title="kaldi.matrix.packed.DoubleTpMatrix"><em>DoubleTpMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.DoubleSpMatrix" title="kaldi.matrix.packed.DoubleSpMatrix"><em>DoubleSpMatrix</em></a>) â The second input matrix.</li>
<li><strong>transA</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixTransposeType" title="kaldi.matrix.common.MatrixTransposeType"><em>MatrixTransposeType</em></a>) â Whether to use <strong>A</strong> or its transpose.
Defaults to <code class="docutils literal"><span class="pre">MatrixTransposeType.NO_TRANS</span></code>.</li>
<li><strong>transB</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixTransposeType" title="kaldi.matrix.common.MatrixTransposeType"><em>MatrixTransposeType</em></a>) â Whether to use <strong>B</strong> or its transpose.
Defaults to <code class="docutils literal"><span class="pre">MatrixTransposeType.NO_TRANS</span></code>.</li>
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the product.
Defaults to <code class="docutils literal"><span class="pre">1.0</span></code>.</li>
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the destination vector.
Defaults to <code class="docutils literal"><span class="pre">1.0</span></code>.</li>
<li><strong>sparseA</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) â Whether to use the algorithm that is faster when
<strong>A</strong> is sparse. Defaults to <code class="docutils literal"><span class="pre">False</span></code>.</li>
<li><strong>sparseA</strong> â Whether to use the algorithm that is faster when
<strong>B</strong> is sparse. Defaults to <code class="docutils literal"><span class="pre">False</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</li>
<li><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">TypeError</span></code></a> â If matrices of given types can not be multiplied.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.add_mat_mat_elements_">
<code class="descname">add_mat_mat_elements_</code><span class="sig-paren">(</span><em>alpha:float</em>, <em>A:DoubleMatrixBase</em>, <em>B:DoubleMatrixBase</em>, <em>beta:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.add_mat_mat_elements_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds the element-wise multiplication of given matrices to this one.</p>
<p>Performs the operation <span class="math">\(S = \alpha\ A\odot B + \beta\ S\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for <span class="math">\(A \odot B\)</span>.</li>
<li><strong>A</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The first input matrix.</li>
<li><strong>B</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The second input matrix.</li>
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the destination matrix.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.add_mat_mat_mat_">
<code class="descname">add_mat_mat_mat_</code><span class="sig-paren">(</span><em>alpha:float</em>, <em>A:DoubleMatrixBase</em>, <em>transA:MatrixTransposeType</em>, <em>B:DoubleMatrixBase</em>, <em>transB:MatrixTransposeType</em>, <em>C:DoubleMatrixBase</em>, <em>transC:MatrixTransposeType</em>, <em>beta:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.add_mat_mat_mat_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds the product of three matrices to this one.</p>
<p>Performs the operation <span class="math">\(S = \alpha\ A\ B\ C + \beta\ S\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for <span class="math">\(A\ B\ C\)</span>.</li>
<li><strong>A</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The first input matrix.</li>
<li><strong>transA</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixTransposeType" title="kaldi.matrix.common.MatrixTransposeType"><em>MatrixTransposeType</em></a>) â Whether to use <strong>A</strong> or its transpose.</li>
<li><strong>B</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The second input matrix.</li>
<li><strong>transB</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixTransposeType" title="kaldi.matrix.common.MatrixTransposeType"><em>MatrixTransposeType</em></a>) â Whether to use <strong>B</strong> or its transpose.</li>
<li><strong>C</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The third input matrix.</li>
<li><strong>transC</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixTransposeType" title="kaldi.matrix.common.MatrixTransposeType"><em>MatrixTransposeType</em></a>) â Whether to use <strong>C</strong> or its transpose.</li>
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the destination matrix.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.add_rows_">
<code class="descname">add_rows_</code><span class="sig-paren">(</span><em>src</em>, <em>indices</em>, <em>alpha=1.0</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.add_rows_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds rows from another matrix.</p>
<p>Scales row <code class="xref py py-obj docutils literal"><span class="pre">indices[r]</span></code> of <code class="xref py py-obj docutils literal"><span class="pre">src</span></code> with <code class="xref py py-obj docutils literal"><span class="pre">alpha</span></code> and adds it to row <code class="xref py py-obj docutils literal"><span class="pre">r</span></code>. As
a special case, if <code class="xref py py-obj docutils literal"><span class="pre">indexes[i]</span> <span class="pre">==</span> <span class="pre">-1</span></code>, skips row <code class="xref py py-obj docutils literal"><span class="pre">i</span></code>. All elements of
indices must be in <code class="xref py py-obj docutils literal"><span class="pre">[-1,</span> <span class="pre">src.num_rows-1]</span></code>, and <code class="xref py py-obj docutils literal"><span class="pre">src.num_cols</span></code> must equal
<code class="xref py py-obj docutils literal"><span class="pre">self.num_cols</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>src</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The input matrix.</li>
<li><strong>indices</strong> (<em>List</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>]</em>) â The list of row indices.</li>
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier. Defaults to <code class="xref py py-obj docutils literal"><span class="pre">1.0</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.add_to_diag_">
<code class="descname">add_to_diag_</code><span class="sig-paren">(</span><em>alpha:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.add_to_diag_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds a scalar to the diagonal elements of the matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar to add.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.add_vec_to_cols_">
<code class="descname">add_vec_to_cols_</code><span class="sig-paren">(</span><em>alpha:float</em>, <em>v:DoubleVectorBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.add_vec_to_cols_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds input vector to each column of this matrix.</p>
<p>Performs the operation <span class="math">\(M_{ij} = M_{ij} + \alpha\ v_{i}\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier.</li>
<li><strong>v</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a>) â The input vector.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.add_vec_to_rows_">
<code class="descname">add_vec_to_rows_</code><span class="sig-paren">(</span><em>alpha:float</em>, <em>v:DoubleVectorBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.add_vec_to_rows_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds input vector to each row of this matrix.</p>
<p>Performs the operation <span class="math">\(M_{ij} = M_{ij} + \alpha\ v_{j}\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier.</li>
<li><strong>v</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a>) â The input vector.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.add_vec_vec_">
<code class="descname">add_vec_vec_</code><span class="sig-paren">(</span><em>alpha:float</em>, <em>a:DoubleVectorBase</em>, <em>b:DoubleVectorBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.add_vec_vec_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds outer product of input vectors to this matrix.</p>
<p>Performs the operation <span class="math">\(M = M + \alpha\ a \ b^T\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier.</li>
<li><strong>a</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a>) â The first input vector.</li>
<li><strong>b</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a>) â The second input vector.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.apply_ceiling_">
<code class="descname">apply_ceiling_</code><span class="sig-paren">(</span><em>ceiling:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.apply_ceiling_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies ceiling operation to each element.</p>
<p>Performs the operation <code class="xref py py-obj docutils literal"><span class="pre">M[i,j]</span> <span class="pre">=</span> <span class="pre">min(M[i,j],</span> <span class="pre">ceiling)</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>ceiling</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The ceiling value.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The number of elements changed.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.apply_exp_">
<code class="descname">apply_exp_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.apply_exp_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies exponential operation to each element.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.apply_floor_">
<code class="descname">apply_floor_</code><span class="sig-paren">(</span><em>floor:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.apply_floor_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies floor operation to each element.</p>
<p>Performs the operation <code class="xref py py-obj docutils literal"><span class="pre">M[i,j]</span> <span class="pre">=</span> <span class="pre">max(M[i,j],</span> <span class="pre">floor)</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>floor</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The floor value.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The number of elements changed.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.apply_heaviside_">
<code class="descname">apply_heaviside_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.apply_heaviside_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies the Heaviside step function to each element.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.apply_log_">
<code class="descname">apply_log_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.apply_log_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies natural log operation to each element.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.apply_pow_">
<code class="descname">apply_pow_</code><span class="sig-paren">(</span><em>power:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.apply_pow_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Takes each element to the given power.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>power</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The exponent value.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â If an element cannot be raised to the given power.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.apply_pow_abs_">
<code class="descname">apply_pow_abs_</code><span class="sig-paren">(</span><em>power:float</em>, <em>include_sign:bool=default</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.apply_pow_abs_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Takes the absolute value of each element raised to the given power.</p>
<p>If the power is negative and the input is zero, the output is zero.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>power</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The power value.</li>
<li><strong>include_sign</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) â Whether to include the sign of the input value.
Defaults to <code class="docutils literal"><span class="pre">False</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â If an element cannot be raised to the given power.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.apply_softmax_">
<code class="descname">apply_softmax_</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.DoubleMatrix.apply_softmax_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies the softmax operation to each element.</p>
<p>Performs the operation
<span class="math">\(M_{i,j} = \frac{\exp(M_{i,j})}{\sum_{k,j} \exp(M_{k,j})}\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><span class="math">\(\log(\sum_{k,j} \exp(M_{k,j}))\)</span>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.approx_equal">
<code class="descname">approx_equal</code><span class="sig-paren">(</span><em>other</em>, <em>tol=0.01</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.approx_equal" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Checks if matrices are approximately equal.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>other</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The matrix to compare against.</li>
<li><strong>tol</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The tolerance for the equality check.
Defaults to <code class="docutils literal"><span class="pre">0.01</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">True if <code class="xref py py-obj docutils literal"><span class="pre">self.size()</span> <span class="pre">==</span> <span class="pre">other.size()</span></code> and
<code class="xref py py-obj docutils literal"><span class="pre">||self-other||</span> <span class="pre">&lt;=</span> <span class="pre">tol*||self||</span></code>. False otherwise.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.clone">
<code class="descname">clone</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.clone" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Clones the matrix.</p>
<p>The clone allocates new memory for its contents and supports matrix
operations that reallocate memory, i.e. it is not a view.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A copy of the matrix.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix">DoubleMatrix</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.col_range">
<code class="descname">col_range</code><span class="sig-paren">(</span><em>col_start</em>, <em>num_cols</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.col_range" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the given range of columns as a new matrix view.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>col_start</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The start column index.</li>
<li><strong>num_cols</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The number of columns.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A matrix view representing the given column range.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#kaldi.matrix.DoubleSubMatrix" title="kaldi.matrix.DoubleSubMatrix">DoubleSubMatrix</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.cond">
<code class="descname">cond</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.DoubleMatrix.cond" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the condition number of the SVD computation.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.copy_">
<code class="descname">copy_</code><span class="sig-paren">(</span><em>src</em>, <em>trans=&lt;MatrixTransposeType.NO_TRANS: 111&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.copy_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies the elements from another matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>src</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.SpMatrix" title="kaldi.matrix.packed.SpMatrix"><em>SpMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.TpMatrix" title="kaldi.matrix.packed.TpMatrix"><em>TpMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.DoubleSpMatrix" title="kaldi.matrix.packed.DoubleSpMatrix"><em>DoubleSpMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.DoubleTpMatrix" title="kaldi.matrix.packed.DoubleTpMatrix"><em>DoubleTpMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.compressed.CompressedMatrix" title="kaldi.matrix.compressed.CompressedMatrix"><em>CompressedMatrix</em></a>) â The input matrix.</li>
<li><strong>trans</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixTransposeType" title="kaldi.matrix.common.MatrixTransposeType"><em>MatrixTransposeType</em></a>) â Whether to use <strong>src</strong> or its transpose.
Defaults to <code class="docutils literal"><span class="pre">MatrixTransposeType.NO_TRANS</span></code>. Not active if
input is a compressed matrix.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.copy_col_from_vec_">
<code class="descname">copy_col_from_vec_</code><span class="sig-paren">(</span><em>v:DoubleVectorBase</em>, <em>col:int</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.copy_col_from_vec_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies a vector into the specified column.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>v</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a>) â The input vector.</li>
<li><strong>col</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The column index.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.copy_cols_">
<code class="descname">copy_cols_</code><span class="sig-paren">(</span><em>src</em>, <em>indices</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.copy_cols_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies columns from another matrix.</p>
<p>Copies column <code class="xref py py-obj docutils literal"><span class="pre">r</span></code> from column <code class="xref py py-obj docutils literal"><span class="pre">indices[r]</span></code> of <code class="xref py py-obj docutils literal"><span class="pre">src</span></code>. As a special case,
if <code class="xref py py-obj docutils literal"><span class="pre">indexes[i]</span> <span class="pre">==</span> <span class="pre">-1</span></code>, sets column <code class="xref py py-obj docutils literal"><span class="pre">i</span></code> to zero. All elements of indices
must be in <code class="xref py py-obj docutils literal"><span class="pre">[-1,</span> <span class="pre">src.num_cols-1]</span></code>, and <code class="xref py py-obj docutils literal"><span class="pre">src.num_rows</span></code> must equal
<code class="xref py py-obj docutils literal"><span class="pre">self.num_rows</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>src</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The input matrix.</li>
<li><strong>indices</strong> (<em>List</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>]</em>) â The list of column indices.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.copy_cols_from_vec_">
<code class="descname">copy_cols_from_vec_</code><span class="sig-paren">(</span><em>v:DoubleVectorBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.copy_cols_from_vec_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies column elements from a vector.</p>
<p>This method has two modes of operation. If the number of elements in
<code class="xref py py-obj docutils literal"><span class="pre">self</span></code> and <code class="xref py py-obj docutils literal"><span class="pre">v</span></code> are the same, then elements of <code class="xref py py-obj docutils literal"><span class="pre">v</span></code> are copied into
<code class="xref py py-obj docutils literal"><span class="pre">self</span></code> column by column. If the number of elements in <code class="xref py py-obj docutils literal"><span class="pre">v</span></code> is equal to
<code class="xref py py-obj docutils literal"><span class="pre">self.num_rows</span></code>, then the elements of <code class="xref py py-obj docutils literal"><span class="pre">v</span></code> are copied into each column
of <code class="xref py py-obj docutils literal"><span class="pre">self</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>v</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a>) â The input vector.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.copy_diag_from_vec_">
<code class="descname">copy_diag_from_vec_</code><span class="sig-paren">(</span><em>v:DoubleVectorBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.copy_diag_from_vec_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies a vector into the diagonal.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>v</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a>) â The input vector.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.copy_lower_to_upper_">
<code class="descname">copy_lower_to_upper_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.copy_lower_to_upper_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies lower triangle to upper triangle.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â If matrix is not square.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.copy_row_from_vec_">
<code class="descname">copy_row_from_vec_</code><span class="sig-paren">(</span><em>v:DoubleVectorBase</em>, <em>row:int</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.copy_row_from_vec_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies a vector into the specified row.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>v</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a>) â The input vector.</li>
<li><strong>row</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The row index.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.copy_rows_">
<code class="descname">copy_rows_</code><span class="sig-paren">(</span><em>src</em>, <em>indices</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.copy_rows_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies rows from another matrix.</p>
<p>Copies row <code class="xref py py-obj docutils literal"><span class="pre">r</span></code> from row <code class="xref py py-obj docutils literal"><span class="pre">indices[r]</span></code> of <code class="xref py py-obj docutils literal"><span class="pre">src</span></code>. As a special case, if
<code class="xref py py-obj docutils literal"><span class="pre">indexes[i]</span> <span class="pre">==</span> <span class="pre">-1</span></code>, sets row <code class="xref py py-obj docutils literal"><span class="pre">i</span></code> to zero. All elements of indices must
be in <code class="xref py py-obj docutils literal"><span class="pre">[-1,</span> <span class="pre">src.num_rows-1]</span></code>, and <code class="xref py py-obj docutils literal"><span class="pre">src.num_cols</span></code> must equal
<code class="xref py py-obj docutils literal"><span class="pre">self.num_cols</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>src</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The input matrix.</li>
<li><strong>indices</strong> (<em>List</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>]</em>) â The list of row indices.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.copy_rows_from_vec_">
<code class="descname">copy_rows_from_vec_</code><span class="sig-paren">(</span><em>v:DoubleVectorBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.copy_rows_from_vec_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies row elements from a vector.</p>
<p>This method has two modes of operation. If the number of elements in
<code class="xref py py-obj docutils literal"><span class="pre">self</span></code> and <code class="xref py py-obj docutils literal"><span class="pre">v</span></code> are the same, then elements of <code class="xref py py-obj docutils literal"><span class="pre">v</span></code> are copied into
<code class="xref py py-obj docutils literal"><span class="pre">self</span></code> row by row. If the number of elements in <code class="xref py py-obj docutils literal"><span class="pre">v</span></code> is equal to
<code class="xref py py-obj docutils literal"><span class="pre">self.num_cols</span></code>, then the elements of <code class="xref py py-obj docutils literal"><span class="pre">v</span></code> are copied into each row of
<code class="xref py py-obj docutils literal"><span class="pre">self</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>v</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a>) â The input vector.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.copy_upper_to_lower_">
<code class="descname">copy_upper_to_lower_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.copy_upper_to_lower_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies upper triangle to lower triangle.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â If matrix is not square.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.DoubleMatrix.data">
<code class="descname">data</code><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.data" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Matrix data as a memoryview.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.diff_sigmoid_">
<code class="descname">diff_sigmoid_</code><span class="sig-paren">(</span><em>value:DoubleMatrixBase</em>, <em>diff:DoubleMatrixBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.diff_sigmoid_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Backpropagates derivatives through the sigmoid function.</p>
<p>Performs the operation
<code class="xref py py-obj docutils literal"><span class="pre">M[i,j]</span> <span class="pre">=</span> <span class="pre">diff[i,j]</span> <span class="pre">*</span> <span class="pre">value[i,j]</span> <span class="pre">*</span> <span class="pre">(1</span> <span class="pre">-</span> <span class="pre">value[i,j])</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>value</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The activations.</li>
<li><strong>diff</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The derivatives.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.diff_tanh_">
<code class="descname">diff_tanh_</code><span class="sig-paren">(</span><em>value:DoubleMatrixBase</em>, <em>diff:DoubleMatrixBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.diff_tanh_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Backpropagates derivatives through the tanh function.</p>
<p>Performs the operation <code class="xref py py-obj docutils literal"><span class="pre">M[i,j]</span> <span class="pre">=</span> <span class="pre">diff[i,j]</span> <span class="pre">*</span> <span class="pre">(1</span> <span class="pre">-</span> <span class="pre">value[i,j]^2)</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>value</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The activations.</li>
<li><strong>diff</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The derivatives.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.div_elements_">
<code class="descname">div_elements_</code><span class="sig-paren">(</span><em>A:DoubleMatrixBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.div_elements_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Divides element-wise with another matrix.</p>
<p>Performs the operation <code class="xref py py-obj docutils literal"><span class="pre">M</span> <span class="pre">=</span> <span class="pre">M</span> <span class="pre">oslash</span> <span class="pre">A</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>A</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The denominator.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.eig">
<code class="descname">eig</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.eig" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Computes eigendecomposition.</p>
<p>Factorizes a square matrix into <span class="math">\(P\ D\ P^{-1}\)</span>.</p>
<p>The relationship of <span class="math">\(D\)</span> to the eigenvalues is slightly
complicated, due to the need for <span class="math">\(P\)</span> to be real. In the symmetric
case, <span class="math">\(D\)</span> is diagonal and real, but in the non-symmetric case
there may be complex-conjugate pairs of eigenvalues. In this case, for
the equation <span class="math">\(y = P\ D\ P^{-1}\)</span> to hold, <span class="math">\(D\)</span> must actually
be block diagonal, with 2x2 blocks corresponding to any such pairs. If a
pair is <span class="math">\(\lambda +- i\mu\)</span>, <span class="math">\(D\)</span> will have a corresponding
2x2 block <span class="math">\([\lambda, \mu; -\mu, \lambda]\)</span>. Note that if the
matrix is not invertible, <span class="math">\(P\)</span> may not be invertible so in this
case instead of the equation <span class="math">\(y = P\ D\ P^{-1}\)</span> holding, we have
<span class="math">\(y\ P = P\ D\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">3-element tuple containing<ul class="simple">
<li><strong>P</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><code class="xref py py-class docutils literal"><span class="pre">DoubleMatrix</span></code></a>): The eigenvector matrix, where ith
column corresponds to the ith eigenvector.</li>
<li><strong>r</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><code class="xref py py-class docutils literal"><span class="pre">DoubleVector</span></code></a>): The vector with real components of
the eigenvalues.</li>
<li><strong>i</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><code class="xref py py-class docutils literal"><span class="pre">DoubleVector</span></code></a>): The vector with imaginary
components of the eigenvalues.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> â If the matrix is not square.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.equal">
<code class="descname">equal</code><span class="sig-paren">(</span><em>other:DoubleMatrixBase</em><span class="sig-paren">)</span> &#x2192; bool<a class="headerlink" href="#kaldi.matrix.DoubleMatrix.equal" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Checks if matrices are exactly equal.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>other</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The matrix to check against</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if <code class="xref py py-obj docutils literal"><span class="pre">self[i,j]</span> <span class="pre">==</span> <span class="pre">other[i,j]`</span></code> for all <code class="xref py py-obj docutils literal"><span class="pre">i,j</span></code>. False otherwise.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.frobenius_norm">
<code class="descname">frobenius_norm</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.DoubleMatrix.frobenius_norm" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the Frobenius norm of the matrix</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.from_matrix">
<code class="descname">from_matrix</code><span class="sig-paren">(</span><em>M:DoubleMatrixBase</em>, <em>trans:MatrixTransposeType=default</em><span class="sig-paren">)</span> &#x2192; DoubleMatrix<a class="headerlink" href="#kaldi.matrix.DoubleMatrix.from_matrix" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Creates a new matrix from a given matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>M</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The input matrix.</li>
<li><strong>trans</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixTransposeType" title="kaldi.matrix.common.MatrixTransposeType"><em>MatrixTransposeType</em></a>) â Whether to use <strong>M</strong> or its transpose.
Defaults to <code class="docutils literal"><span class="pre">MatrixTransposeType.NO_TRANS</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.from_size">
<code class="descname">from_size</code><span class="sig-paren">(</span><em>r:int</em>, <em>c:int</em>, <em>resize_type:MatrixResizeType=default</em>, <em>stride_type:MatrixStrideType=default</em><span class="sig-paren">)</span> &#x2192; DoubleMatrix<a class="headerlink" href="#kaldi.matrix.DoubleMatrix.from_size" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Creates a new matrix of given size.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>r</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The number or rows.</li>
<li><strong>c</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The number or columns.</li>
<li><strong>resize_type</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixResizeType" title="kaldi.matrix.common.MatrixResizeType"><em>MatrixResizeType</em></a>) â How to initialize the elements.
If <code class="docutils literal"><span class="pre">MatrixResizeType.SET_ZERO</span></code> or <code class="docutils literal"><span class="pre">MatrixResizeType.COPY_DATA</span></code>,
they are set to zero. If <code class="docutils literal"><span class="pre">MatrixResizeType.UNDEFINED</span></code>, they are
left uninitialized. Defaults to <code class="docutils literal"><span class="pre">MatrixResizeType.SET_ZERO</span></code>.</li>
<li><strong>stride_type</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixStrideType" title="kaldi.matrix.common.MatrixStrideType"><em>MatrixStrideType</em></a>) â Determines how the elements are laid
out in memory. If <code class="docutils literal"><span class="pre">MatrixStrideType.STRIDE_EQUAL_NUM_COLS</span></code>, the
stride is equal to the number of columns. If
<code class="docutils literal"><span class="pre">MatrixStrideType.DEFAULT_STRIDE</span></code>, the stride is equal to the
smallest multiple of 16 that is larger than the number of columns.
Defaults to <code class="docutils literal"><span class="pre">MatrixStrideType.DEFAULT_STRIDE</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.group_max_">
<code class="descname">group_max_</code><span class="sig-paren">(</span><em>src:DoubleMatrixBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.group_max_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Computes group max of elements in another matrix.</p>
<p>Performs the operation <code class="xref py py-obj docutils literal"><span class="pre">self[i,j]</span> <span class="pre">=</span> <span class="pre">max(src[i,j*gs:(j+1)*gs])</span></code>
where <code class="xref py py-obj docutils literal"><span class="pre">gs</span> <span class="pre">=</span> <span class="pre">src.num_cols</span> <span class="pre">/</span> <span class="pre">self.num_cols</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>src</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The source matrix.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â If <code class="xref py py-obj docutils literal"><span class="pre">src.num_rows</span> <span class="pre">!=</span> <span class="pre">self.num_rows</span></code>
or <code class="xref py py-obj docutils literal"><span class="pre">src.num_rows</span> <span class="pre">%</span> <span class="pre">self.num_rows</span> <span class="pre">!=</span> <span class="pre">0</span></code>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.group_max_deriv_">
<code class="descname">group_max_deriv_</code><span class="sig-paren">(</span><em>input:DoubleMatrixBase</em>, <em>output:DoubleMatrixBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.group_max_deriv_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Computes derivatives for the group max operation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>input</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The input to group max operation (src in
<a class="reference internal" href="#kaldi.matrix.DoubleMatrix.group_max_" title="kaldi.matrix.DoubleMatrix.group_max_"><code class="xref py py-meth docutils literal"><span class="pre">group_max_()</span></code></a>).</li>
<li><strong>output</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The output of group max operation.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.group_pnorm_">
<code class="descname">group_pnorm_</code><span class="sig-paren">(</span><em>src:DoubleMatrixBase</em>, <em>power:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.group_pnorm_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Computes group p-norm of elements in another matrix.</p>
<p>Performs the operation <code class="xref py py-obj docutils literal"><span class="pre">self[i,j]</span> <span class="pre">=</span> <span class="pre">norm(src[i,j*gs:(j+1)*gs],</span> <span class="pre">power)</span></code>
where <code class="xref py py-obj docutils literal"><span class="pre">gs</span> <span class="pre">=</span> <span class="pre">src.num_cols</span> <span class="pre">/</span> <span class="pre">self.num_cols</span></code></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>src</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The source matrix.</li>
<li><strong>power</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The p value for p-norm. It must be non-negative.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â If <code class="xref py py-obj docutils literal"><span class="pre">src.num_rows</span> <span class="pre">!=</span> <span class="pre">self.num_rows</span></code>
or <code class="xref py py-obj docutils literal"><span class="pre">src.num_rows</span> <span class="pre">%</span> <span class="pre">self.num_rows</span> <span class="pre">!=</span> <span class="pre">0</span></code>.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.group_pnorm_deriv_">
<code class="descname">group_pnorm_deriv_</code><span class="sig-paren">(</span><em>input:DoubleMatrixBase</em>, <em>output:DoubleMatrixBase</em>, <em>power:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.group_pnorm_deriv_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Computes derivatives for the group p-norm operation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>input</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The input to group p-norm operation (src in
<a class="reference internal" href="#kaldi.matrix.DoubleMatrix.group_pnorm_" title="kaldi.matrix.DoubleMatrix.group_pnorm_"><code class="xref py py-meth docutils literal"><span class="pre">group_pnorm_()</span></code></a>).</li>
<li><strong>output</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The output of group p-norm operation.</li>
<li><strong>power</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The p value for p-norm. It must be non-negative.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.heaviside_">
<code class="descname">heaviside_</code><span class="sig-paren">(</span><em>src:DoubleMatrixBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.heaviside_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies Heaviside step function to elements of another matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>src</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The source matrix.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.invert_">
<code class="descname">invert_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.invert_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Inverts the matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">2-element tuple containing<ul class="simple">
<li><strong>log_det</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><code class="xref py py-class docutils literal"><span class="pre">float</span></code></a>): The log determinant.</li>
<li><strong>det_sign</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><code class="xref py py-class docutils literal"><span class="pre">float</span></code></a>): The sign of the determinant, 1 or -1.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â If matrix is not square.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.invert_elements_">
<code class="descname">invert_elements_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.invert_elements_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Inverts the elements.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.is_diagonal">
<code class="descname">is_diagonal</code><span class="sig-paren">(</span><em>cutoff:float=default</em><span class="sig-paren">)</span> &#x2192; bool<a class="headerlink" href="#kaldi.matrix.DoubleMatrix.is_diagonal" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Checks if the matrix is approximately diagonal.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cutoff</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The cutoff value. Defaults to <code class="docutils literal"><span class="pre">1.0e-05</span></code>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if <code class="xref py py-obj docutils literal"><span class="pre">sum(digonal_elements)*cutoff</span> <span class="pre">&gt;</span> <span class="pre">sum(nondiagonal_elements)</span></code>.
False otherwise.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.is_symmetric">
<code class="descname">is_symmetric</code><span class="sig-paren">(</span><em>cutoff:float=default</em><span class="sig-paren">)</span> &#x2192; bool<a class="headerlink" href="#kaldi.matrix.DoubleMatrix.is_symmetric" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Checks if the matrix is approximately symmetric.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cutoff</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The cutoff value. Defaults to <code class="docutils literal"><span class="pre">1.0e-05</span></code>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if the matrix is approximately symmetric. False otherwise.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.is_unit">
<code class="descname">is_unit</code><span class="sig-paren">(</span><em>cutoff:float=default</em><span class="sig-paren">)</span> &#x2192; bool<a class="headerlink" href="#kaldi.matrix.DoubleMatrix.is_unit" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Checks if the matrix is identity-like.</p>
<p>Checks if <code class="xref py py-obj docutils literal"><span class="pre">max(M</span> <span class="pre">-</span> <span class="pre">I)</span> <span class="pre">&lt;=</span> <span class="pre">cutoff</span></code> where <code class="xref py py-obj docutils literal"><span class="pre">I</span></code> is a matrix with the same
size as <code class="xref py py-obj docutils literal"><span class="pre">M</span></code>, ones on the diagonal and zeros elsewhere.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cutoff</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The cutoff value. Defaults to <code class="docutils literal"><span class="pre">1.0e-05</span></code>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if <code class="xref py py-obj docutils literal"><span class="pre">max(M</span> <span class="pre">-</span> <span class="pre">I)</span> <span class="pre">&lt;=</span> <span class="pre">cutoff</span></code>.</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The matrix does not have to be square.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.is_zero">
<code class="descname">is_zero</code><span class="sig-paren">(</span><em>cutoff:float=default</em><span class="sig-paren">)</span> &#x2192; bool<a class="headerlink" href="#kaldi.matrix.DoubleMatrix.is_zero" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Checks if the elements are all zeros.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cutoff</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The cutoff value. Defaults to <code class="docutils literal"><span class="pre">1.0e-05</span></code>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if <code class="xref py py-obj docutils literal"><span class="pre">max(abs(M))</span> <span class="pre">&lt;=</span> <span class="pre">cutoff</span></code>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.largest_abs_elem">
<code class="descname">largest_abs_elem</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.DoubleMatrix.largest_abs_elem" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the largest of the absolute values of the elements.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.log_det">
<code class="descname">log_det</code><span class="sig-paren">(</span><em>) -&gt; (log_det:float</em>, <em>det_sign:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.log_det" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Computes log determinant of the matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">2-element tuple containing<ul class="simple">
<li><strong>log_det</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><code class="xref py py-class docutils literal"><span class="pre">float</span></code></a>): The log determinant.</li>
<li><strong>det_sign</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><code class="xref py py-class docutils literal"><span class="pre">float</span></code></a>): The sign of the determinant, 1 or -1.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.log_sum_exp">
<code class="descname">log_sum_exp</code><span class="sig-paren">(</span><em>prune:float=default</em><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.DoubleMatrix.log_sum_exp" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Computes <span class="math">\(f(M)=\log(\sum_{i,j} \exp(M_{i,j}))\)</span> without exp overflow.</p>
<p>If <code class="xref py py-obj docutils literal"><span class="pre">prune</span> <span class="pre">&gt;</span> <span class="pre">0.0</span></code>, ignores terms less than <code class="xref py py-obj docutils literal"><span class="pre">max(M)</span> <span class="pre">-</span> <span class="pre">prune</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>prune</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The pruning beam. Defaults to <code class="xref py py-obj docutils literal"><span class="pre">-1.0</span></code>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><span class="math">\(\log(\sum_{i,j} \exp(M_{i,j}))\)</span>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.max">
<code class="descname">max</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.DoubleMatrix.max" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the maximum value in the matrix.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.max_with_mat_">
<code class="descname">max_with_mat_</code><span class="sig-paren">(</span><em>A:DoubleMatrixBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.max_with_mat_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies an element-wise max operation.</p>
<p>Performs the operation <code class="xref py py-obj docutils literal"><span class="pre">M[i,j]</span> <span class="pre">=</span> <span class="pre">max(M[i,j],</span> <span class="pre">A[i,j])</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>A</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The input matrix.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.min">
<code class="descname">min</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.DoubleMatrix.min" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the minimum value in the matrix.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.min_singular_value">
<code class="descname">min_singular_value</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.DoubleMatrix.min_singular_value" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the smallest singular value.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.min_with_mat_">
<code class="descname">min_with_mat_</code><span class="sig-paren">(</span><em>A:DoubleMatrixBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.min_with_mat_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies an element-wise min operation.</p>
<p>Performs the operation <code class="xref py py-obj docutils literal"><span class="pre">M[i,j]</span> <span class="pre">=</span> <span class="pre">min(M[i,j],</span> <span class="pre">A[i,j])</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>A</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The input matrix.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.mul_cols_vec_">
<code class="descname">mul_cols_vec_</code><span class="sig-paren">(</span><em>scale:DoubleVectorBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.mul_cols_vec_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Scales columns with the elements in a vector.</p>
<p>Performs the operation <code class="xref py py-obj docutils literal"><span class="pre">M[i,j]</span> <span class="pre">=</span> <span class="pre">scale[j]</span> <span class="pre">*</span> <span class="pre">M[i,j]</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>scale</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a>) â The scaling vector.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.mul_elements_">
<code class="descname">mul_elements_</code><span class="sig-paren">(</span><em>A:DoubleMatrixBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.mul_elements_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Multiplies element-wise with another matrix.</p>
<p>Performs the operation <code class="xref py py-obj docutils literal"><span class="pre">M</span> <span class="pre">=</span> <span class="pre">M</span> <span class="pre">odot</span> <span class="pre">A</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>A</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The multiplier.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.mul_rows_group_mat_">
<code class="descname">mul_rows_group_mat_</code><span class="sig-paren">(</span><em>src:DoubleMatrixBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.mul_rows_group_mat_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Scales matrix with another matrix.</p>
<p>Divides each row of <code class="xref py py-obj docutils literal"><span class="pre">self</span></code> into <code class="xref py py-obj docutils literal"><span class="pre">src.num_cols</span></code> equal groups, and then
scales <code class="xref py py-obj docutils literal"><span class="pre">i`th</span> <span class="pre">row's</span> <span class="pre">`j`th</span> <span class="pre">group</span> <span class="pre">of</span> <span class="pre">elements</span> <span class="pre">with</span> <span class="pre">`src[i,j]</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>src</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The scaling matrix.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â If <code class="xref py py-obj docutils literal"><span class="pre">self.num_rows</span> <span class="pre">!=</span> <span class="pre">src.num_rows</span></code> or
<code class="xref py py-obj docutils literal"><span class="pre">self.num_cols</span> <span class="pre">%</span> <span class="pre">src.num_cols</span> <span class="pre">!=</span> <span class="pre">0</span></code>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.mul_rows_vec_">
<code class="descname">mul_rows_vec_</code><span class="sig-paren">(</span><em>scale:DoubleVectorBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.mul_rows_vec_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Scales rows with the elements in a vector.</p>
<p>Performs the operation <code class="xref py py-obj docutils literal"><span class="pre">M[i,j]</span> <span class="pre">=</span> <span class="pre">scale[i]</span> <span class="pre">*</span> <span class="pre">M[i,j]</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>scale</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a>) â The scaling vector.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.DoubleMatrix.num_cols">
<code class="descname">num_cols</code><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.num_cols" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Number of columns (zero for empty matrix).</p>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.DoubleMatrix.num_rows">
<code class="descname">num_rows</code><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.num_rows" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Number of rows (zero for empty matrix).</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.numpy">
<code class="descname">numpy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.numpy" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Converts the matrix to a 2-D NumPy array.</p>
<p>The NumPy array is a view into the matrix, i.e. no data is copied.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A NumPy array sharing data with this matrix.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)">numpy.ndarray</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.orthogonalize_rows_">
<code class="descname">orthogonalize_rows_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.orthogonalize_rows_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Orthogonalizes rows using the Gram-Schmidt process.</p>
<p>Uses random number generation to fill in rows with something non-zero,
in cases where the original matrix was of deficient row rank.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â If  self.num_rows &gt; self.num_cols`.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.power_">
<code class="descname">power_</code><span class="sig-paren">(</span><em>pow:float</em><span class="sig-paren">)</span> &#x2192; bool<a class="headerlink" href="#kaldi.matrix.DoubleMatrix.power_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Takes the matrix to the specified power.</p>
<p>This method uses an algorithm that works in general for fractional
and negative powers. The input matrix must be invertible and have a
reasonable condition number. The algorithm is based on eigenvalue
decomposition. It will return False and leave the matrix unchanged,
if the matrix has real negative eigenvalues (or if it has zero
eigenvalues and the power is negative).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>pow</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The exponent.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if the operation was successful.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.range">
<code class="descname">range</code><span class="sig-paren">(</span><em>row_start</em>, <em>num_rows</em>, <em>col_start</em>, <em>num_cols</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.range" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the given range of elements as a new matrix view.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>row_start</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The start row index.</li>
<li><strong>num_rows</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The number of rows.</li>
<li><strong>col_start</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The start column index.</li>
<li><strong>num_cols</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The number of columns.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A matrix view representing the given range.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#kaldi.matrix.DoubleSubMatrix" title="kaldi.matrix.DoubleSubMatrix">DoubleSubMatrix</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.read_">
<code class="descname">read_</code><span class="sig-paren">(</span><em>is:istream</em>, <em>binary:bool</em>, <em>add:bool=default</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.read_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Reads the matrix from the given C++ stream.</p>
<p>Resizes the matrix to match the size of the matrix read from stream.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>is</strong> (<a class="reference internal" href="kaldi.base.html#kaldi.base.io.istream" title="kaldi.base.io.istream"><em>istream</em></a>) â The input C++ stream.</li>
<li><strong>binary</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) â Whether the stream is binary.</li>
<li><strong>add</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) â Whether to add existing contents to the read matrix.
Defaults to <code class="docutils literal"><span class="pre">False</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.resize_">
<code class="descname">resize_</code><span class="sig-paren">(</span><em>r:int</em>, <em>c:int</em>, <em>resize_type:MatrixResizeType=default</em>, <em>stride_type:MatrixStrideType=default</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.resize_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Resizes the matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>r</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The new number of rows.</li>
<li><strong>c</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The new number of columns.</li>
<li><strong>resize_type</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixResizeType" title="kaldi.matrix.common.MatrixResizeType"><em>MatrixResizeType</em></a>) â How to initialize the elements.
If <code class="docutils literal"><span class="pre">MatrixResizeType.SET_ZERO</span></code> or <code class="docutils literal"><span class="pre">MatrixResizeType.COPY_DATA</span></code>,
they are set to zero. If <code class="docutils literal"><span class="pre">MatrixResizeType.UNDEFINED</span></code>, they are
left uninitialized. Defaults to <code class="docutils literal"><span class="pre">MatrixResizeType.SET_ZERO</span></code>.</li>
<li><strong>stride_type</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixStrideType" title="kaldi.matrix.common.MatrixStrideType"><em>MatrixStrideType</em></a>) â Determines how the elements are laid
out in memory. If <code class="docutils literal"><span class="pre">MatrixStrideType.STRIDE_EQUAL_NUM_COLS</span></code>, the
stride is equal to the number of columns. If
<code class="docutils literal"><span class="pre">MatrixStrideType.DEFAULT_STRIDE</span></code>, the stride is equal to the
smallest multiple of 16 that is larger than the number of columns.
Defaults to <code class="docutils literal"><span class="pre">MatrixStrideType.DEFAULT_STRIDE</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.row">
<code class="descname">row</code><span class="sig-paren">(</span><em>index</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.row" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the given row as a new vector view.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>index</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The row index.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A vector view representing the given row.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#kaldi.matrix.DoubleSubVector" title="kaldi.matrix.DoubleSubVector">DoubleSubVector</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.row_data">
<code class="descname">row_data</code><span class="sig-paren">(</span><em>index</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.row_data" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns row data as a memoryview.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.row_range">
<code class="descname">row_range</code><span class="sig-paren">(</span><em>row_start</em>, <em>num_rows</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.row_range" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the given range of rows as a new matrix view.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>row_start</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The start row index.</li>
<li><strong>num_rows</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The number of rows.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A matrix view representing the given row range.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#kaldi.matrix.DoubleSubMatrix" title="kaldi.matrix.DoubleSubMatrix">DoubleSubMatrix</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.scale_">
<code class="descname">scale_</code><span class="sig-paren">(</span><em>alpha:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.scale_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Scales the matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.set_mat_mat_div_mat_">
<code class="descname">set_mat_mat_div_mat_</code><span class="sig-paren">(</span><em>A:DoubleMatrixBase</em>, <em>B:DoubleMatrixBase</em>, <em>C:DoubleMatrixBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.set_mat_mat_div_mat_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Computes an elementwise multiplication followed by division.</p>
<p>Performs the operation <span class="math">\(S = A \odot B \oslash C\)</span> where
<span class="math">\(\odot\)</span> and <span class="math">\(\oslash\)</span> are elementwise multiplication and
division. If <span class="math">\(C[i,j] == 0\)</span> then <span class="math">\(S[i,j]\)</span> remains intact.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>A</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The first input matrix.</li>
<li><strong>B</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The second input matrix.</li>
<li><strong>C</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The third input matrix.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.set_rand_uniform_">
<code class="descname">set_rand_uniform_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.set_rand_uniform_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Sets the elements to numbers uniformly distributed on (0,1).</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.set_randn_">
<code class="descname">set_randn_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.set_randn_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Sets the elements to numbers from standard normal distribution.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.set_unit_">
<code class="descname">set_unit_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.set_unit_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Sets diagonal elements to one, off-diagonal elements to zero.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Works for non-square matrices too.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.set_zero_">
<code class="descname">set_zero_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.set_zero_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Sets the elements to zero.</p>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.DoubleMatrix.shape">
<code class="descname">shape</code><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.shape" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Two element tuple representing the size of the matrix.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.sigmoid_">
<code class="descname">sigmoid_</code><span class="sig-paren">(</span><em>src:DoubleMatrixBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.sigmoid_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies sigmoid function to elements of another matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>src</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The source matrix.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.singular_values">
<code class="descname">singular_values</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.singular_values" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Computes singular values.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The vector of singular values.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector">DoubleVector</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.size">
<code class="descname">size</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.size" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the size of the matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A tuple (num_rows, num_cols) of integers.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.size_in_bytes">
<code class="descname">size_in_bytes</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; int<a class="headerlink" href="#kaldi.matrix.DoubleMatrix.size_in_bytes" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the size (in bytes) of the data held by the matrix.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.soft_hinge_">
<code class="descname">soft_hinge_</code><span class="sig-paren">(</span><em>src:DoubleMatrixBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.soft_hinge_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies soft hinge function to elements of another matrix.</p>
<p>Performs the operation <code class="xref py py-obj docutils literal"><span class="pre">M[i,j]</span> <span class="pre">=</span> <span class="pre">log(1</span> <span class="pre">+</span> <span class="pre">exp(src[i,j]))</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>src</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The source matrix.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.DoubleMatrix.stride">
<code class="descname">stride</code><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.stride" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Row stride (distance in memory between each row, &gt;= num_cols).</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.sum">
<code class="descname">sum</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.DoubleMatrix.sum" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the sum of the elements.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.svd">
<code class="descname">svd</code><span class="sig-paren">(</span><em>destructive=False</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.svd" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Computes singular-value decomposition.</p>
<p>Factorizes a matrix into <span class="math">\(U\ diag(s)\ V^T\)</span>.</p>
<p>For non-square matrices, requires <code class="xref py py-obj docutils literal"><span class="pre">self.num_rows</span> <span class="pre">&gt;=</span> <span class="pre">self.num_cols</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>destructive</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) â Whether to use the destructive operation which
avoids a copy but mutates self. Defaults to <code class="docutils literal"><span class="pre">False</span></code>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">3-element tuple containing<ul class="simple">
<li><strong>s</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><code class="xref py py-class docutils literal"><span class="pre">DoubleVector</span></code></a>): The vector of singular values.</li>
<li><strong>U</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><code class="xref py py-class docutils literal"><span class="pre">DoubleMatrix</span></code></a>): The left orthonormal matrix.</li>
<li><strong>Vt</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><code class="xref py py-class docutils literal"><span class="pre">DoubleMatrix</span></code></a>): The right orthonormal matrix.</li>
</ul>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> â If <code class="xref py py-obj docutils literal"><span class="pre">self.num_rows</span> <span class="pre">&lt;</span> <span class="pre">self.num_cols</span></code>.</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><strong>Vt</strong> in the output is already transposed.
The singular values in <strong>s</strong> are not sorted.</p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#kaldi.matrix.DoubleMatrix.singular_values" title="kaldi.matrix.DoubleMatrix.singular_values"><code class="xref py py-meth docutils literal"><span class="pre">singular_values()</span></code></a>
<code class="xref py py-meth docutils literal"><span class="pre">sort_svd()</span></code></p>
</div>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.swap_">
<code class="descname">swap_</code><span class="sig-paren">(</span><em>other:DoubleMatrix</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.swap_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Swaps the contents of matrices.</p>
<p>Shallow swap.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>other</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The matrix to swap contents with.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.sym_add_mat2_">
<code class="descname">sym_add_mat2_</code><span class="sig-paren">(</span><em>alpha:float</em>, <em>M:DoubleMatrixBase</em>, <em>transA:MatrixTransposeType</em>, <em>beta:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.sym_add_mat2_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds the square of given matrix to this one.</p>
<p>Performs the operation on symmetric matrices
<span class="math">\(S = \alpha\ M\ M^T + \beta\ S\)</span>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">It only updates the lower triangle of self. It will leave the
matrix asymmetric. If you need it symmetric as a regular matrix,
call <a class="reference internal" href="#kaldi.matrix.DoubleMatrix.copy_lower_to_upper_" title="kaldi.matrix.DoubleMatrix.copy_lower_to_upper_"><code class="xref py py-meth docutils literal"><span class="pre">copy_lower_to_upper_()</span></code></a> after this operation.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for <span class="math">\(M\ M^T\)</span>.</li>
<li><strong>M</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The input matrix.</li>
<li><strong>transM</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixTransposeType" title="kaldi.matrix.common.MatrixTransposeType"><em>MatrixTransposeType</em></a>) â Whether to use <strong>M</strong> or its transpose.
Defaults to <code class="docutils literal"><span class="pre">MatrixTransposeType.NO_TRANS</span></code>.</li>
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the destination matrix.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.sym_pos_semi_def_eig">
<code class="descname">sym_pos_semi_def_eig</code><span class="sig-paren">(</span><em>s:DoubleVectorBase</em>, <em>P:DoubleMatrixBase</em>, <em>check_thresh:float=default</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.sym_pos_semi_def_eig" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Computes eigendecomposition of a positive semi-definite matrix.</p>
<p>Uses SVD to compute the eigendecomposition of a symmetric positive
semi-definite matrix: <span class="math">\(M = P\ diag(s) \ P^T\)</span>, where <span class="math">\(P\)</span>
is an orthogonal matrix, i.e. <span class="math">\(P^{-1} = P^T\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>s</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a>) â The eigenvalue vector.</li>
<li><strong>P</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The eigenvector matrix.</li>
<li><strong>check_thresh</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The threshold used for checking if input is
positive semi-definite. Defaults to <code class="docutils literal"><span class="pre">0.001</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Set check_thresh to 2 to ensure the positive semi-definite check
wonât ever complain, however it will zero out negative dimensions
in the matrix.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â If input is not positive semi-definite.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.tanh_">
<code class="descname">tanh_</code><span class="sig-paren">(</span><em>src:DoubleMatrixBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.tanh_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies tanh function to elements of another matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>src</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The source matrix.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.trace">
<code class="descname">trace</code><span class="sig-paren">(</span><em>check_square:bool=default</em><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.DoubleMatrix.trace" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the trace.</p>
<p>If matrix is not square it will return the trace of the square matrix
formed from the minimum dimension, e.g. if the matrix is 3x5 it will
return the trace of the 3x3 submatrix at the beginning.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>check_square</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) â Check if the matrix is square.
Defaults to <code class="docutils literal"><span class="pre">True</span></code>.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â If the matrix is not square and</li>
<li>**check_square** is <code class="docutils literal"><span class="pre">True</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.transpose_">
<code class="descname">transpose_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.transpose_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Transposes the matrix.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleMatrix.write">
<code class="descname">write</code><span class="sig-paren">(</span><em>os:ostream</em>, <em>binary:bool</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleMatrix.write" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Writes the matrix to given C++ stream.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>os</strong> (<a class="reference internal" href="kaldi.base.html#kaldi.base.io.ostream" title="kaldi.base.io.ostream"><em>ostream</em></a>) â The output C++ straem.</li>
<li><strong>binary</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) â Whether the stream is binary.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="kaldi.matrix.DoubleSubMatrix">
<em class="property">class </em><code class="descclassname">kaldi.matrix.</code><code class="descname">DoubleSubMatrix</code><span class="sig-paren">(</span><em>obj</em>, <em>row_start=0</em>, <em>num_rows=None</em>, <em>col_start=0</em>, <em>num_cols=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/kaldi/matrix.html#DoubleSubMatrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Double precision matrix view.</p>
<p>Creates a new matrix view from a matrix like object.</p>
<p>If possible the new matrix view will share its data with the <code class="xref py py-obj docutils literal"><span class="pre">obj</span></code>,
i.e. no copy will be made. A copy will only be made if <code class="xref py py-obj docutils literal"><span class="pre">obj.__array__</span></code>
returns a copy, if <code class="xref py py-obj docutils literal"><span class="pre">obj</span></code> is a sequence, or if a copy is needed to
satisfy any of the other requirements (data type, order, etc.).
Regardless of whether a copy is made or not, the new matrix view will
not own the memory buffer backing it, i.e. it will not support matrix
operations that reallocate memory.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>obj</strong> (<em>matrix_like</em>) â A matrix, a 2-D numpy array, any object exposing
a 2-D array interface, an object with an __array__ method
returning a 2-D numpy array, or any sequence that can be
interpreted as a matrix.</li>
<li><strong>row_start</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The start row index. Defaults to <code class="docutils literal"><span class="pre">0</span></code>.</li>
<li><strong>num_rows</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The number of rows. If <code class="docutils literal"><span class="pre">None</span></code>, it is set to
<code class="xref py py-obj docutils literal"><span class="pre">self.num_rows</span> <span class="pre">-</span> <span class="pre">row_start</span></code>. Defaults to <code class="docutils literal"><span class="pre">None</span></code>.</li>
<li><strong>col_start</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The start column index. Defaults to <code class="docutils literal"><span class="pre">0</span></code>.</li>
<li><strong>num_cols</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The number of columns. If <code class="docutils literal"><span class="pre">None</span></code>, it is set to
<code class="xref py py-obj docutils literal"><span class="pre">self.num_cols</span> <span class="pre">-</span> <span class="pre">col_start</span></code>. Defaults to <code class="docutils literal"><span class="pre">None</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.add_">
<code class="descname">add_</code><span class="sig-paren">(</span><em>alpha:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.add_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds a scalar to each element of the matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar to add.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.add_cols_">
<code class="descname">add_cols_</code><span class="sig-paren">(</span><em>src</em>, <em>indices</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.add_cols_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds columns from another matrix.</p>
<p>Adds column <code class="xref py py-obj docutils literal"><span class="pre">indices[r]</span></code> of <code class="xref py py-obj docutils literal"><span class="pre">src</span></code> to column <code class="xref py py-obj docutils literal"><span class="pre">r</span></code>. As a special case, if
<code class="xref py py-obj docutils literal"><span class="pre">indexes[i]</span> <span class="pre">==</span> <span class="pre">-1</span></code>, skips column <code class="xref py py-obj docutils literal"><span class="pre">i</span></code>. All elements of indices must be in
<code class="xref py py-obj docutils literal"><span class="pre">[-1,</span> <span class="pre">src.num_cols-1]</span></code>, and <code class="xref py py-obj docutils literal"><span class="pre">src.num_rows</span></code> must equal <code class="xref py py-obj docutils literal"><span class="pre">self.num_rows</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>src</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The input matrix.</li>
<li><strong>indices</strong> (<em>List</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>]</em>) â The list of column indices.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.add_diag_vec_mat_">
<code class="descname">add_diag_vec_mat_</code><span class="sig-paren">(</span><em>alpha:float</em>, <em>v:DoubleVectorBase</em>, <em>M:DoubleMatrixBase</em>, <em>transM:MatrixTransposeType</em>, <em>beta:float=default</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.add_diag_vec_mat_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds given matrix to this one after scaling its rows.</p>
<p>Perform the operation <span class="math">\(S = \alpha\ diag(v)\ M + \beta\ S\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for <span class="math">\(diag(v) M\)</span>.</li>
<li><strong>v</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a>) â The scaling vector.</li>
<li><strong>M</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The input matrix.</li>
<li><strong>transM</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixTransposeType" title="kaldi.matrix.common.MatrixTransposeType"><em>MatrixTransposeType</em></a>) â Whether to use <strong>M</strong> or its transpose.
Defaults to <code class="docutils literal"><span class="pre">MatrixTransposeType.NO_TRANS</span></code>.</li>
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the destination matrix.
Defaults to <code class="docutils literal"><span class="pre">1.0</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.add_mat_">
<code class="descname">add_mat_</code><span class="sig-paren">(</span><em>alpha</em>, <em>M</em>, <em>trans=&lt;MatrixTransposeType.NO_TRANS: 111&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.add_mat_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds another matrix to this one.</p>
<p>Performs the operation <span class="math">\(S = \alpha\ M + S\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier.</li>
<li><strong>M</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.SpMatrix" title="kaldi.matrix.packed.SpMatrix"><em>SpMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.DoubleSpMatrix" title="kaldi.matrix.packed.DoubleSpMatrix"><em>DoubleSpMatrix</em></a>) â The input matrix.</li>
<li><strong>trans</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixTransposeType" title="kaldi.matrix.common.MatrixTransposeType"><em>MatrixTransposeType</em></a>) â Whether to use <strong>M</strong> or its transpose.
Defaults to <code class="docutils literal"><span class="pre">MatrixTransposeType.NO_TRANS</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.add_mat_diag_vec_">
<code class="descname">add_mat_diag_vec_</code><span class="sig-paren">(</span><em>alpha:float</em>, <em>M:DoubleMatrixBase</em>, <em>transM:MatrixTransposeType</em>, <em>v:DoubleVectorBase</em>, <em>beta:float=default</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.add_mat_diag_vec_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds given matrix to this one after scaling its columns.</p>
<p>Perform the operation <span class="math">\(S = \alpha\ M\ diag(v) + \beta\ S\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for <span class="math">\(M\ diag(v)\)</span>.</li>
<li><strong>M</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The input matrix.</li>
<li><strong>transM</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixTransposeType" title="kaldi.matrix.common.MatrixTransposeType"><em>MatrixTransposeType</em></a>) â Whether to use <strong>M</strong> or its transpose.
Defaults to <code class="docutils literal"><span class="pre">MatrixTransposeType.NO_TRANS</span></code>.</li>
<li><strong>v</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a>) â The scaling vector.</li>
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the destination matrix.
Defaults to <code class="docutils literal"><span class="pre">1.0</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.add_mat_mat_">
<code class="descname">add_mat_mat_</code><span class="sig-paren">(</span><em>A</em>, <em>B</em>, <em>transA=&lt;MatrixTransposeType.NO_TRANS: 111&gt;</em>, <em>transB=&lt;MatrixTransposeType.NO_TRANS: 111&gt;</em>, <em>alpha=1.0</em>, <em>beta=1.0</em>, <em>sparseA=False</em>, <em>sparseB=False</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.add_mat_mat_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds the product of given matrices.</p>
<p>Performs the operation <span class="math">\(M = \alpha\ A\ B + \beta\ M\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>A</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.DoubleTpMatrix" title="kaldi.matrix.packed.DoubleTpMatrix"><em>DoubleTpMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.DoubleSpMatrix" title="kaldi.matrix.packed.DoubleSpMatrix"><em>DoubleSpMatrix</em></a>) â The first input matrix.</li>
<li><strong>B</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.DoubleTpMatrix" title="kaldi.matrix.packed.DoubleTpMatrix"><em>DoubleTpMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.DoubleSpMatrix" title="kaldi.matrix.packed.DoubleSpMatrix"><em>DoubleSpMatrix</em></a>) â The second input matrix.</li>
<li><strong>transA</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixTransposeType" title="kaldi.matrix.common.MatrixTransposeType"><em>MatrixTransposeType</em></a>) â Whether to use <strong>A</strong> or its transpose.
Defaults to <code class="docutils literal"><span class="pre">MatrixTransposeType.NO_TRANS</span></code>.</li>
<li><strong>transB</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixTransposeType" title="kaldi.matrix.common.MatrixTransposeType"><em>MatrixTransposeType</em></a>) â Whether to use <strong>B</strong> or its transpose.
Defaults to <code class="docutils literal"><span class="pre">MatrixTransposeType.NO_TRANS</span></code>.</li>
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the product.
Defaults to <code class="docutils literal"><span class="pre">1.0</span></code>.</li>
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the destination vector.
Defaults to <code class="docutils literal"><span class="pre">1.0</span></code>.</li>
<li><strong>sparseA</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) â Whether to use the algorithm that is faster when
<strong>A</strong> is sparse. Defaults to <code class="docutils literal"><span class="pre">False</span></code>.</li>
<li><strong>sparseA</strong> â Whether to use the algorithm that is faster when
<strong>B</strong> is sparse. Defaults to <code class="docutils literal"><span class="pre">False</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</li>
<li><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">TypeError</span></code></a> â If matrices of given types can not be multiplied.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.add_mat_mat_elements_">
<code class="descname">add_mat_mat_elements_</code><span class="sig-paren">(</span><em>alpha:float</em>, <em>A:DoubleMatrixBase</em>, <em>B:DoubleMatrixBase</em>, <em>beta:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.add_mat_mat_elements_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds the element-wise multiplication of given matrices to this one.</p>
<p>Performs the operation <span class="math">\(S = \alpha\ A\odot B + \beta\ S\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for <span class="math">\(A \odot B\)</span>.</li>
<li><strong>A</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The first input matrix.</li>
<li><strong>B</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The second input matrix.</li>
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the destination matrix.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.add_mat_mat_mat_">
<code class="descname">add_mat_mat_mat_</code><span class="sig-paren">(</span><em>alpha:float</em>, <em>A:DoubleMatrixBase</em>, <em>transA:MatrixTransposeType</em>, <em>B:DoubleMatrixBase</em>, <em>transB:MatrixTransposeType</em>, <em>C:DoubleMatrixBase</em>, <em>transC:MatrixTransposeType</em>, <em>beta:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.add_mat_mat_mat_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds the product of three matrices to this one.</p>
<p>Performs the operation <span class="math">\(S = \alpha\ A\ B\ C + \beta\ S\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for <span class="math">\(A\ B\ C\)</span>.</li>
<li><strong>A</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The first input matrix.</li>
<li><strong>transA</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixTransposeType" title="kaldi.matrix.common.MatrixTransposeType"><em>MatrixTransposeType</em></a>) â Whether to use <strong>A</strong> or its transpose.</li>
<li><strong>B</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The second input matrix.</li>
<li><strong>transB</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixTransposeType" title="kaldi.matrix.common.MatrixTransposeType"><em>MatrixTransposeType</em></a>) â Whether to use <strong>B</strong> or its transpose.</li>
<li><strong>C</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The third input matrix.</li>
<li><strong>transC</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixTransposeType" title="kaldi.matrix.common.MatrixTransposeType"><em>MatrixTransposeType</em></a>) â Whether to use <strong>C</strong> or its transpose.</li>
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the destination matrix.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.add_rows_">
<code class="descname">add_rows_</code><span class="sig-paren">(</span><em>src</em>, <em>indices</em>, <em>alpha=1.0</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.add_rows_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds rows from another matrix.</p>
<p>Scales row <code class="xref py py-obj docutils literal"><span class="pre">indices[r]</span></code> of <code class="xref py py-obj docutils literal"><span class="pre">src</span></code> with <code class="xref py py-obj docutils literal"><span class="pre">alpha</span></code> and adds it to row <code class="xref py py-obj docutils literal"><span class="pre">r</span></code>. As
a special case, if <code class="xref py py-obj docutils literal"><span class="pre">indexes[i]</span> <span class="pre">==</span> <span class="pre">-1</span></code>, skips row <code class="xref py py-obj docutils literal"><span class="pre">i</span></code>. All elements of
indices must be in <code class="xref py py-obj docutils literal"><span class="pre">[-1,</span> <span class="pre">src.num_rows-1]</span></code>, and <code class="xref py py-obj docutils literal"><span class="pre">src.num_cols</span></code> must equal
<code class="xref py py-obj docutils literal"><span class="pre">self.num_cols</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>src</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The input matrix.</li>
<li><strong>indices</strong> (<em>List</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>]</em>) â The list of row indices.</li>
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier. Defaults to <code class="xref py py-obj docutils literal"><span class="pre">1.0</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.add_to_diag_">
<code class="descname">add_to_diag_</code><span class="sig-paren">(</span><em>alpha:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.add_to_diag_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds a scalar to the diagonal elements of the matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar to add.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.add_vec_to_cols_">
<code class="descname">add_vec_to_cols_</code><span class="sig-paren">(</span><em>alpha:float</em>, <em>v:DoubleVectorBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.add_vec_to_cols_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds input vector to each column of this matrix.</p>
<p>Performs the operation <span class="math">\(M_{ij} = M_{ij} + \alpha\ v_{i}\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier.</li>
<li><strong>v</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a>) â The input vector.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.add_vec_to_rows_">
<code class="descname">add_vec_to_rows_</code><span class="sig-paren">(</span><em>alpha:float</em>, <em>v:DoubleVectorBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.add_vec_to_rows_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds input vector to each row of this matrix.</p>
<p>Performs the operation <span class="math">\(M_{ij} = M_{ij} + \alpha\ v_{j}\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier.</li>
<li><strong>v</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a>) â The input vector.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.add_vec_vec_">
<code class="descname">add_vec_vec_</code><span class="sig-paren">(</span><em>alpha:float</em>, <em>a:DoubleVectorBase</em>, <em>b:DoubleVectorBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.add_vec_vec_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds outer product of input vectors to this matrix.</p>
<p>Performs the operation <span class="math">\(M = M + \alpha\ a \ b^T\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier.</li>
<li><strong>a</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a>) â The first input vector.</li>
<li><strong>b</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a>) â The second input vector.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.apply_ceiling_">
<code class="descname">apply_ceiling_</code><span class="sig-paren">(</span><em>ceiling:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.apply_ceiling_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies ceiling operation to each element.</p>
<p>Performs the operation <code class="xref py py-obj docutils literal"><span class="pre">M[i,j]</span> <span class="pre">=</span> <span class="pre">min(M[i,j],</span> <span class="pre">ceiling)</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>ceiling</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The ceiling value.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The number of elements changed.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.apply_exp_">
<code class="descname">apply_exp_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.apply_exp_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies exponential operation to each element.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.apply_floor_">
<code class="descname">apply_floor_</code><span class="sig-paren">(</span><em>floor:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.apply_floor_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies floor operation to each element.</p>
<p>Performs the operation <code class="xref py py-obj docutils literal"><span class="pre">M[i,j]</span> <span class="pre">=</span> <span class="pre">max(M[i,j],</span> <span class="pre">floor)</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>floor</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The floor value.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The number of elements changed.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.apply_heaviside_">
<code class="descname">apply_heaviside_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.apply_heaviside_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies the Heaviside step function to each element.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.apply_log_">
<code class="descname">apply_log_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.apply_log_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies natural log operation to each element.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.apply_pow_">
<code class="descname">apply_pow_</code><span class="sig-paren">(</span><em>power:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.apply_pow_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Takes each element to the given power.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>power</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The exponent value.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â If an element cannot be raised to the given power.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.apply_pow_abs_">
<code class="descname">apply_pow_abs_</code><span class="sig-paren">(</span><em>power:float</em>, <em>include_sign:bool=default</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.apply_pow_abs_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Takes the absolute value of each element raised to the given power.</p>
<p>If the power is negative and the input is zero, the output is zero.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>power</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The power value.</li>
<li><strong>include_sign</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) â Whether to include the sign of the input value.
Defaults to <code class="docutils literal"><span class="pre">False</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â If an element cannot be raised to the given power.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.apply_softmax_">
<code class="descname">apply_softmax_</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.apply_softmax_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies the softmax operation to each element.</p>
<p>Performs the operation
<span class="math">\(M_{i,j} = \frac{\exp(M_{i,j})}{\sum_{k,j} \exp(M_{k,j})}\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><span class="math">\(\log(\sum_{k,j} \exp(M_{k,j}))\)</span>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.approx_equal">
<code class="descname">approx_equal</code><span class="sig-paren">(</span><em>other</em>, <em>tol=0.01</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.approx_equal" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Checks if matrices are approximately equal.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>other</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The matrix to compare against.</li>
<li><strong>tol</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The tolerance for the equality check.
Defaults to <code class="docutils literal"><span class="pre">0.01</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">True if <code class="xref py py-obj docutils literal"><span class="pre">self.size()</span> <span class="pre">==</span> <span class="pre">other.size()</span></code> and
<code class="xref py py-obj docutils literal"><span class="pre">||self-other||</span> <span class="pre">&lt;=</span> <span class="pre">tol*||self||</span></code>. False otherwise.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.clone">
<code class="descname">clone</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.clone" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Clones the matrix.</p>
<p>The clone allocates new memory for its contents and supports matrix
operations that reallocate memory, i.e. it is not a view.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A copy of the matrix.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix">DoubleMatrix</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.col_range">
<code class="descname">col_range</code><span class="sig-paren">(</span><em>col_start</em>, <em>num_cols</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.col_range" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the given range of columns as a new matrix view.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>col_start</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The start column index.</li>
<li><strong>num_cols</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The number of columns.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A matrix view representing the given column range.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#kaldi.matrix.DoubleSubMatrix" title="kaldi.matrix.DoubleSubMatrix">DoubleSubMatrix</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.cond">
<code class="descname">cond</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.cond" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the condition number of the SVD computation.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.copy_">
<code class="descname">copy_</code><span class="sig-paren">(</span><em>src</em>, <em>trans=&lt;MatrixTransposeType.NO_TRANS: 111&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.copy_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies the elements from another matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>src</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.SpMatrix" title="kaldi.matrix.packed.SpMatrix"><em>SpMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.TpMatrix" title="kaldi.matrix.packed.TpMatrix"><em>TpMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.DoubleSpMatrix" title="kaldi.matrix.packed.DoubleSpMatrix"><em>DoubleSpMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.DoubleTpMatrix" title="kaldi.matrix.packed.DoubleTpMatrix"><em>DoubleTpMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.compressed.CompressedMatrix" title="kaldi.matrix.compressed.CompressedMatrix"><em>CompressedMatrix</em></a>) â The input matrix.</li>
<li><strong>trans</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixTransposeType" title="kaldi.matrix.common.MatrixTransposeType"><em>MatrixTransposeType</em></a>) â Whether to use <strong>src</strong> or its transpose.
Defaults to <code class="docutils literal"><span class="pre">MatrixTransposeType.NO_TRANS</span></code>. Not active if
input is a compressed matrix.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.copy_col_from_vec_">
<code class="descname">copy_col_from_vec_</code><span class="sig-paren">(</span><em>v:DoubleVectorBase</em>, <em>col:int</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.copy_col_from_vec_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies a vector into the specified column.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>v</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a>) â The input vector.</li>
<li><strong>col</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The column index.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.copy_cols_">
<code class="descname">copy_cols_</code><span class="sig-paren">(</span><em>src</em>, <em>indices</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.copy_cols_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies columns from another matrix.</p>
<p>Copies column <code class="xref py py-obj docutils literal"><span class="pre">r</span></code> from column <code class="xref py py-obj docutils literal"><span class="pre">indices[r]</span></code> of <code class="xref py py-obj docutils literal"><span class="pre">src</span></code>. As a special case,
if <code class="xref py py-obj docutils literal"><span class="pre">indexes[i]</span> <span class="pre">==</span> <span class="pre">-1</span></code>, sets column <code class="xref py py-obj docutils literal"><span class="pre">i</span></code> to zero. All elements of indices
must be in <code class="xref py py-obj docutils literal"><span class="pre">[-1,</span> <span class="pre">src.num_cols-1]</span></code>, and <code class="xref py py-obj docutils literal"><span class="pre">src.num_rows</span></code> must equal
<code class="xref py py-obj docutils literal"><span class="pre">self.num_rows</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>src</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The input matrix.</li>
<li><strong>indices</strong> (<em>List</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>]</em>) â The list of column indices.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.copy_cols_from_vec_">
<code class="descname">copy_cols_from_vec_</code><span class="sig-paren">(</span><em>v:DoubleVectorBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.copy_cols_from_vec_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies column elements from a vector.</p>
<p>This method has two modes of operation. If the number of elements in
<code class="xref py py-obj docutils literal"><span class="pre">self</span></code> and <code class="xref py py-obj docutils literal"><span class="pre">v</span></code> are the same, then elements of <code class="xref py py-obj docutils literal"><span class="pre">v</span></code> are copied into
<code class="xref py py-obj docutils literal"><span class="pre">self</span></code> column by column. If the number of elements in <code class="xref py py-obj docutils literal"><span class="pre">v</span></code> is equal to
<code class="xref py py-obj docutils literal"><span class="pre">self.num_rows</span></code>, then the elements of <code class="xref py py-obj docutils literal"><span class="pre">v</span></code> are copied into each column
of <code class="xref py py-obj docutils literal"><span class="pre">self</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>v</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a>) â The input vector.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.copy_diag_from_vec_">
<code class="descname">copy_diag_from_vec_</code><span class="sig-paren">(</span><em>v:DoubleVectorBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.copy_diag_from_vec_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies a vector into the diagonal.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>v</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a>) â The input vector.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.copy_lower_to_upper_">
<code class="descname">copy_lower_to_upper_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.copy_lower_to_upper_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies lower triangle to upper triangle.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â If matrix is not square.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.copy_row_from_vec_">
<code class="descname">copy_row_from_vec_</code><span class="sig-paren">(</span><em>v:DoubleVectorBase</em>, <em>row:int</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.copy_row_from_vec_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies a vector into the specified row.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>v</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a>) â The input vector.</li>
<li><strong>row</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The row index.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.copy_rows_">
<code class="descname">copy_rows_</code><span class="sig-paren">(</span><em>src</em>, <em>indices</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.copy_rows_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies rows from another matrix.</p>
<p>Copies row <code class="xref py py-obj docutils literal"><span class="pre">r</span></code> from row <code class="xref py py-obj docutils literal"><span class="pre">indices[r]</span></code> of <code class="xref py py-obj docutils literal"><span class="pre">src</span></code>. As a special case, if
<code class="xref py py-obj docutils literal"><span class="pre">indexes[i]</span> <span class="pre">==</span> <span class="pre">-1</span></code>, sets row <code class="xref py py-obj docutils literal"><span class="pre">i</span></code> to zero. All elements of indices must
be in <code class="xref py py-obj docutils literal"><span class="pre">[-1,</span> <span class="pre">src.num_rows-1]</span></code>, and <code class="xref py py-obj docutils literal"><span class="pre">src.num_cols</span></code> must equal
<code class="xref py py-obj docutils literal"><span class="pre">self.num_cols</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>src</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The input matrix.</li>
<li><strong>indices</strong> (<em>List</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>]</em>) â The list of row indices.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.copy_rows_from_vec_">
<code class="descname">copy_rows_from_vec_</code><span class="sig-paren">(</span><em>v:DoubleVectorBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.copy_rows_from_vec_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies row elements from a vector.</p>
<p>This method has two modes of operation. If the number of elements in
<code class="xref py py-obj docutils literal"><span class="pre">self</span></code> and <code class="xref py py-obj docutils literal"><span class="pre">v</span></code> are the same, then elements of <code class="xref py py-obj docutils literal"><span class="pre">v</span></code> are copied into
<code class="xref py py-obj docutils literal"><span class="pre">self</span></code> row by row. If the number of elements in <code class="xref py py-obj docutils literal"><span class="pre">v</span></code> is equal to
<code class="xref py py-obj docutils literal"><span class="pre">self.num_cols</span></code>, then the elements of <code class="xref py py-obj docutils literal"><span class="pre">v</span></code> are copied into each row of
<code class="xref py py-obj docutils literal"><span class="pre">self</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>v</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a>) â The input vector.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.copy_upper_to_lower_">
<code class="descname">copy_upper_to_lower_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.copy_upper_to_lower_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies upper triangle to lower triangle.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â If matrix is not square.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.DoubleSubMatrix.data">
<code class="descname">data</code><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.data" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Matrix data as a memoryview.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.diff_sigmoid_">
<code class="descname">diff_sigmoid_</code><span class="sig-paren">(</span><em>value:DoubleMatrixBase</em>, <em>diff:DoubleMatrixBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.diff_sigmoid_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Backpropagates derivatives through the sigmoid function.</p>
<p>Performs the operation
<code class="xref py py-obj docutils literal"><span class="pre">M[i,j]</span> <span class="pre">=</span> <span class="pre">diff[i,j]</span> <span class="pre">*</span> <span class="pre">value[i,j]</span> <span class="pre">*</span> <span class="pre">(1</span> <span class="pre">-</span> <span class="pre">value[i,j])</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>value</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The activations.</li>
<li><strong>diff</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The derivatives.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.diff_tanh_">
<code class="descname">diff_tanh_</code><span class="sig-paren">(</span><em>value:DoubleMatrixBase</em>, <em>diff:DoubleMatrixBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.diff_tanh_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Backpropagates derivatives through the tanh function.</p>
<p>Performs the operation <code class="xref py py-obj docutils literal"><span class="pre">M[i,j]</span> <span class="pre">=</span> <span class="pre">diff[i,j]</span> <span class="pre">*</span> <span class="pre">(1</span> <span class="pre">-</span> <span class="pre">value[i,j]^2)</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>value</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The activations.</li>
<li><strong>diff</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The derivatives.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.div_elements_">
<code class="descname">div_elements_</code><span class="sig-paren">(</span><em>A:DoubleMatrixBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.div_elements_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Divides element-wise with another matrix.</p>
<p>Performs the operation <code class="xref py py-obj docutils literal"><span class="pre">M</span> <span class="pre">=</span> <span class="pre">M</span> <span class="pre">oslash</span> <span class="pre">A</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>A</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The denominator.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.eig">
<code class="descname">eig</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.eig" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Computes eigendecomposition.</p>
<p>Factorizes a square matrix into <span class="math">\(P\ D\ P^{-1}\)</span>.</p>
<p>The relationship of <span class="math">\(D\)</span> to the eigenvalues is slightly
complicated, due to the need for <span class="math">\(P\)</span> to be real. In the symmetric
case, <span class="math">\(D\)</span> is diagonal and real, but in the non-symmetric case
there may be complex-conjugate pairs of eigenvalues. In this case, for
the equation <span class="math">\(y = P\ D\ P^{-1}\)</span> to hold, <span class="math">\(D\)</span> must actually
be block diagonal, with 2x2 blocks corresponding to any such pairs. If a
pair is <span class="math">\(\lambda +- i\mu\)</span>, <span class="math">\(D\)</span> will have a corresponding
2x2 block <span class="math">\([\lambda, \mu; -\mu, \lambda]\)</span>. Note that if the
matrix is not invertible, <span class="math">\(P\)</span> may not be invertible so in this
case instead of the equation <span class="math">\(y = P\ D\ P^{-1}\)</span> holding, we have
<span class="math">\(y\ P = P\ D\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">3-element tuple containing<ul class="simple">
<li><strong>P</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><code class="xref py py-class docutils literal"><span class="pre">DoubleMatrix</span></code></a>): The eigenvector matrix, where ith
column corresponds to the ith eigenvector.</li>
<li><strong>r</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><code class="xref py py-class docutils literal"><span class="pre">DoubleVector</span></code></a>): The vector with real components of
the eigenvalues.</li>
<li><strong>i</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><code class="xref py py-class docutils literal"><span class="pre">DoubleVector</span></code></a>): The vector with imaginary
components of the eigenvalues.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> â If the matrix is not square.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.equal">
<code class="descname">equal</code><span class="sig-paren">(</span><em>other:DoubleMatrixBase</em><span class="sig-paren">)</span> &#x2192; bool<a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.equal" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Checks if matrices are exactly equal.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>other</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The matrix to check against</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if <code class="xref py py-obj docutils literal"><span class="pre">self[i,j]</span> <span class="pre">==</span> <span class="pre">other[i,j]`</span></code> for all <code class="xref py py-obj docutils literal"><span class="pre">i,j</span></code>. False otherwise.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.frobenius_norm">
<code class="descname">frobenius_norm</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.frobenius_norm" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the Frobenius norm of the matrix</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.group_max_">
<code class="descname">group_max_</code><span class="sig-paren">(</span><em>src:DoubleMatrixBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.group_max_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Computes group max of elements in another matrix.</p>
<p>Performs the operation <code class="xref py py-obj docutils literal"><span class="pre">self[i,j]</span> <span class="pre">=</span> <span class="pre">max(src[i,j*gs:(j+1)*gs])</span></code>
where <code class="xref py py-obj docutils literal"><span class="pre">gs</span> <span class="pre">=</span> <span class="pre">src.num_cols</span> <span class="pre">/</span> <span class="pre">self.num_cols</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>src</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The source matrix.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â If <code class="xref py py-obj docutils literal"><span class="pre">src.num_rows</span> <span class="pre">!=</span> <span class="pre">self.num_rows</span></code>
or <code class="xref py py-obj docutils literal"><span class="pre">src.num_rows</span> <span class="pre">%</span> <span class="pre">self.num_rows</span> <span class="pre">!=</span> <span class="pre">0</span></code>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.group_max_deriv_">
<code class="descname">group_max_deriv_</code><span class="sig-paren">(</span><em>input:DoubleMatrixBase</em>, <em>output:DoubleMatrixBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.group_max_deriv_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Computes derivatives for the group max operation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>input</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The input to group max operation (src in
<a class="reference internal" href="#kaldi.matrix.DoubleSubMatrix.group_max_" title="kaldi.matrix.DoubleSubMatrix.group_max_"><code class="xref py py-meth docutils literal"><span class="pre">group_max_()</span></code></a>).</li>
<li><strong>output</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The output of group max operation.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.group_pnorm_">
<code class="descname">group_pnorm_</code><span class="sig-paren">(</span><em>src:DoubleMatrixBase</em>, <em>power:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.group_pnorm_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Computes group p-norm of elements in another matrix.</p>
<p>Performs the operation <code class="xref py py-obj docutils literal"><span class="pre">self[i,j]</span> <span class="pre">=</span> <span class="pre">norm(src[i,j*gs:(j+1)*gs],</span> <span class="pre">power)</span></code>
where <code class="xref py py-obj docutils literal"><span class="pre">gs</span> <span class="pre">=</span> <span class="pre">src.num_cols</span> <span class="pre">/</span> <span class="pre">self.num_cols</span></code></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>src</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The source matrix.</li>
<li><strong>power</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The p value for p-norm. It must be non-negative.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â If <code class="xref py py-obj docutils literal"><span class="pre">src.num_rows</span> <span class="pre">!=</span> <span class="pre">self.num_rows</span></code>
or <code class="xref py py-obj docutils literal"><span class="pre">src.num_rows</span> <span class="pre">%</span> <span class="pre">self.num_rows</span> <span class="pre">!=</span> <span class="pre">0</span></code>.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.group_pnorm_deriv_">
<code class="descname">group_pnorm_deriv_</code><span class="sig-paren">(</span><em>input:DoubleMatrixBase</em>, <em>output:DoubleMatrixBase</em>, <em>power:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.group_pnorm_deriv_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Computes derivatives for the group p-norm operation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>input</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The input to group p-norm operation (src in
<a class="reference internal" href="#kaldi.matrix.DoubleSubMatrix.group_pnorm_" title="kaldi.matrix.DoubleSubMatrix.group_pnorm_"><code class="xref py py-meth docutils literal"><span class="pre">group_pnorm_()</span></code></a>).</li>
<li><strong>output</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The output of group p-norm operation.</li>
<li><strong>power</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The p value for p-norm. It must be non-negative.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.heaviside_">
<code class="descname">heaviside_</code><span class="sig-paren">(</span><em>src:DoubleMatrixBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.heaviside_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies Heaviside step function to elements of another matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>src</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The source matrix.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.invert_">
<code class="descname">invert_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.invert_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Inverts the matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">2-element tuple containing<ul class="simple">
<li><strong>log_det</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><code class="xref py py-class docutils literal"><span class="pre">float</span></code></a>): The log determinant.</li>
<li><strong>det_sign</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><code class="xref py py-class docutils literal"><span class="pre">float</span></code></a>): The sign of the determinant, 1 or -1.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â If matrix is not square.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.invert_elements_">
<code class="descname">invert_elements_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.invert_elements_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Inverts the elements.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.is_diagonal">
<code class="descname">is_diagonal</code><span class="sig-paren">(</span><em>cutoff:float=default</em><span class="sig-paren">)</span> &#x2192; bool<a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.is_diagonal" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Checks if the matrix is approximately diagonal.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cutoff</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The cutoff value. Defaults to <code class="docutils literal"><span class="pre">1.0e-05</span></code>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if <code class="xref py py-obj docutils literal"><span class="pre">sum(digonal_elements)*cutoff</span> <span class="pre">&gt;</span> <span class="pre">sum(nondiagonal_elements)</span></code>.
False otherwise.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.is_symmetric">
<code class="descname">is_symmetric</code><span class="sig-paren">(</span><em>cutoff:float=default</em><span class="sig-paren">)</span> &#x2192; bool<a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.is_symmetric" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Checks if the matrix is approximately symmetric.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cutoff</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The cutoff value. Defaults to <code class="docutils literal"><span class="pre">1.0e-05</span></code>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if the matrix is approximately symmetric. False otherwise.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.is_unit">
<code class="descname">is_unit</code><span class="sig-paren">(</span><em>cutoff:float=default</em><span class="sig-paren">)</span> &#x2192; bool<a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.is_unit" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Checks if the matrix is identity-like.</p>
<p>Checks if <code class="xref py py-obj docutils literal"><span class="pre">max(M</span> <span class="pre">-</span> <span class="pre">I)</span> <span class="pre">&lt;=</span> <span class="pre">cutoff</span></code> where <code class="xref py py-obj docutils literal"><span class="pre">I</span></code> is a matrix with the same
size as <code class="xref py py-obj docutils literal"><span class="pre">M</span></code>, ones on the diagonal and zeros elsewhere.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cutoff</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The cutoff value. Defaults to <code class="docutils literal"><span class="pre">1.0e-05</span></code>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if <code class="xref py py-obj docutils literal"><span class="pre">max(M</span> <span class="pre">-</span> <span class="pre">I)</span> <span class="pre">&lt;=</span> <span class="pre">cutoff</span></code>.</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The matrix does not have to be square.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.is_zero">
<code class="descname">is_zero</code><span class="sig-paren">(</span><em>cutoff:float=default</em><span class="sig-paren">)</span> &#x2192; bool<a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.is_zero" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Checks if the elements are all zeros.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cutoff</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The cutoff value. Defaults to <code class="docutils literal"><span class="pre">1.0e-05</span></code>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if <code class="xref py py-obj docutils literal"><span class="pre">max(abs(M))</span> <span class="pre">&lt;=</span> <span class="pre">cutoff</span></code>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.largest_abs_elem">
<code class="descname">largest_abs_elem</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.largest_abs_elem" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the largest of the absolute values of the elements.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.log_det">
<code class="descname">log_det</code><span class="sig-paren">(</span><em>) -&gt; (log_det:float</em>, <em>det_sign:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.log_det" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Computes log determinant of the matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">2-element tuple containing<ul class="simple">
<li><strong>log_det</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><code class="xref py py-class docutils literal"><span class="pre">float</span></code></a>): The log determinant.</li>
<li><strong>det_sign</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><code class="xref py py-class docutils literal"><span class="pre">float</span></code></a>): The sign of the determinant, 1 or -1.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.log_sum_exp">
<code class="descname">log_sum_exp</code><span class="sig-paren">(</span><em>prune:float=default</em><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.log_sum_exp" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Computes <span class="math">\(f(M)=\log(\sum_{i,j} \exp(M_{i,j}))\)</span> without exp overflow.</p>
<p>If <code class="xref py py-obj docutils literal"><span class="pre">prune</span> <span class="pre">&gt;</span> <span class="pre">0.0</span></code>, ignores terms less than <code class="xref py py-obj docutils literal"><span class="pre">max(M)</span> <span class="pre">-</span> <span class="pre">prune</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>prune</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The pruning beam. Defaults to <code class="xref py py-obj docutils literal"><span class="pre">-1.0</span></code>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><span class="math">\(\log(\sum_{i,j} \exp(M_{i,j}))\)</span>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.max">
<code class="descname">max</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.max" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the maximum value in the matrix.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.max_with_mat_">
<code class="descname">max_with_mat_</code><span class="sig-paren">(</span><em>A:DoubleMatrixBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.max_with_mat_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies an element-wise max operation.</p>
<p>Performs the operation <code class="xref py py-obj docutils literal"><span class="pre">M[i,j]</span> <span class="pre">=</span> <span class="pre">max(M[i,j],</span> <span class="pre">A[i,j])</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>A</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The input matrix.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.min">
<code class="descname">min</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.min" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the minimum value in the matrix.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.min_singular_value">
<code class="descname">min_singular_value</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.min_singular_value" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the smallest singular value.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.min_with_mat_">
<code class="descname">min_with_mat_</code><span class="sig-paren">(</span><em>A:DoubleMatrixBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.min_with_mat_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies an element-wise min operation.</p>
<p>Performs the operation <code class="xref py py-obj docutils literal"><span class="pre">M[i,j]</span> <span class="pre">=</span> <span class="pre">min(M[i,j],</span> <span class="pre">A[i,j])</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>A</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The input matrix.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.mul_cols_vec_">
<code class="descname">mul_cols_vec_</code><span class="sig-paren">(</span><em>scale:DoubleVectorBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.mul_cols_vec_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Scales columns with the elements in a vector.</p>
<p>Performs the operation <code class="xref py py-obj docutils literal"><span class="pre">M[i,j]</span> <span class="pre">=</span> <span class="pre">scale[j]</span> <span class="pre">*</span> <span class="pre">M[i,j]</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>scale</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a>) â The scaling vector.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.mul_elements_">
<code class="descname">mul_elements_</code><span class="sig-paren">(</span><em>A:DoubleMatrixBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.mul_elements_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Multiplies element-wise with another matrix.</p>
<p>Performs the operation <code class="xref py py-obj docutils literal"><span class="pre">M</span> <span class="pre">=</span> <span class="pre">M</span> <span class="pre">odot</span> <span class="pre">A</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>A</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The multiplier.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.mul_rows_group_mat_">
<code class="descname">mul_rows_group_mat_</code><span class="sig-paren">(</span><em>src:DoubleMatrixBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.mul_rows_group_mat_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Scales matrix with another matrix.</p>
<p>Divides each row of <code class="xref py py-obj docutils literal"><span class="pre">self</span></code> into <code class="xref py py-obj docutils literal"><span class="pre">src.num_cols</span></code> equal groups, and then
scales <code class="xref py py-obj docutils literal"><span class="pre">i`th</span> <span class="pre">row's</span> <span class="pre">`j`th</span> <span class="pre">group</span> <span class="pre">of</span> <span class="pre">elements</span> <span class="pre">with</span> <span class="pre">`src[i,j]</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>src</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The scaling matrix.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â If <code class="xref py py-obj docutils literal"><span class="pre">self.num_rows</span> <span class="pre">!=</span> <span class="pre">src.num_rows</span></code> or
<code class="xref py py-obj docutils literal"><span class="pre">self.num_cols</span> <span class="pre">%</span> <span class="pre">src.num_cols</span> <span class="pre">!=</span> <span class="pre">0</span></code>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.mul_rows_vec_">
<code class="descname">mul_rows_vec_</code><span class="sig-paren">(</span><em>scale:DoubleVectorBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.mul_rows_vec_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Scales rows with the elements in a vector.</p>
<p>Performs the operation <code class="xref py py-obj docutils literal"><span class="pre">M[i,j]</span> <span class="pre">=</span> <span class="pre">scale[i]</span> <span class="pre">*</span> <span class="pre">M[i,j]</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>scale</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a>) â The scaling vector.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.DoubleSubMatrix.num_cols">
<code class="descname">num_cols</code><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.num_cols" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Number of columns (zero for empty matrix).</p>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.DoubleSubMatrix.num_rows">
<code class="descname">num_rows</code><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.num_rows" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Number of rows (zero for empty matrix).</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.numpy">
<code class="descname">numpy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.numpy" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Converts the matrix to a 2-D NumPy array.</p>
<p>The NumPy array is a view into the matrix, i.e. no data is copied.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A NumPy array sharing data with this matrix.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)">numpy.ndarray</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.orthogonalize_rows_">
<code class="descname">orthogonalize_rows_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.orthogonalize_rows_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Orthogonalizes rows using the Gram-Schmidt process.</p>
<p>Uses random number generation to fill in rows with something non-zero,
in cases where the original matrix was of deficient row rank.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â If  self.num_rows &gt; self.num_cols`.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.power_">
<code class="descname">power_</code><span class="sig-paren">(</span><em>pow:float</em><span class="sig-paren">)</span> &#x2192; bool<a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.power_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Takes the matrix to the specified power.</p>
<p>This method uses an algorithm that works in general for fractional
and negative powers. The input matrix must be invertible and have a
reasonable condition number. The algorithm is based on eigenvalue
decomposition. It will return False and leave the matrix unchanged,
if the matrix has real negative eigenvalues (or if it has zero
eigenvalues and the power is negative).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>pow</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The exponent.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if the operation was successful.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.range">
<code class="descname">range</code><span class="sig-paren">(</span><em>row_start</em>, <em>num_rows</em>, <em>col_start</em>, <em>num_cols</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.range" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the given range of elements as a new matrix view.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>row_start</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The start row index.</li>
<li><strong>num_rows</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The number of rows.</li>
<li><strong>col_start</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The start column index.</li>
<li><strong>num_cols</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The number of columns.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A matrix view representing the given range.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#kaldi.matrix.DoubleSubMatrix" title="kaldi.matrix.DoubleSubMatrix">DoubleSubMatrix</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.read_">
<code class="descname">read_</code><span class="sig-paren">(</span><em>is:istream</em>, <em>binary:bool</em>, <em>add:bool=default</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.read_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Reads the matrix from the given C++ stream.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>is</strong> (<a class="reference internal" href="kaldi.base.html#kaldi.base.io.istream" title="kaldi.base.io.istream"><em>istream</em></a>) â The input C++ stream.</li>
<li><strong>binary</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) â Whether the stream is binary.</li>
<li><strong>add</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) â Whether to add existing contents to the read matrix.
Defaults to <code class="docutils literal"><span class="pre">False</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.row">
<code class="descname">row</code><span class="sig-paren">(</span><em>index</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.row" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the given row as a new vector view.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>index</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The row index.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A vector view representing the given row.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#kaldi.matrix.DoubleSubVector" title="kaldi.matrix.DoubleSubVector">DoubleSubVector</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.row_data">
<code class="descname">row_data</code><span class="sig-paren">(</span><em>index</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.row_data" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns row data as a memoryview.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.row_range">
<code class="descname">row_range</code><span class="sig-paren">(</span><em>row_start</em>, <em>num_rows</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.row_range" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the given range of rows as a new matrix view.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>row_start</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The start row index.</li>
<li><strong>num_rows</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The number of rows.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A matrix view representing the given row range.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#kaldi.matrix.DoubleSubMatrix" title="kaldi.matrix.DoubleSubMatrix">DoubleSubMatrix</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.scale_">
<code class="descname">scale_</code><span class="sig-paren">(</span><em>alpha:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.scale_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Scales the matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.set_mat_mat_div_mat_">
<code class="descname">set_mat_mat_div_mat_</code><span class="sig-paren">(</span><em>A:DoubleMatrixBase</em>, <em>B:DoubleMatrixBase</em>, <em>C:DoubleMatrixBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.set_mat_mat_div_mat_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Computes an elementwise multiplication followed by division.</p>
<p>Performs the operation <span class="math">\(S = A \odot B \oslash C\)</span> where
<span class="math">\(\odot\)</span> and <span class="math">\(\oslash\)</span> are elementwise multiplication and
division. If <span class="math">\(C[i,j] == 0\)</span> then <span class="math">\(S[i,j]\)</span> remains intact.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>A</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The first input matrix.</li>
<li><strong>B</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The second input matrix.</li>
<li><strong>C</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The third input matrix.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.set_rand_uniform_">
<code class="descname">set_rand_uniform_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.set_rand_uniform_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Sets the elements to numbers uniformly distributed on (0,1).</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.set_randn_">
<code class="descname">set_randn_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.set_randn_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Sets the elements to numbers from standard normal distribution.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.set_unit_">
<code class="descname">set_unit_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.set_unit_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Sets diagonal elements to one, off-diagonal elements to zero.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Works for non-square matrices too.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.set_zero_">
<code class="descname">set_zero_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.set_zero_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Sets the elements to zero.</p>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.DoubleSubMatrix.shape">
<code class="descname">shape</code><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.shape" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Two element tuple representing the size of the matrix.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.sigmoid_">
<code class="descname">sigmoid_</code><span class="sig-paren">(</span><em>src:DoubleMatrixBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.sigmoid_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies sigmoid function to elements of another matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>src</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The source matrix.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.singular_values">
<code class="descname">singular_values</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.singular_values" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Computes singular values.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The vector of singular values.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector">DoubleVector</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.size">
<code class="descname">size</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.size" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the size of the matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A tuple (num_rows, num_cols) of integers.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.size_in_bytes">
<code class="descname">size_in_bytes</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; int<a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.size_in_bytes" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the size (in bytes) of the data held by the matrix.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.soft_hinge_">
<code class="descname">soft_hinge_</code><span class="sig-paren">(</span><em>src:DoubleMatrixBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.soft_hinge_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies soft hinge function to elements of another matrix.</p>
<p>Performs the operation <code class="xref py py-obj docutils literal"><span class="pre">M[i,j]</span> <span class="pre">=</span> <span class="pre">log(1</span> <span class="pre">+</span> <span class="pre">exp(src[i,j]))</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>src</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The source matrix.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.DoubleSubMatrix.stride">
<code class="descname">stride</code><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.stride" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Row stride (distance in memory between each row, &gt;= num_cols).</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.sum">
<code class="descname">sum</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.sum" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the sum of the elements.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.svd">
<code class="descname">svd</code><span class="sig-paren">(</span><em>destructive=False</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.svd" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Computes singular-value decomposition.</p>
<p>Factorizes a matrix into <span class="math">\(U\ diag(s)\ V^T\)</span>.</p>
<p>For non-square matrices, requires <code class="xref py py-obj docutils literal"><span class="pre">self.num_rows</span> <span class="pre">&gt;=</span> <span class="pre">self.num_cols</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>destructive</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) â Whether to use the destructive operation which
avoids a copy but mutates self. Defaults to <code class="docutils literal"><span class="pre">False</span></code>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">3-element tuple containing<ul class="simple">
<li><strong>s</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><code class="xref py py-class docutils literal"><span class="pre">DoubleVector</span></code></a>): The vector of singular values.</li>
<li><strong>U</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><code class="xref py py-class docutils literal"><span class="pre">DoubleMatrix</span></code></a>): The left orthonormal matrix.</li>
<li><strong>Vt</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><code class="xref py py-class docutils literal"><span class="pre">DoubleMatrix</span></code></a>): The right orthonormal matrix.</li>
</ul>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> â If <code class="xref py py-obj docutils literal"><span class="pre">self.num_rows</span> <span class="pre">&lt;</span> <span class="pre">self.num_cols</span></code>.</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><strong>Vt</strong> in the output is already transposed.
The singular values in <strong>s</strong> are not sorted.</p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#kaldi.matrix.DoubleSubMatrix.singular_values" title="kaldi.matrix.DoubleSubMatrix.singular_values"><code class="xref py py-meth docutils literal"><span class="pre">singular_values()</span></code></a>
<code class="xref py py-meth docutils literal"><span class="pre">sort_svd()</span></code></p>
</div>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.sym_add_mat2_">
<code class="descname">sym_add_mat2_</code><span class="sig-paren">(</span><em>alpha:float</em>, <em>M:DoubleMatrixBase</em>, <em>transA:MatrixTransposeType</em>, <em>beta:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.sym_add_mat2_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds the square of given matrix to this one.</p>
<p>Performs the operation on symmetric matrices
<span class="math">\(S = \alpha\ M\ M^T + \beta\ S\)</span>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">It only updates the lower triangle of self. It will leave the
matrix asymmetric. If you need it symmetric as a regular matrix,
call <a class="reference internal" href="#kaldi.matrix.DoubleSubMatrix.copy_lower_to_upper_" title="kaldi.matrix.DoubleSubMatrix.copy_lower_to_upper_"><code class="xref py py-meth docutils literal"><span class="pre">copy_lower_to_upper_()</span></code></a> after this operation.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for <span class="math">\(M\ M^T\)</span>.</li>
<li><strong>M</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The input matrix.</li>
<li><strong>transM</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixTransposeType" title="kaldi.matrix.common.MatrixTransposeType"><em>MatrixTransposeType</em></a>) â Whether to use <strong>M</strong> or its transpose.
Defaults to <code class="docutils literal"><span class="pre">MatrixTransposeType.NO_TRANS</span></code>.</li>
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the destination matrix.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.sym_pos_semi_def_eig">
<code class="descname">sym_pos_semi_def_eig</code><span class="sig-paren">(</span><em>s:DoubleVectorBase</em>, <em>P:DoubleMatrixBase</em>, <em>check_thresh:float=default</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.sym_pos_semi_def_eig" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Computes eigendecomposition of a positive semi-definite matrix.</p>
<p>Uses SVD to compute the eigendecomposition of a symmetric positive
semi-definite matrix: <span class="math">\(M = P\ diag(s) \ P^T\)</span>, where <span class="math">\(P\)</span>
is an orthogonal matrix, i.e. <span class="math">\(P^{-1} = P^T\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>s</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a>) â The eigenvalue vector.</li>
<li><strong>P</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The eigenvector matrix.</li>
<li><strong>check_thresh</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The threshold used for checking if input is
positive semi-definite. Defaults to <code class="docutils literal"><span class="pre">0.001</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Set check_thresh to 2 to ensure the positive semi-definite check
wonât ever complain, however it will zero out negative dimensions
in the matrix.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â If input is not positive semi-definite.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.tanh_">
<code class="descname">tanh_</code><span class="sig-paren">(</span><em>src:DoubleMatrixBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.tanh_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies tanh function to elements of another matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>src</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The source matrix.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.trace">
<code class="descname">trace</code><span class="sig-paren">(</span><em>check_square:bool=default</em><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.trace" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the trace.</p>
<p>If matrix is not square it will return the trace of the square matrix
formed from the minimum dimension, e.g. if the matrix is 3x5 it will
return the trace of the 3x3 submatrix at the beginning.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>check_square</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) â Check if the matrix is square.
Defaults to <code class="docutils literal"><span class="pre">True</span></code>.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â If the matrix is not square and</li>
<li>**check_square** is <code class="docutils literal"><span class="pre">True</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.transpose_">
<code class="descname">transpose_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.transpose_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Transposes the matrix.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubMatrix.write">
<code class="descname">write</code><span class="sig-paren">(</span><em>os:ostream</em>, <em>binary:bool</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubMatrix.write" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Writes the matrix to given C++ stream.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>os</strong> (<a class="reference internal" href="kaldi.base.html#kaldi.base.io.ostream" title="kaldi.base.io.ostream"><em>ostream</em></a>) â The output C++ straem.</li>
<li><strong>binary</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) â Whether the stream is binary.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="kaldi.matrix.DoubleSubVector">
<em class="property">class </em><code class="descclassname">kaldi.matrix.</code><code class="descname">DoubleSubVector</code><span class="sig-paren">(</span><em>obj</em>, <em>start=0</em>, <em>length=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/kaldi/matrix.html#DoubleSubVector"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#kaldi.matrix.DoubleSubVector" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Double precision vector view.</p>
<p>Creates a new vector view from a vector like object.</p>
<p>If possible the new vector view will share its data with the <code class="xref py py-obj docutils literal"><span class="pre">obj</span></code>,
i.e. no copy will be made. A copy will only be made if <code class="xref py py-obj docutils literal"><span class="pre">obj.__array__</span></code>
returns a copy, if <code class="xref py py-obj docutils literal"><span class="pre">obj</span></code> is a sequence, or if a copy is needed to
satisfy any of the other requirements (data type, order, etc.).
Regardless of whether a copy is made or not, the new vector view will
not own the memory buffer backing it, i.e. it will not support vector
operations that reallocate memory.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>obj</strong> (<em>vector_like</em>) â A vector, a 1-D numpy array, any object exposing
a 1-D array interface, an object whose __array__ method returns
a 1-D numpy array, or any sequence that can be interpreted as a
vector.</li>
<li><strong>start</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The index of the view start. Defaults to 0.</li>
<li><strong>length</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The length of the view. If None, it is set to
len(obj) - start. Defaults to None.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="kaldi.matrix.DoubleSubVector.add_">
<code class="descname">add_</code><span class="sig-paren">(</span><em>value:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubVector.add_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds the given value to each element.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>value</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The value to add.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubVector.add_col_sum_mat_">
<code class="descname">add_col_sum_mat_</code><span class="sig-paren">(</span><em>alpha</em>, <em>M</em>, <em>beta=1.0</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubVector.add_col_sum_mat_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds the sum of matrix columns.</p>
<p>Performs the operation
<span class="math">\(y = \alpha\ \sum_i M[:,i] + \beta\ y\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the column sum.</li>
<li><strong>M</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The input matrix.</li>
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the destination vector.
Defaults to <code class="docutils literal"><span class="pre">1.0</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> â If <code class="xref py py-obj docutils literal"><span class="pre">self.dim</span> <span class="pre">!=</span> <span class="pre">M.num_rows</span></code>.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubVector.add_diag_mat2_">
<code class="descname">add_diag_mat2_</code><span class="sig-paren">(</span><em>alpha</em>, <em>M</em>, <em>trans=&lt;MatrixTransposeType.NO_TRANS: 111&gt;</em>, <em>beta=1.0</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubVector.add_diag_mat2_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds the diagonal of a matrix multiplied with its transpose.</p>
<p>Performs the operation <span class="math">\(y = \alpha\ diag(M M^T) + \beta\ y\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the diagonal.</li>
<li><strong>M</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The input matrix.</li>
<li><strong>trans</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixTransposeType" title="kaldi.matrix.common.MatrixTransposeType"><em>MatrixTransposeType</em></a>) â Whether to use <strong>M</strong> or its transpose.
Defaults to <code class="docutils literal"><span class="pre">MatrixTransposeType.NO_TRANS</span></code>.</li>
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the destination vector.
Defaults to <code class="docutils literal"><span class="pre">1.0</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubVector.add_diag_mat_mat_">
<code class="descname">add_diag_mat_mat_</code><span class="sig-paren">(</span><em>alpha</em>, <em>M</em>, <em>transM</em>, <em>N</em>, <em>transN</em>, <em>beta=1.0</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubVector.add_diag_mat_mat_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds the diagonal of a matrix-matrix product.</p>
<p>Performs the operation <span class="math">\(y = \alpha\ diag(M N) + \beta\ y\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the diagonal.</li>
<li><strong>M</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The first input matrix.</li>
<li><strong>transM</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixTransposeType" title="kaldi.matrix.common.MatrixTransposeType"><em>MatrixTransposeType</em></a>) â Whether to use <strong>M</strong> or its transpose.</li>
<li><strong>N</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The second input matrix.</li>
<li><strong>transN</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixTransposeType" title="kaldi.matrix.common.MatrixTransposeType"><em>MatrixTransposeType</em></a>) â Whether to use <strong>N</strong> or its transpose.</li>
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the destination vector.
Defaults to <code class="docutils literal"><span class="pre">1.0</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubVector.add_mat_vec_">
<code class="descname">add_mat_vec_</code><span class="sig-paren">(</span><em>alpha</em>, <em>M</em>, <em>trans</em>, <em>v</em>, <em>beta</em>, <em>sparse=False</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubVector.add_mat_vec_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Computes a matrix-vector product.</p>
<p>Performs the operation <span class="math">\(y = \alpha\ M\ v + \beta\ y\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the matrix-vector product.</li>
<li><strong>M</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.DoubleSpMatrix" title="kaldi.matrix.packed.DoubleSpMatrix"><em>DoubleSpMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.DoubleTpMatrix" title="kaldi.matrix.packed.DoubleTpMatrix"><em>DoubleTpMatrix</em></a>) â The input matrix.</li>
<li><strong>trans</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixTransposeType" title="kaldi.matrix.common.MatrixTransposeType"><em>MatrixTransposeType</em></a>) â Whether to use <strong>M</strong> or its transpose.</li>
<li><strong>v</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a>) â The input vector.</li>
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the destination vector.</li>
<li><strong>sparse</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) â Whether to use the algorithm that is faster when
<strong>v</strong> is sparse. Defaults to <code class="docutils literal"><span class="pre">False</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubVector.add_row_sum_mat_">
<code class="descname">add_row_sum_mat_</code><span class="sig-paren">(</span><em>alpha</em>, <em>M</em>, <em>beta=1.0</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubVector.add_row_sum_mat_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds the sum of matrix rows.</p>
<p>Performs the operation <span class="math">\(y = \alpha\ \sum_i M[i] + \beta\ y\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the row sum.</li>
<li><strong>M</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The input matrix.</li>
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the destination vector.
Defaults to <code class="docutils literal"><span class="pre">1.0</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> â If <code class="xref py py-obj docutils literal"><span class="pre">self.dim</span> <span class="pre">!=</span> <span class="pre">M.num_cols</span></code>.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubVector.add_vec2_">
<code class="descname">add_vec2_</code><span class="sig-paren">(</span><em>alpha</em>, <em>v</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubVector.add_vec2_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds the squares of elements from another vector.</p>
<p>Performs the operation <span class="math">\(y = y + \alpha\ v\odot v\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier.</li>
<li><strong>v</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a>) â The input vector.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubVector.add_vec_">
<code class="descname">add_vec_</code><span class="sig-paren">(</span><em>alpha</em>, <em>v</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubVector.add_vec_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds another vector.</p>
<p>Performs the operation <span class="math">\(y = y + \alpha\ v\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier.</li>
<li><strong>v</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a>) â The input vector.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubVector.add_vec_div_vec_">
<code class="descname">add_vec_div_vec_</code><span class="sig-paren">(</span><em>alpha:float</em>, <em>v:DoubleVectorBase</em>, <em>r:DoubleVectorBase</em>, <em>beta:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubVector.add_vec_div_vec_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Computes an element-wise vector-vector division.</p>
<p>Performs the operation <span class="math">\(y = \alpha\ v\oslash r + \beta\ y\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the division.</li>
<li><strong>v</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a>) â The first input vector.</li>
<li><strong>r</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a>) â The second input vector.</li>
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the destination vector.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubVector.add_vec_vec_">
<code class="descname">add_vec_vec_</code><span class="sig-paren">(</span><em>alpha:float</em>, <em>v:DoubleVectorBase</em>, <em>r:DoubleVectorBase</em>, <em>beta:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubVector.add_vec_vec_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Computes an element-wise vector-vector product.</p>
<p>Performs the operation <span class="math">\(y = \alpha\ v\odot r + \beta\ y\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the product.</li>
<li><strong>v</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a>) â The first input vector.</li>
<li><strong>r</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a>) â The second input vector.</li>
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the destination vector.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubVector.apply_abs_">
<code class="descname">apply_abs_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubVector.apply_abs_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies the absolute value operation to each element.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubVector.apply_ceiling_">
<code class="descname">apply_ceiling_</code><span class="sig-paren">(</span><em>ceiling:float</em><span class="sig-paren">)</span> &#x2192; int<a class="headerlink" href="#kaldi.matrix.DoubleSubVector.apply_ceiling_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies the ceiling operation to each element.</p>
<p>Performs the operation <code class="xref py py-obj docutils literal"><span class="pre">y[i]</span> <span class="pre">=</span> <span class="pre">min(y[i],</span> <span class="pre">ceiling)</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>ceiling</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The ceiling value.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The number of elements changed.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubVector.apply_exp_">
<code class="descname">apply_exp_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubVector.apply_exp_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies the exponential operation to each element.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubVector.apply_floor_">
<code class="descname">apply_floor_</code><span class="sig-paren">(</span><em>floor:float</em><span class="sig-paren">)</span> &#x2192; int<a class="headerlink" href="#kaldi.matrix.DoubleSubVector.apply_floor_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies the floor operation to each element.</p>
<p>Performs the operation <code class="xref py py-obj docutils literal"><span class="pre">y[i]</span> <span class="pre">=</span> <span class="pre">max(y[i],</span> <span class="pre">floor)</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>floor</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The floor value.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The number of elements changed.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubVector.apply_floor_vector_">
<code class="descname">apply_floor_vector_</code><span class="sig-paren">(</span><em>floor:DoubleVectorBase</em><span class="sig-paren">)</span> &#x2192; int<a class="headerlink" href="#kaldi.matrix.DoubleSubVector.apply_floor_vector_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies a separate floor operation to each element.</p>
<p>Performs the operation <code class="xref py py-obj docutils literal"><span class="pre">y[i]</span> <span class="pre">=</span> <span class="pre">max(y[i],</span> <span class="pre">floor[i])</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>floor</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a>) â The floor vector.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The number of elements changed.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubVector.apply_log_">
<code class="descname">apply_log_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubVector.apply_log_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies the natural log operation to each element.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubVector.apply_log_and_copy_">
<code class="descname">apply_log_and_copy_</code><span class="sig-paren">(</span><em>v:DoubleVectorBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubVector.apply_log_and_copy_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies the natural log operation to the given vector and copies it.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>v</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a>) â The input vector.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubVector.apply_log_softmax_">
<code class="descname">apply_log_softmax_</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.DoubleSubVector.apply_log_softmax_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies the logsoftmax operation to each element.</p>
<p>Performs the operation
<span class="math">\(y_i = y_i - \log(\sum_j \exp(y_j))\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><span class="math">\(\log(\sum_j \exp(y_j))\)</span>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubVector.apply_pow_">
<code class="descname">apply_pow_</code><span class="sig-paren">(</span><em>power:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubVector.apply_pow_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Takes each element to the given power.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>power</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The exponent value.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â If an element cannot be raised to the given power.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubVector.apply_pow_abs_">
<code class="descname">apply_pow_abs_</code><span class="sig-paren">(</span><em>power:float</em>, <em>include_sign:bool=default</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubVector.apply_pow_abs_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Takes the absolute value of each element raised to the given power.</p>
<p>If the power is negative and the input is zero, the output is zero.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>power</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The power value.</li>
<li><strong>include_sign</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) â Whether to include the sign of the input value.
Defaults to <code class="docutils literal"><span class="pre">False</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â If an element cannot be raised to the given power.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubVector.apply_softmax_">
<code class="descname">apply_softmax_</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.DoubleSubVector.apply_softmax_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies the softmax operation to each element.</p>
<p>Performs the operation
<span class="math">\(y_i = \frac{\exp(y_i)}{\sum_j \exp(y_j)}\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><span class="math">\(\log(\sum_j \exp(y_j))\)</span>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubVector.approx_equal">
<code class="descname">approx_equal</code><span class="sig-paren">(</span><em>other</em>, <em>tol=0.01</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubVector.approx_equal" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Checks if vectors are approximately equal.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>other</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a>) â The vector to compare against.</li>
<li><strong>tol</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The tolerance for the equality check.
Defaults to <code class="docutils literal"><span class="pre">0.01</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">True if <code class="xref py py-obj docutils literal"><span class="pre">self.dim</span> <span class="pre">==</span> <span class="pre">other.dim</span></code> and
<code class="xref py py-obj docutils literal"><span class="pre">||self-other||</span> <span class="pre">&lt;=</span> <span class="pre">tol*||self||</span></code>. False otherwise.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubVector.clone">
<code class="descname">clone</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubVector.clone" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Clones the vector.</p>
<p>The clone allocates new memory for its contents and supports vector
operations that reallocate memory, i.e. it is not a view.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A copy of the vector.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector">DoubleVector</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubVector.copy_">
<code class="descname">copy_</code><span class="sig-paren">(</span><em>src</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubVector.copy_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies the elements from another vector.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>src</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a>) â The input vector.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubVector.copy_col_from_mat_">
<code class="descname">copy_col_from_mat_</code><span class="sig-paren">(</span><em>M</em>, <em>col</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubVector.copy_col_from_mat_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies the elements from a matrix column.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>M</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The input matrix.</li>
<li><strong>col</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The column index.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> â In case of size mismatch.</li>
<li><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#IndexError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">IndexError</span></code></a> â If the column index is out-of-bounds.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubVector.copy_cols_from_mat_">
<code class="descname">copy_cols_from_mat_</code><span class="sig-paren">(</span><em>M</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubVector.copy_cols_from_mat_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies the elements from a matrix column-by-columm.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>M</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The input matrix.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubVector.copy_diag_from_mat_">
<code class="descname">copy_diag_from_mat_</code><span class="sig-paren">(</span><em>M</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubVector.copy_diag_from_mat_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies the digonal elements from a matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>M</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.DoubleSpMatrix" title="kaldi.matrix.packed.DoubleSpMatrix"><em>DoubleSpMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.DoubleTpMatrix" title="kaldi.matrix.packed.DoubleTpMatrix"><em>DoubleTpMatrix</em></a>) â The input matrix.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubVector.copy_from_packed_">
<code class="descname">copy_from_packed_</code><span class="sig-paren">(</span><em>M</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubVector.copy_from_packed_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies the elements from a packed matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>M</strong> (<a class="reference internal" href="#kaldi.matrix.packed.SpMatrix" title="kaldi.matrix.packed.SpMatrix"><em>SpMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.TpMatrix" title="kaldi.matrix.packed.TpMatrix"><em>TpMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.DoubleSpMatrix" title="kaldi.matrix.packed.DoubleSpMatrix"><em>DoubleSpMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.DoubleTpMatrix" title="kaldi.matrix.packed.DoubleTpMatrix"><em>DoubleTpMatrix</em></a>) â The input packed matrix.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> â If <code class="xref py py-obj docutils literal"><span class="pre">self.dim</span> <span class="pre">!=</span>&#160; <span class="pre">M.num_rows</span> <span class="pre">*</span> <span class="pre">(M.num_rows</span> <span class="pre">+</span> <span class="pre">1)</span> <span class="pre">/</span> <span class="pre">2</span></code>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubVector.copy_row_from_mat_">
<code class="descname">copy_row_from_mat_</code><span class="sig-paren">(</span><em>M</em>, <em>row</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubVector.copy_row_from_mat_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies the elements from a matrix row.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>M</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.SpMatrix" title="kaldi.matrix.packed.SpMatrix"><em>SpMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.DoubleSpMatrix" title="kaldi.matrix.packed.DoubleSpMatrix"><em>DoubleSpMatrix</em></a>) â The input matrix.</li>
<li><strong>row</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The row index.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> â In case of size mismatch.</li>
<li><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#IndexError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">IndexError</span></code></a> â If the row index is out-of-bounds.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubVector.copy_rows_from_mat_">
<code class="descname">copy_rows_from_mat_</code><span class="sig-paren">(</span><em>M</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubVector.copy_rows_from_mat_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies the elements from a matrix row-by-row.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>M</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The input matrix.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.DoubleSubVector.data">
<code class="descname">data</code><a class="headerlink" href="#kaldi.matrix.DoubleSubVector.data" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Vector data as a memoryview.</p>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.DoubleSubVector.dim">
<code class="descname">dim</code><a class="headerlink" href="#kaldi.matrix.DoubleSubVector.dim" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Dimension (zero for empty vector).</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubVector.div_elements_">
<code class="descname">div_elements_</code><span class="sig-paren">(</span><em>v</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubVector.div_elements_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Divides the elements with the elements of another vector.</p>
<p>Performs the operation <code class="xref py py-obj docutils literal"><span class="pre">y[i]</span> <span class="pre">/=</span> <span class="pre">v[i]</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>v</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a>) â The input vector.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubVector.invert_elements_">
<code class="descname">invert_elements_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubVector.invert_elements_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Inverts the elements.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â If any of the elements is zero.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubVector.is_zero">
<code class="descname">is_zero</code><span class="sig-paren">(</span><em>cutoff:float=default</em><span class="sig-paren">)</span> &#x2192; bool<a class="headerlink" href="#kaldi.matrix.DoubleSubVector.is_zero" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Checks if the elements are all zeros.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cutoff</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The cutoff value. Defaults to <code class="docutils literal"><span class="pre">1.0e-06</span></code>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if <code class="xref py py-obj docutils literal"><span class="pre">max(abs(self))</span> <span class="pre">&lt;=</span> <span class="pre">cutoff</span></code>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubVector.log_sum_exp">
<code class="descname">log_sum_exp</code><span class="sig-paren">(</span><em>prune:float=default</em><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.DoubleSubVector.log_sum_exp" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Computes <span class="math">\(f(x)=\log(\sum_i \exp(x_i))\)</span> without exp overflow.</p>
<p>If <code class="xref py py-obj docutils literal"><span class="pre">prune</span> <span class="pre">&gt;</span> <span class="pre">0.0</span></code>, ignores terms less than <code class="xref py py-obj docutils literal"><span class="pre">max(x)</span> <span class="pre">-</span> <span class="pre">prune</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>prune</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The pruning beam. Defaults to <code class="xref py py-obj docutils literal"><span class="pre">-1.0</span></code>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><span class="math">\(\log(\sum_i \exp(x_i))\)</span>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubVector.max">
<code class="descname">max</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.DoubleSubVector.max" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the maximum value in the vector.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubVector.max_index">
<code class="descname">max_index</code><span class="sig-paren">(</span><em>) -&gt; (value:float</em>, <em>index:int</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubVector.max_index" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the maximum value in the vector, and the associated index.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubVector.min">
<code class="descname">min</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.DoubleSubVector.min" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the minimum value in the vector.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubVector.min_index">
<code class="descname">min_index</code><span class="sig-paren">(</span><em>) -&gt; (value:float</em>, <em>index:int</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubVector.min_index" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the minimum value in the vector, and the associated index.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubVector.mul_elements_">
<code class="descname">mul_elements_</code><span class="sig-paren">(</span><em>v</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubVector.mul_elements_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Multiplies the elements with the elements of another vector.</p>
<p>Performs the operation <code class="xref py py-obj docutils literal"><span class="pre">y[i]</span> <span class="pre">*=</span> <span class="pre">v[i]</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>v</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a>) â The input vector.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubVector.mul_tp_">
<code class="descname">mul_tp_</code><span class="sig-paren">(</span><em>M</em>, <em>trans</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubVector.mul_tp_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Multiplies the vector with a lower-triangular matrix.</p>
<p>Performs the operation <span class="math">\(y = M\ y\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>M</strong> (<a class="reference internal" href="#kaldi.matrix.packed.DoubleTpMatrix" title="kaldi.matrix.packed.DoubleTpMatrix"><em>DoubleTpMatrix</em></a>) â The input lower-triangular matrix.</li>
<li><strong>trans</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixTransposeType" title="kaldi.matrix.common.MatrixTransposeType"><em>MatrixTransposeType</em></a>) â Whether to use <strong>M</strong> or its transpose.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubVector.norm">
<code class="descname">norm</code><span class="sig-paren">(</span><em>p:float</em><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.DoubleSubVector.norm" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Computes the p-norm of the vector.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>p</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The p value. It must be non-negative.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The p-norm.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â If <code class="xref py py-obj docutils literal"><span class="pre">p</span> <span class="pre">&lt;</span> <span class="pre">0</span></code> or p-norm cannot be computed.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubVector.numpy">
<code class="descname">numpy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubVector.numpy" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Converts the vector to a 1-D NumPy array.</p>
<p>The NumPy array is a view into the vector, i.e. no data is copied.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A NumPy array sharing data with this vector.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)">numpy.ndarray</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubVector.rand_categorical">
<code class="descname">rand_categorical</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; int<a class="headerlink" href="#kaldi.matrix.DoubleSubVector.rand_categorical" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Chooses a random index into the vector.</p>
<p>Chooses an index with probability proportional to its element value.
Requires <code class="xref py py-obj docutils literal"><span class="pre">min(self)</span> <span class="pre">&gt;=</span> <span class="pre">0</span></code> and <code class="xref py py-obj docutils literal"><span class="pre">sum(self)</span> <span class="pre">&gt;</span> <span class="pre">0</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A random index value.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â If <code class="xref py py-obj docutils literal"><span class="pre">min(self)</span> <span class="pre">&lt;</span> <span class="pre">0</span> <span class="pre">||</span> <span class="pre">sum(self)</span> <span class="pre">&lt;=</span> <span class="pre">0</span></code>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubVector.range">
<code class="descname">range</code><span class="sig-paren">(</span><em>start</em>, <em>length</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubVector.range" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the given range of elements as a new vector view.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>start</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The start index.</li>
<li><strong>length</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The length.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A vector view representing the given range.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#kaldi.matrix.DoubleSubVector" title="kaldi.matrix.DoubleSubVector">DoubleSubVector</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubVector.read_">
<code class="descname">read_</code><span class="sig-paren">(</span><em>is:istream</em>, <em>binary:bool</em>, <em>add:bool=default</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubVector.read_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Reads the vector from the given C++ stream.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>is</strong> (<a class="reference internal" href="kaldi.base.html#kaldi.base.io.istream" title="kaldi.base.io.istream"><em>istream</em></a>) â The input C++ stream.</li>
<li><strong>binary</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) â Whether the stream is binary.</li>
<li><strong>add</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) â Whether to add existing contents to the read vector.
Defaults to <code class="docutils literal"><span class="pre">False</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubVector.replace_value_">
<code class="descname">replace_value_</code><span class="sig-paren">(</span><em>orig:float</em>, <em>changed:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubVector.replace_value_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Replaces the elements.</p>
<p>Performs the operation <code class="xref py py-obj docutils literal"><span class="pre">y[y</span> <span class="pre">==</span> <span class="pre">orig]</span> <span class="pre">=</span> <span class="pre">changed</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>orig</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The original value to replace.</li>
<li><strong>changed</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The value to replace with.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubVector.scale_">
<code class="descname">scale_</code><span class="sig-paren">(</span><em>alpha:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubVector.scale_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Scales the vector.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubVector.set_">
<code class="descname">set_</code><span class="sig-paren">(</span><em>f:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubVector.set_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Sets the elements to the given value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>f</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The value to set.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubVector.set_randn_">
<code class="descname">set_randn_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubVector.set_randn_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Sets the elements to numbers from standard normal distribution.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubVector.set_randn_uniform_">
<code class="descname">set_randn_uniform_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubVector.set_randn_uniform_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Sets the elements to numbers uniformly distributed on (0,1).</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubVector.set_zero_">
<code class="descname">set_zero_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubVector.set_zero_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Sets the elements to zero.</p>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.DoubleSubVector.shape">
<code class="descname">shape</code><a class="headerlink" href="#kaldi.matrix.DoubleSubVector.shape" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Single element tuple representing the size of the vector.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubVector.sigmoid_">
<code class="descname">sigmoid_</code><span class="sig-paren">(</span><em>src:DoubleVectorBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubVector.sigmoid_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Sets the elements to the sigmoid of the elements in another vector.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>src</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a>) â The input vector.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubVector.size">
<code class="descname">size</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubVector.size" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the size of the vector as a single element tuple.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubVector.size_in_bytes">
<code class="descname">size_in_bytes</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; int<a class="headerlink" href="#kaldi.matrix.DoubleSubVector.size_in_bytes" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the size (in bytes) of the data held by the vector.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubVector.solve_">
<code class="descname">solve_</code><span class="sig-paren">(</span><em>M</em>, <em>trans</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubVector.solve_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Solves a linear system.</p>
<p>The linear system is defined as <span class="math">\(M\ x = b\)</span>, where <span class="math">\(b\)</span> and
<span class="math">\(x\)</span> are the initial and final values of the vector, respectively.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Does not test for <span class="math">\(M\)</span> being singular or near-singular.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>M</strong> (<a class="reference internal" href="#kaldi.matrix.packed.DoubleTpMatrix" title="kaldi.matrix.packed.DoubleTpMatrix"><em>DoubleTpMatrix</em></a>) â The input lower-triangular matrix.</li>
<li><strong>trans</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixTransposeType" title="kaldi.matrix.common.MatrixTransposeType"><em>MatrixTransposeType</em></a>) â Whether to use <strong>M</strong> or its transpose.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubVector.sum">
<code class="descname">sum</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.DoubleSubVector.sum" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the sum of the elements.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubVector.sum_log">
<code class="descname">sum_log</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.DoubleSubVector.sum_log" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the sum of the logs of the elements.</p>
<p>Returns NaN if any of the elements is negative.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubVector.tanh_">
<code class="descname">tanh_</code><span class="sig-paren">(</span><em>src:DoubleVectorBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubVector.tanh_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Sets the elements to the tanh of the elements in another vector.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>src</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a>) â The input vector.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleSubVector.write">
<code class="descname">write</code><span class="sig-paren">(</span><em>os:ostream</em>, <em>binary:bool</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleSubVector.write" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Writes the vector to given C++ stream.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>os</strong> (<a class="reference internal" href="kaldi.base.html#kaldi.base.io.ostream" title="kaldi.base.io.ostream"><em>ostream</em></a>) â The output C++ straem.</li>
<li><strong>binary</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) â Whether the stream is binary.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="kaldi.matrix.DoubleVector">
<em class="property">class </em><code class="descclassname">kaldi.matrix.</code><code class="descname">DoubleVector</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/kaldi/matrix.html#DoubleVector"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#kaldi.matrix.DoubleVector" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Double precision vector.</p>
<dl class="docutils">
<dt>DoubleVector():</dt>
<dd>Creates an empty vector.</dd>
<dt>DoubleVector(size: int):</dt>
<dd>Creates a new vector of given size and fills it with zeros.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>size</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â Size of the new vector.</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>DoubleVector(obj: vector_like):</dt>
<dd>Creates a new vector with the elements in obj.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>obj</strong> (<em>vector_like</em>) â A vector, a 1-D numpy array, any object exposing
a 1-D array interface, an object with an __array__ method
returning a 1-D numpy array, or any sequence that can be
interpreted as a vector.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="kaldi.matrix.DoubleVector.add_">
<code class="descname">add_</code><span class="sig-paren">(</span><em>value:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleVector.add_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds the given value to each element.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>value</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The value to add.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleVector.add_col_sum_mat_">
<code class="descname">add_col_sum_mat_</code><span class="sig-paren">(</span><em>alpha</em>, <em>M</em>, <em>beta=1.0</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleVector.add_col_sum_mat_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds the sum of matrix columns.</p>
<p>Performs the operation
<span class="math">\(y = \alpha\ \sum_i M[:,i] + \beta\ y\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the column sum.</li>
<li><strong>M</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The input matrix.</li>
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the destination vector.
Defaults to <code class="docutils literal"><span class="pre">1.0</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> â If <code class="xref py py-obj docutils literal"><span class="pre">self.dim</span> <span class="pre">!=</span> <span class="pre">M.num_rows</span></code>.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleVector.add_diag_mat2_">
<code class="descname">add_diag_mat2_</code><span class="sig-paren">(</span><em>alpha</em>, <em>M</em>, <em>trans=&lt;MatrixTransposeType.NO_TRANS: 111&gt;</em>, <em>beta=1.0</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleVector.add_diag_mat2_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds the diagonal of a matrix multiplied with its transpose.</p>
<p>Performs the operation <span class="math">\(y = \alpha\ diag(M M^T) + \beta\ y\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the diagonal.</li>
<li><strong>M</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The input matrix.</li>
<li><strong>trans</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixTransposeType" title="kaldi.matrix.common.MatrixTransposeType"><em>MatrixTransposeType</em></a>) â Whether to use <strong>M</strong> or its transpose.
Defaults to <code class="docutils literal"><span class="pre">MatrixTransposeType.NO_TRANS</span></code>.</li>
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the destination vector.
Defaults to <code class="docutils literal"><span class="pre">1.0</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleVector.add_diag_mat_mat_">
<code class="descname">add_diag_mat_mat_</code><span class="sig-paren">(</span><em>alpha</em>, <em>M</em>, <em>transM</em>, <em>N</em>, <em>transN</em>, <em>beta=1.0</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleVector.add_diag_mat_mat_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds the diagonal of a matrix-matrix product.</p>
<p>Performs the operation <span class="math">\(y = \alpha\ diag(M N) + \beta\ y\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the diagonal.</li>
<li><strong>M</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The first input matrix.</li>
<li><strong>transM</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixTransposeType" title="kaldi.matrix.common.MatrixTransposeType"><em>MatrixTransposeType</em></a>) â Whether to use <strong>M</strong> or its transpose.</li>
<li><strong>N</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The second input matrix.</li>
<li><strong>transN</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixTransposeType" title="kaldi.matrix.common.MatrixTransposeType"><em>MatrixTransposeType</em></a>) â Whether to use <strong>N</strong> or its transpose.</li>
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the destination vector.
Defaults to <code class="docutils literal"><span class="pre">1.0</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleVector.add_mat_vec_">
<code class="descname">add_mat_vec_</code><span class="sig-paren">(</span><em>alpha</em>, <em>M</em>, <em>trans</em>, <em>v</em>, <em>beta</em>, <em>sparse=False</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleVector.add_mat_vec_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Computes a matrix-vector product.</p>
<p>Performs the operation <span class="math">\(y = \alpha\ M\ v + \beta\ y\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the matrix-vector product.</li>
<li><strong>M</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.DoubleSpMatrix" title="kaldi.matrix.packed.DoubleSpMatrix"><em>DoubleSpMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.DoubleTpMatrix" title="kaldi.matrix.packed.DoubleTpMatrix"><em>DoubleTpMatrix</em></a>) â The input matrix.</li>
<li><strong>trans</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixTransposeType" title="kaldi.matrix.common.MatrixTransposeType"><em>MatrixTransposeType</em></a>) â Whether to use <strong>M</strong> or its transpose.</li>
<li><strong>v</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a>) â The input vector.</li>
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the destination vector.</li>
<li><strong>sparse</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) â Whether to use the algorithm that is faster when
<strong>v</strong> is sparse. Defaults to <code class="docutils literal"><span class="pre">False</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleVector.add_row_sum_mat_">
<code class="descname">add_row_sum_mat_</code><span class="sig-paren">(</span><em>alpha</em>, <em>M</em>, <em>beta=1.0</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleVector.add_row_sum_mat_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds the sum of matrix rows.</p>
<p>Performs the operation <span class="math">\(y = \alpha\ \sum_i M[i] + \beta\ y\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the row sum.</li>
<li><strong>M</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The input matrix.</li>
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the destination vector.
Defaults to <code class="docutils literal"><span class="pre">1.0</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> â If <code class="xref py py-obj docutils literal"><span class="pre">self.dim</span> <span class="pre">!=</span> <span class="pre">M.num_cols</span></code>.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleVector.add_vec2_">
<code class="descname">add_vec2_</code><span class="sig-paren">(</span><em>alpha</em>, <em>v</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleVector.add_vec2_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds the squares of elements from another vector.</p>
<p>Performs the operation <span class="math">\(y = y + \alpha\ v\odot v\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier.</li>
<li><strong>v</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a>) â The input vector.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleVector.add_vec_">
<code class="descname">add_vec_</code><span class="sig-paren">(</span><em>alpha</em>, <em>v</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleVector.add_vec_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds another vector.</p>
<p>Performs the operation <span class="math">\(y = y + \alpha\ v\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier.</li>
<li><strong>v</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a>) â The input vector.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleVector.add_vec_div_vec_">
<code class="descname">add_vec_div_vec_</code><span class="sig-paren">(</span><em>alpha:float</em>, <em>v:DoubleVectorBase</em>, <em>r:DoubleVectorBase</em>, <em>beta:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleVector.add_vec_div_vec_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Computes an element-wise vector-vector division.</p>
<p>Performs the operation <span class="math">\(y = \alpha\ v\oslash r + \beta\ y\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the division.</li>
<li><strong>v</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a>) â The first input vector.</li>
<li><strong>r</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a>) â The second input vector.</li>
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the destination vector.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleVector.add_vec_vec_">
<code class="descname">add_vec_vec_</code><span class="sig-paren">(</span><em>alpha:float</em>, <em>v:DoubleVectorBase</em>, <em>r:DoubleVectorBase</em>, <em>beta:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleVector.add_vec_vec_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Computes an element-wise vector-vector product.</p>
<p>Performs the operation <span class="math">\(y = \alpha\ v\odot r + \beta\ y\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the product.</li>
<li><strong>v</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a>) â The first input vector.</li>
<li><strong>r</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a>) â The second input vector.</li>
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the destination vector.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleVector.apply_abs_">
<code class="descname">apply_abs_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleVector.apply_abs_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies the absolute value operation to each element.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleVector.apply_ceiling_">
<code class="descname">apply_ceiling_</code><span class="sig-paren">(</span><em>ceiling:float</em><span class="sig-paren">)</span> &#x2192; int<a class="headerlink" href="#kaldi.matrix.DoubleVector.apply_ceiling_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies the ceiling operation to each element.</p>
<p>Performs the operation <code class="xref py py-obj docutils literal"><span class="pre">y[i]</span> <span class="pre">=</span> <span class="pre">min(y[i],</span> <span class="pre">ceiling)</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>ceiling</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The ceiling value.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The number of elements changed.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleVector.apply_exp_">
<code class="descname">apply_exp_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleVector.apply_exp_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies the exponential operation to each element.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleVector.apply_floor_">
<code class="descname">apply_floor_</code><span class="sig-paren">(</span><em>floor:float</em><span class="sig-paren">)</span> &#x2192; int<a class="headerlink" href="#kaldi.matrix.DoubleVector.apply_floor_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies the floor operation to each element.</p>
<p>Performs the operation <code class="xref py py-obj docutils literal"><span class="pre">y[i]</span> <span class="pre">=</span> <span class="pre">max(y[i],</span> <span class="pre">floor)</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>floor</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The floor value.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The number of elements changed.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleVector.apply_floor_vector_">
<code class="descname">apply_floor_vector_</code><span class="sig-paren">(</span><em>floor:DoubleVectorBase</em><span class="sig-paren">)</span> &#x2192; int<a class="headerlink" href="#kaldi.matrix.DoubleVector.apply_floor_vector_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies a separate floor operation to each element.</p>
<p>Performs the operation <code class="xref py py-obj docutils literal"><span class="pre">y[i]</span> <span class="pre">=</span> <span class="pre">max(y[i],</span> <span class="pre">floor[i])</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>floor</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a>) â The floor vector.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The number of elements changed.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleVector.apply_log_">
<code class="descname">apply_log_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleVector.apply_log_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies the natural log operation to each element.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleVector.apply_log_and_copy_">
<code class="descname">apply_log_and_copy_</code><span class="sig-paren">(</span><em>v:DoubleVectorBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleVector.apply_log_and_copy_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies the natural log operation to the given vector and copies it.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>v</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a>) â The input vector.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleVector.apply_log_softmax_">
<code class="descname">apply_log_softmax_</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.DoubleVector.apply_log_softmax_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies the logsoftmax operation to each element.</p>
<p>Performs the operation
<span class="math">\(y_i = y_i - \log(\sum_j \exp(y_j))\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><span class="math">\(\log(\sum_j \exp(y_j))\)</span>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleVector.apply_pow_">
<code class="descname">apply_pow_</code><span class="sig-paren">(</span><em>power:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleVector.apply_pow_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Takes each element to the given power.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>power</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The exponent value.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â If an element cannot be raised to the given power.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleVector.apply_pow_abs_">
<code class="descname">apply_pow_abs_</code><span class="sig-paren">(</span><em>power:float</em>, <em>include_sign:bool=default</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleVector.apply_pow_abs_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Takes the absolute value of each element raised to the given power.</p>
<p>If the power is negative and the input is zero, the output is zero.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>power</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The power value.</li>
<li><strong>include_sign</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) â Whether to include the sign of the input value.
Defaults to <code class="docutils literal"><span class="pre">False</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â If an element cannot be raised to the given power.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleVector.apply_softmax_">
<code class="descname">apply_softmax_</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.DoubleVector.apply_softmax_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies the softmax operation to each element.</p>
<p>Performs the operation
<span class="math">\(y_i = \frac{\exp(y_i)}{\sum_j \exp(y_j)}\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><span class="math">\(\log(\sum_j \exp(y_j))\)</span>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleVector.approx_equal">
<code class="descname">approx_equal</code><span class="sig-paren">(</span><em>other</em>, <em>tol=0.01</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleVector.approx_equal" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Checks if vectors are approximately equal.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>other</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a>) â The vector to compare against.</li>
<li><strong>tol</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The tolerance for the equality check.
Defaults to <code class="docutils literal"><span class="pre">0.01</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">True if <code class="xref py py-obj docutils literal"><span class="pre">self.dim</span> <span class="pre">==</span> <span class="pre">other.dim</span></code> and
<code class="xref py py-obj docutils literal"><span class="pre">||self-other||</span> <span class="pre">&lt;=</span> <span class="pre">tol*||self||</span></code>. False otherwise.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleVector.clone">
<code class="descname">clone</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleVector.clone" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Clones the vector.</p>
<p>The clone allocates new memory for its contents and supports vector
operations that reallocate memory, i.e. it is not a view.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A copy of the vector.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector">DoubleVector</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleVector.copy_">
<code class="descname">copy_</code><span class="sig-paren">(</span><em>src</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleVector.copy_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies the elements from another vector.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>src</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a>) â The input vector.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleVector.copy_col_from_mat_">
<code class="descname">copy_col_from_mat_</code><span class="sig-paren">(</span><em>M</em>, <em>col</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleVector.copy_col_from_mat_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies the elements from a matrix column.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>M</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The input matrix.</li>
<li><strong>col</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The column index.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> â In case of size mismatch.</li>
<li><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#IndexError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">IndexError</span></code></a> â If the column index is out-of-bounds.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleVector.copy_cols_from_mat_">
<code class="descname">copy_cols_from_mat_</code><span class="sig-paren">(</span><em>M</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleVector.copy_cols_from_mat_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies the elements from a matrix column-by-columm.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>M</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The input matrix.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleVector.copy_diag_from_mat_">
<code class="descname">copy_diag_from_mat_</code><span class="sig-paren">(</span><em>M</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleVector.copy_diag_from_mat_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies the digonal elements from a matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>M</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.DoubleSpMatrix" title="kaldi.matrix.packed.DoubleSpMatrix"><em>DoubleSpMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.DoubleTpMatrix" title="kaldi.matrix.packed.DoubleTpMatrix"><em>DoubleTpMatrix</em></a>) â The input matrix.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleVector.copy_from_packed_">
<code class="descname">copy_from_packed_</code><span class="sig-paren">(</span><em>M</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleVector.copy_from_packed_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies the elements from a packed matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>M</strong> (<a class="reference internal" href="#kaldi.matrix.packed.SpMatrix" title="kaldi.matrix.packed.SpMatrix"><em>SpMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.TpMatrix" title="kaldi.matrix.packed.TpMatrix"><em>TpMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.DoubleSpMatrix" title="kaldi.matrix.packed.DoubleSpMatrix"><em>DoubleSpMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.DoubleTpMatrix" title="kaldi.matrix.packed.DoubleTpMatrix"><em>DoubleTpMatrix</em></a>) â The input packed matrix.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> â If <code class="xref py py-obj docutils literal"><span class="pre">self.dim</span> <span class="pre">!=</span>&#160; <span class="pre">M.num_rows</span> <span class="pre">*</span> <span class="pre">(M.num_rows</span> <span class="pre">+</span> <span class="pre">1)</span> <span class="pre">/</span> <span class="pre">2</span></code>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleVector.copy_row_from_mat_">
<code class="descname">copy_row_from_mat_</code><span class="sig-paren">(</span><em>M</em>, <em>row</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleVector.copy_row_from_mat_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies the elements from a matrix row.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>M</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.SpMatrix" title="kaldi.matrix.packed.SpMatrix"><em>SpMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.DoubleSpMatrix" title="kaldi.matrix.packed.DoubleSpMatrix"><em>DoubleSpMatrix</em></a>) â The input matrix.</li>
<li><strong>row</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The row index.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> â In case of size mismatch.</li>
<li><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#IndexError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">IndexError</span></code></a> â If the row index is out-of-bounds.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleVector.copy_rows_from_mat_">
<code class="descname">copy_rows_from_mat_</code><span class="sig-paren">(</span><em>M</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleVector.copy_rows_from_mat_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies the elements from a matrix row-by-row.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>M</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The input matrix.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.DoubleVector.data">
<code class="descname">data</code><a class="headerlink" href="#kaldi.matrix.DoubleVector.data" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Vector data as a memoryview.</p>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.DoubleVector.dim">
<code class="descname">dim</code><a class="headerlink" href="#kaldi.matrix.DoubleVector.dim" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Dimension (zero for empty vector).</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleVector.div_elements_">
<code class="descname">div_elements_</code><span class="sig-paren">(</span><em>v</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleVector.div_elements_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Divides the elements with the elements of another vector.</p>
<p>Performs the operation <code class="xref py py-obj docutils literal"><span class="pre">y[i]</span> <span class="pre">/=</span> <span class="pre">v[i]</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>v</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a>) â The input vector.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleVector.from_size">
<code class="descname">from_size</code><span class="sig-paren">(</span><em>size:int</em>, <em>resize_type:MatrixResizeType=default</em><span class="sig-paren">)</span> &#x2192; DoubleVector<a class="headerlink" href="#kaldi.matrix.DoubleVector.from_size" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Creates a new vector of given size.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>size</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The size of the new vector.</li>
<li><strong>resize_type</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixResizeType" title="kaldi.matrix.common.MatrixResizeType"><em>MatrixResizeType</em></a>) â How to initialize the elements.
If <code class="docutils literal"><span class="pre">MatrixResizeType.SET_ZERO</span></code> or
<code class="docutils literal"><span class="pre">MatrixResizeType.COPY_DATA</span></code>, they are set to zero.
If <code class="docutils literal"><span class="pre">MatrixResizeType.UNDEFINED</span></code>, they are left uninitialized.
Defaults to <code class="docutils literal"><span class="pre">MatrixResizeType.SET_ZERO</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleVector.from_vector">
<code class="descname">from_vector</code><span class="sig-paren">(</span><em>v:DoubleVectorBase</em><span class="sig-paren">)</span> &#x2192; DoubleVector<a class="headerlink" href="#kaldi.matrix.DoubleVector.from_vector" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Creates a new vector from a given vector.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>v</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a>) â The input vector.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleVector.invert_elements_">
<code class="descname">invert_elements_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleVector.invert_elements_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Inverts the elements.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â If any of the elements is zero.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleVector.is_zero">
<code class="descname">is_zero</code><span class="sig-paren">(</span><em>cutoff:float=default</em><span class="sig-paren">)</span> &#x2192; bool<a class="headerlink" href="#kaldi.matrix.DoubleVector.is_zero" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Checks if the elements are all zeros.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cutoff</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The cutoff value. Defaults to <code class="docutils literal"><span class="pre">1.0e-06</span></code>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if <code class="xref py py-obj docutils literal"><span class="pre">max(abs(self))</span> <span class="pre">&lt;=</span> <span class="pre">cutoff</span></code>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleVector.log_sum_exp">
<code class="descname">log_sum_exp</code><span class="sig-paren">(</span><em>prune:float=default</em><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.DoubleVector.log_sum_exp" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Computes <span class="math">\(f(x)=\log(\sum_i \exp(x_i))\)</span> without exp overflow.</p>
<p>If <code class="xref py py-obj docutils literal"><span class="pre">prune</span> <span class="pre">&gt;</span> <span class="pre">0.0</span></code>, ignores terms less than <code class="xref py py-obj docutils literal"><span class="pre">max(x)</span> <span class="pre">-</span> <span class="pre">prune</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>prune</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The pruning beam. Defaults to <code class="xref py py-obj docutils literal"><span class="pre">-1.0</span></code>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><span class="math">\(\log(\sum_i \exp(x_i))\)</span>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleVector.max">
<code class="descname">max</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.DoubleVector.max" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the maximum value in the vector.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleVector.max_index">
<code class="descname">max_index</code><span class="sig-paren">(</span><em>) -&gt; (value:float</em>, <em>index:int</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleVector.max_index" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the maximum value in the vector, and the associated index.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleVector.min">
<code class="descname">min</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.DoubleVector.min" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the minimum value in the vector.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleVector.min_index">
<code class="descname">min_index</code><span class="sig-paren">(</span><em>) -&gt; (value:float</em>, <em>index:int</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleVector.min_index" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the minimum value in the vector, and the associated index.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleVector.mul_elements_">
<code class="descname">mul_elements_</code><span class="sig-paren">(</span><em>v</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleVector.mul_elements_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Multiplies the elements with the elements of another vector.</p>
<p>Performs the operation <code class="xref py py-obj docutils literal"><span class="pre">y[i]</span> <span class="pre">*=</span> <span class="pre">v[i]</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>v</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a>) â The input vector.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleVector.mul_tp_">
<code class="descname">mul_tp_</code><span class="sig-paren">(</span><em>M</em>, <em>trans</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleVector.mul_tp_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Multiplies the vector with a lower-triangular matrix.</p>
<p>Performs the operation <span class="math">\(y = M\ y\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>M</strong> (<a class="reference internal" href="#kaldi.matrix.packed.DoubleTpMatrix" title="kaldi.matrix.packed.DoubleTpMatrix"><em>DoubleTpMatrix</em></a>) â The input lower-triangular matrix.</li>
<li><strong>trans</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixTransposeType" title="kaldi.matrix.common.MatrixTransposeType"><em>MatrixTransposeType</em></a>) â Whether to use <strong>M</strong> or its transpose.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleVector.norm">
<code class="descname">norm</code><span class="sig-paren">(</span><em>p:float</em><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.DoubleVector.norm" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Computes the p-norm of the vector.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>p</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The p value. It must be non-negative.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The p-norm.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â If <code class="xref py py-obj docutils literal"><span class="pre">p</span> <span class="pre">&lt;</span> <span class="pre">0</span></code> or p-norm cannot be computed.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleVector.numpy">
<code class="descname">numpy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleVector.numpy" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Converts the vector to a 1-D NumPy array.</p>
<p>The NumPy array is a view into the vector, i.e. no data is copied.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A NumPy array sharing data with this vector.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)">numpy.ndarray</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleVector.rand_categorical">
<code class="descname">rand_categorical</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; int<a class="headerlink" href="#kaldi.matrix.DoubleVector.rand_categorical" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Chooses a random index into the vector.</p>
<p>Chooses an index with probability proportional to its element value.
Requires <code class="xref py py-obj docutils literal"><span class="pre">min(self)</span> <span class="pre">&gt;=</span> <span class="pre">0</span></code> and <code class="xref py py-obj docutils literal"><span class="pre">sum(self)</span> <span class="pre">&gt;</span> <span class="pre">0</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A random index value.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â If <code class="xref py py-obj docutils literal"><span class="pre">min(self)</span> <span class="pre">&lt;</span> <span class="pre">0</span> <span class="pre">||</span> <span class="pre">sum(self)</span> <span class="pre">&lt;=</span> <span class="pre">0</span></code>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleVector.range">
<code class="descname">range</code><span class="sig-paren">(</span><em>start</em>, <em>length</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleVector.range" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the given range of elements as a new vector view.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>start</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The start index.</li>
<li><strong>length</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The length.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A vector view representing the given range.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#kaldi.matrix.DoubleSubVector" title="kaldi.matrix.DoubleSubVector">DoubleSubVector</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleVector.read_">
<code class="descname">read_</code><span class="sig-paren">(</span><em>is:istream</em>, <em>binary:bool</em>, <em>add:bool=default</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleVector.read_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Reads the vector from the given C++ stream.</p>
<p>Resizes the vector to match the size of the matrix read from stream.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>is</strong> (<a class="reference internal" href="kaldi.base.html#kaldi.base.io.istream" title="kaldi.base.io.istream"><em>istream</em></a>) â The input C++ stream.</li>
<li><strong>binary</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) â Whether the stream is binary.</li>
<li><strong>add</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) â Whether to add existing contents to the read vector.
Defaults to <code class="docutils literal"><span class="pre">False</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleVector.replace_value_">
<code class="descname">replace_value_</code><span class="sig-paren">(</span><em>orig:float</em>, <em>changed:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleVector.replace_value_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Replaces the elements.</p>
<p>Performs the operation <code class="xref py py-obj docutils literal"><span class="pre">y[y</span> <span class="pre">==</span> <span class="pre">orig]</span> <span class="pre">=</span> <span class="pre">changed</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>orig</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The original value to replace.</li>
<li><strong>changed</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The value to replace with.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleVector.resize_">
<code class="descname">resize_</code><span class="sig-paren">(</span><em>length:int</em>, <em>resize_type:MatrixResizeType=default</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleVector.resize_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Resizes the vector.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>length</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The new length.</li>
<li><strong>resize_type</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixResizeType" title="kaldi.matrix.common.MatrixResizeType"><em>MatrixResizeType</em></a>) â How to initialize the elements.
If <code class="docutils literal"><span class="pre">MatrixResizeType.SET_ZERO</span></code> they are set to zero.
If <code class="docutils literal"><span class="pre">MatrixResizeType.COPY_DATA</span></code>, existing elements are
retained, new ones are set to zero.
If <code class="docutils literal"><span class="pre">MatrixResizeType.UNDEFINED</span></code>, they are left uninitialized.
Defaults to <code class="docutils literal"><span class="pre">MatrixResizeType.SET_ZERO</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleVector.scale_">
<code class="descname">scale_</code><span class="sig-paren">(</span><em>alpha:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleVector.scale_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Scales the vector.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleVector.set_">
<code class="descname">set_</code><span class="sig-paren">(</span><em>f:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleVector.set_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Sets the elements to the given value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>f</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The value to set.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleVector.set_randn_">
<code class="descname">set_randn_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleVector.set_randn_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Sets the elements to numbers from standard normal distribution.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleVector.set_randn_uniform_">
<code class="descname">set_randn_uniform_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleVector.set_randn_uniform_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Sets the elements to numbers uniformly distributed on (0,1).</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleVector.set_zero_">
<code class="descname">set_zero_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleVector.set_zero_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Sets the elements to zero.</p>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.DoubleVector.shape">
<code class="descname">shape</code><a class="headerlink" href="#kaldi.matrix.DoubleVector.shape" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Single element tuple representing the size of the vector.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleVector.sigmoid_">
<code class="descname">sigmoid_</code><span class="sig-paren">(</span><em>src:DoubleVectorBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleVector.sigmoid_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Sets the elements to the sigmoid of the elements in another vector.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>src</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a>) â The input vector.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleVector.size">
<code class="descname">size</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleVector.size" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the size of the vector as a single element tuple.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleVector.size_in_bytes">
<code class="descname">size_in_bytes</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; int<a class="headerlink" href="#kaldi.matrix.DoubleVector.size_in_bytes" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the size (in bytes) of the data held by the vector.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleVector.solve_">
<code class="descname">solve_</code><span class="sig-paren">(</span><em>M</em>, <em>trans</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleVector.solve_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Solves a linear system.</p>
<p>The linear system is defined as <span class="math">\(M\ x = b\)</span>, where <span class="math">\(b\)</span> and
<span class="math">\(x\)</span> are the initial and final values of the vector, respectively.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Does not test for <span class="math">\(M\)</span> being singular or near-singular.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>M</strong> (<a class="reference internal" href="#kaldi.matrix.packed.DoubleTpMatrix" title="kaldi.matrix.packed.DoubleTpMatrix"><em>DoubleTpMatrix</em></a>) â The input lower-triangular matrix.</li>
<li><strong>trans</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixTransposeType" title="kaldi.matrix.common.MatrixTransposeType"><em>MatrixTransposeType</em></a>) â Whether to use <strong>M</strong> or its transpose.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleVector.sum">
<code class="descname">sum</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.DoubleVector.sum" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the sum of the elements.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleVector.sum_log">
<code class="descname">sum_log</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.DoubleVector.sum_log" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the sum of the logs of the elements.</p>
<p>Returns NaN if any of the elements is negative.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleVector.swap_">
<code class="descname">swap_</code><span class="sig-paren">(</span><em>other:DoubleVector</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleVector.swap_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Swaps the contents of vectors.</p>
<p>Shallow swap.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>other</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a>) â The vector to swap contents with.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleVector.tanh_">
<code class="descname">tanh_</code><span class="sig-paren">(</span><em>src:DoubleVectorBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleVector.tanh_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Sets the elements to the tanh of the elements in another vector.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>src</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a>) â The input vector.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.DoubleVector.write">
<code class="descname">write</code><span class="sig-paren">(</span><em>os:ostream</em>, <em>binary:bool</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.DoubleVector.write" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Writes the vector to given C++ stream.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>os</strong> (<a class="reference internal" href="kaldi.base.html#kaldi.base.io.ostream" title="kaldi.base.io.ostream"><em>ostream</em></a>) â The output C++ straem.</li>
<li><strong>binary</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) â Whether the stream is binary.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="kaldi.matrix.Matrix">
<em class="property">class </em><code class="descclassname">kaldi.matrix.</code><code class="descname">Matrix</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/kaldi/matrix.html#Matrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#kaldi.matrix.Matrix" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Single precision matrix.</p>
<dl class="docutils">
<dt>Matrix():</dt>
<dd>Creates an empty matrix.</dd>
<dt>Matrix(num_rows: int, num_cols: int):</dt>
<dd>Creates a new matrix of given size and fills it with zeros.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>num_rows</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â Number of rows of the new matrix.</li>
<li><strong>num_cols</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â Number of cols of the new matrix.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Matrix(obj: matrix_like):</dt>
<dd>Creates a new matrix with the elements in obj.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>obj</strong> (<em>matrix_like</em>) â A matrix, a 2-D numpy array, any object exposing
a 2-D array interface, an object with an __array__ method
returning a 2-D numpy array, or any (nested) sequence that can
be interpreted as a matrix.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="kaldi.matrix.Matrix.add_">
<code class="descname">add_</code><span class="sig-paren">(</span><em>alpha:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Matrix.add_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds a scalar to each element of the matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar to add.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.add_cols_">
<code class="descname">add_cols_</code><span class="sig-paren">(</span><em>src</em>, <em>indices</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Matrix.add_cols_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds columns from another matrix.</p>
<p>Adds column <code class="xref py py-obj docutils literal"><span class="pre">indices[r]</span></code> of <code class="xref py py-obj docutils literal"><span class="pre">src</span></code> to column <code class="xref py py-obj docutils literal"><span class="pre">r</span></code>. As a special case, if
<code class="xref py py-obj docutils literal"><span class="pre">indexes[i]</span> <span class="pre">==</span> <span class="pre">-1</span></code>, skips column <code class="xref py py-obj docutils literal"><span class="pre">i</span></code>. All elements of indices must be in
<code class="xref py py-obj docutils literal"><span class="pre">[-1,</span> <span class="pre">src.num_cols-1]</span></code>, and <code class="xref py py-obj docutils literal"><span class="pre">src.num_rows</span></code> must equal <code class="xref py py-obj docutils literal"><span class="pre">self.num_rows</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>src</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The input matrix.</li>
<li><strong>indices</strong> (<em>List</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>]</em>) â The list of column indices.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.add_diag_vec_mat_">
<code class="descname">add_diag_vec_mat_</code><span class="sig-paren">(</span><em>alpha:float</em>, <em>v:VectorBase</em>, <em>M:MatrixBase</em>, <em>transM:MatrixTransposeType</em>, <em>beta:float=default</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Matrix.add_diag_vec_mat_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds given matrix to this one after scaling its rows.</p>
<p>Perform the operation <span class="math">\(S = \alpha\ diag(v)\ M + \beta\ S\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for <span class="math">\(diag(v) M\)</span>.</li>
<li><strong>v</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a>) â The scaling vector.</li>
<li><strong>M</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The input matrix.</li>
<li><strong>transM</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixTransposeType" title="kaldi.matrix.common.MatrixTransposeType"><em>MatrixTransposeType</em></a>) â Whether to use <strong>M</strong> or its transpose.
Defaults to <code class="docutils literal"><span class="pre">MatrixTransposeType.NO_TRANS</span></code>.</li>
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the destination matrix.
Defaults to <code class="docutils literal"><span class="pre">1.0</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.add_mat_">
<code class="descname">add_mat_</code><span class="sig-paren">(</span><em>alpha</em>, <em>M</em>, <em>trans=&lt;MatrixTransposeType.NO_TRANS: 111&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Matrix.add_mat_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds another matrix to this one.</p>
<p>Performs the operation <span class="math">\(S = \alpha\ M + S\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier.</li>
<li><strong>M</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.SpMatrix" title="kaldi.matrix.packed.SpMatrix"><em>SpMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.DoubleSpMatrix" title="kaldi.matrix.packed.DoubleSpMatrix"><em>DoubleSpMatrix</em></a>) â The input matrix.</li>
<li><strong>trans</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixTransposeType" title="kaldi.matrix.common.MatrixTransposeType"><em>MatrixTransposeType</em></a>) â Whether to use <strong>M</strong> or its transpose.
Defaults to <code class="docutils literal"><span class="pre">MatrixTransposeType.NO_TRANS</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.add_mat_diag_vec_">
<code class="descname">add_mat_diag_vec_</code><span class="sig-paren">(</span><em>alpha:float</em>, <em>M:MatrixBase</em>, <em>transM:MatrixTransposeType</em>, <em>v:VectorBase</em>, <em>beta:float=default</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Matrix.add_mat_diag_vec_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds given matrix to this one after scaling its columns.</p>
<p>Perform the operation <span class="math">\(S = \alpha\ M\ diag(v) + \beta\ S\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for <span class="math">\(M\ diag(v)\)</span>.</li>
<li><strong>M</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The input matrix.</li>
<li><strong>transM</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixTransposeType" title="kaldi.matrix.common.MatrixTransposeType"><em>MatrixTransposeType</em></a>) â Whether to use <strong>M</strong> or its transpose.
Defaults to <code class="docutils literal"><span class="pre">MatrixTransposeType.NO_TRANS</span></code>.</li>
<li><strong>v</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a>) â The scaling vector.</li>
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the destination matrix.
Defaults to <code class="docutils literal"><span class="pre">1.0</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.add_mat_mat_">
<code class="descname">add_mat_mat_</code><span class="sig-paren">(</span><em>A</em>, <em>B</em>, <em>transA=&lt;MatrixTransposeType.NO_TRANS: 111&gt;</em>, <em>transB=&lt;MatrixTransposeType.NO_TRANS: 111&gt;</em>, <em>alpha=1.0</em>, <em>beta=1.0</em>, <em>sparseA=False</em>, <em>sparseB=False</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Matrix.add_mat_mat_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds the product of given matrices.</p>
<p>Performs the operation <span class="math">\(M = \alpha\ A\ B + \beta\ M\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>A</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.TpMatrix" title="kaldi.matrix.packed.TpMatrix"><em>TpMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.SpMatrix" title="kaldi.matrix.packed.SpMatrix"><em>SpMatrix</em></a>) â The first input matrix.</li>
<li><strong>B</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.TpMatrix" title="kaldi.matrix.packed.TpMatrix"><em>TpMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.SpMatrix" title="kaldi.matrix.packed.SpMatrix"><em>SpMatrix</em></a>) â The second input matrix.</li>
<li><strong>transA</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixTransposeType" title="kaldi.matrix.common.MatrixTransposeType"><em>MatrixTransposeType</em></a>) â Whether to use <strong>A</strong> or its transpose.
Defaults to <code class="docutils literal"><span class="pre">MatrixTransposeType.NO_TRANS</span></code>.</li>
<li><strong>transB</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixTransposeType" title="kaldi.matrix.common.MatrixTransposeType"><em>MatrixTransposeType</em></a>) â Whether to use <strong>B</strong> or its transpose.
Defaults to <code class="docutils literal"><span class="pre">MatrixTransposeType.NO_TRANS</span></code>.</li>
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the product.
Defaults to <code class="docutils literal"><span class="pre">1.0</span></code>.</li>
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the destination vector.
Defaults to <code class="docutils literal"><span class="pre">1.0</span></code>.</li>
<li><strong>sparseA</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) â Whether to use the algorithm that is faster when
<strong>A</strong> is sparse. Defaults to <code class="docutils literal"><span class="pre">False</span></code>.</li>
<li><strong>sparseA</strong> â Whether to use the algorithm that is faster when
<strong>B</strong> is sparse. Defaults to <code class="docutils literal"><span class="pre">False</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</li>
<li><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">TypeError</span></code></a> â If matrices of given types can not be multiplied.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.add_mat_mat_elements_">
<code class="descname">add_mat_mat_elements_</code><span class="sig-paren">(</span><em>alpha:float</em>, <em>A:MatrixBase</em>, <em>B:MatrixBase</em>, <em>beta:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Matrix.add_mat_mat_elements_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds the element-wise multiplication of given matrices to this one.</p>
<p>Performs the operation <span class="math">\(S = \alpha\ A\odot B + \beta\ S\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for <span class="math">\(A \odot B\)</span>.</li>
<li><strong>A</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The first input matrix.</li>
<li><strong>B</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The second input matrix.</li>
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the destination matrix.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.add_mat_mat_mat_">
<code class="descname">add_mat_mat_mat_</code><span class="sig-paren">(</span><em>alpha:float</em>, <em>A:MatrixBase</em>, <em>transA:MatrixTransposeType</em>, <em>B:MatrixBase</em>, <em>transB:MatrixTransposeType</em>, <em>C:MatrixBase</em>, <em>transC:MatrixTransposeType</em>, <em>beta:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Matrix.add_mat_mat_mat_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds the product of three matrices to this one.</p>
<p>Performs the operation <span class="math">\(S = \alpha\ A\ B\ C + \beta\ S\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for <span class="math">\(A\ B\ C\)</span>.</li>
<li><strong>A</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The first input matrix.</li>
<li><strong>transA</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixTransposeType" title="kaldi.matrix.common.MatrixTransposeType"><em>MatrixTransposeType</em></a>) â Whether to use <strong>A</strong> or its transpose.</li>
<li><strong>B</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The second input matrix.</li>
<li><strong>transB</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixTransposeType" title="kaldi.matrix.common.MatrixTransposeType"><em>MatrixTransposeType</em></a>) â Whether to use <strong>B</strong> or its transpose.</li>
<li><strong>C</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The third input matrix.</li>
<li><strong>transC</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixTransposeType" title="kaldi.matrix.common.MatrixTransposeType"><em>MatrixTransposeType</em></a>) â Whether to use <strong>C</strong> or its transpose.</li>
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the destination matrix.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.add_rows_">
<code class="descname">add_rows_</code><span class="sig-paren">(</span><em>src</em>, <em>indices</em>, <em>alpha=1.0</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Matrix.add_rows_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds rows from another matrix.</p>
<p>Scales row <code class="xref py py-obj docutils literal"><span class="pre">indices[r]</span></code> of <code class="xref py py-obj docutils literal"><span class="pre">src</span></code> with <code class="xref py py-obj docutils literal"><span class="pre">alpha</span></code> and adds it to row <code class="xref py py-obj docutils literal"><span class="pre">r</span></code>. As
a special case, if <code class="xref py py-obj docutils literal"><span class="pre">indexes[i]</span> <span class="pre">==</span> <span class="pre">-1</span></code>, skips row <code class="xref py py-obj docutils literal"><span class="pre">i</span></code>. All elements of
indices must be in <code class="xref py py-obj docutils literal"><span class="pre">[-1,</span> <span class="pre">src.num_rows-1]</span></code>, and <code class="xref py py-obj docutils literal"><span class="pre">src.num_cols</span></code> must equal
<code class="xref py py-obj docutils literal"><span class="pre">self.num_cols</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>src</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The input matrix.</li>
<li><strong>indices</strong> (<em>List</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>]</em>) â The list of row indices.</li>
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier. Defaults to <code class="xref py py-obj docutils literal"><span class="pre">1.0</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.add_to_diag_">
<code class="descname">add_to_diag_</code><span class="sig-paren">(</span><em>alpha:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Matrix.add_to_diag_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds a scalar to the diagonal elements of the matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar to add.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.add_vec_to_cols_">
<code class="descname">add_vec_to_cols_</code><span class="sig-paren">(</span><em>alpha:float</em>, <em>v:VectorBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Matrix.add_vec_to_cols_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds input vector to each column of this matrix.</p>
<p>Performs the operation <span class="math">\(M_{ij} = M_{ij} + \alpha\ v_{i}\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier.</li>
<li><strong>v</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a>) â The input vector.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.add_vec_to_rows_">
<code class="descname">add_vec_to_rows_</code><span class="sig-paren">(</span><em>alpha:float</em>, <em>v:VectorBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Matrix.add_vec_to_rows_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds input vector to each row of this matrix.</p>
<p>Performs the operation <span class="math">\(M_{ij} = M_{ij} + \alpha\ v_{j}\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier.</li>
<li><strong>v</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a>) â The input vector.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.add_vec_vec_">
<code class="descname">add_vec_vec_</code><span class="sig-paren">(</span><em>alpha:float</em>, <em>a:VectorBase</em>, <em>b:VectorBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Matrix.add_vec_vec_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds outer product of input vectors to this matrix.</p>
<p>Performs the operation <span class="math">\(M = M + \alpha\ a \ b^T\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier.</li>
<li><strong>a</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a>) â The first input vector.</li>
<li><strong>b</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a>) â The second input vector.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.apply_ceiling_">
<code class="descname">apply_ceiling_</code><span class="sig-paren">(</span><em>ceiling:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Matrix.apply_ceiling_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies ceiling operation to each element.</p>
<p>Performs the operation <code class="xref py py-obj docutils literal"><span class="pre">M[i,j]</span> <span class="pre">=</span> <span class="pre">min(M[i,j],</span> <span class="pre">ceiling)</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>ceiling</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The ceiling value.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The number of elements changed.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.apply_exp_">
<code class="descname">apply_exp_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Matrix.apply_exp_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies exponential operation to each element.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.apply_floor_">
<code class="descname">apply_floor_</code><span class="sig-paren">(</span><em>floor:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Matrix.apply_floor_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies floor operation to each element.</p>
<p>Performs the operation <code class="xref py py-obj docutils literal"><span class="pre">M[i,j]</span> <span class="pre">=</span> <span class="pre">max(M[i,j],</span> <span class="pre">floor)</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>floor</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The floor value.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The number of elements changed.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.apply_heaviside_">
<code class="descname">apply_heaviside_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Matrix.apply_heaviside_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies the Heaviside step function to each element.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.apply_log_">
<code class="descname">apply_log_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Matrix.apply_log_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies natural log operation to each element.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.apply_pow_">
<code class="descname">apply_pow_</code><span class="sig-paren">(</span><em>power:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Matrix.apply_pow_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Takes each element to the given power.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>power</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The exponent value.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â If an element cannot be raised to the given power.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.apply_pow_abs_">
<code class="descname">apply_pow_abs_</code><span class="sig-paren">(</span><em>power:float</em>, <em>include_sign:bool=default</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Matrix.apply_pow_abs_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Takes the absolute value of each element raised to the given power.</p>
<p>If the power is negative and the input is zero, the output is zero.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>power</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The power value.</li>
<li><strong>include_sign</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) â Whether to include the sign of the input value.
Defaults to <code class="docutils literal"><span class="pre">False</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â If an element cannot be raised to the given power.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.apply_softmax_">
<code class="descname">apply_softmax_</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.Matrix.apply_softmax_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies the softmax operation to each element.</p>
<p>Performs the operation
<span class="math">\(M_{i,j} = \frac{\exp(M_{i,j})}{\sum_{k,j} \exp(M_{k,j})}\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><span class="math">\(\log(\sum_{k,j} \exp(M_{k,j}))\)</span>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.approx_equal">
<code class="descname">approx_equal</code><span class="sig-paren">(</span><em>other</em>, <em>tol=0.01</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Matrix.approx_equal" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Checks if matrices are approximately equal.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>other</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The matrix to compare against.</li>
<li><strong>tol</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The tolerance for the equality check.
Defaults to <code class="docutils literal"><span class="pre">0.01</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">True if <code class="xref py py-obj docutils literal"><span class="pre">self.size()</span> <span class="pre">==</span> <span class="pre">other.size()</span></code> and
<code class="xref py py-obj docutils literal"><span class="pre">||self-other||</span> <span class="pre">&lt;=</span> <span class="pre">tol*||self||</span></code>. False otherwise.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.clone">
<code class="descname">clone</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Matrix.clone" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Clones the matrix.</p>
<p>The clone allocates new memory for its contents and supports matrix
operations that reallocate memory, i.e. it is not a view.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A copy of the matrix.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix">Matrix</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.col_range">
<code class="descname">col_range</code><span class="sig-paren">(</span><em>col_start</em>, <em>num_cols</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Matrix.col_range" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the given range of columns as a new matrix view.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>col_start</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The start column index.</li>
<li><strong>num_cols</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The number of columns.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A matrix view representing the given column range.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#kaldi.matrix.SubMatrix" title="kaldi.matrix.SubMatrix">SubMatrix</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.cond">
<code class="descname">cond</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.Matrix.cond" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the condition number of the SVD computation.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.copy_">
<code class="descname">copy_</code><span class="sig-paren">(</span><em>src</em>, <em>trans=&lt;MatrixTransposeType.NO_TRANS: 111&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Matrix.copy_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies the elements from another matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>src</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.SpMatrix" title="kaldi.matrix.packed.SpMatrix"><em>SpMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.TpMatrix" title="kaldi.matrix.packed.TpMatrix"><em>TpMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.DoubleSpMatrix" title="kaldi.matrix.packed.DoubleSpMatrix"><em>DoubleSpMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.DoubleTpMatrix" title="kaldi.matrix.packed.DoubleTpMatrix"><em>DoubleTpMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.compressed.CompressedMatrix" title="kaldi.matrix.compressed.CompressedMatrix"><em>CompressedMatrix</em></a>) â The input matrix.</li>
<li><strong>trans</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixTransposeType" title="kaldi.matrix.common.MatrixTransposeType"><em>MatrixTransposeType</em></a>) â Whether to use <strong>src</strong> or its transpose.
Defaults to <code class="docutils literal"><span class="pre">MatrixTransposeType.NO_TRANS</span></code>. Not active if
input is a compressed matrix.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.copy_col_from_vec_">
<code class="descname">copy_col_from_vec_</code><span class="sig-paren">(</span><em>v:VectorBase</em>, <em>col:int</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Matrix.copy_col_from_vec_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies a vector into the specified column.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>v</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a>) â The input vector.</li>
<li><strong>col</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The column index.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.copy_cols_">
<code class="descname">copy_cols_</code><span class="sig-paren">(</span><em>src</em>, <em>indices</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Matrix.copy_cols_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies columns from another matrix.</p>
<p>Copies column <code class="xref py py-obj docutils literal"><span class="pre">r</span></code> from column <code class="xref py py-obj docutils literal"><span class="pre">indices[r]</span></code> of <code class="xref py py-obj docutils literal"><span class="pre">src</span></code>. As a special case,
if <code class="xref py py-obj docutils literal"><span class="pre">indexes[i]</span> <span class="pre">==</span> <span class="pre">-1</span></code>, sets column <code class="xref py py-obj docutils literal"><span class="pre">i</span></code> to zero. All elements of indices
must be in <code class="xref py py-obj docutils literal"><span class="pre">[-1,</span> <span class="pre">src.num_cols-1]</span></code>, and <code class="xref py py-obj docutils literal"><span class="pre">src.num_rows</span></code> must equal
<code class="xref py py-obj docutils literal"><span class="pre">self.num_rows</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>src</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The input matrix.</li>
<li><strong>indices</strong> (<em>List</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>]</em>) â The list of column indices.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.copy_cols_from_vec_">
<code class="descname">copy_cols_from_vec_</code><span class="sig-paren">(</span><em>v:VectorBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Matrix.copy_cols_from_vec_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies column elements from a vector.</p>
<p>This method has two modes of operation. If the number of elements in
<code class="xref py py-obj docutils literal"><span class="pre">self</span></code> and <code class="xref py py-obj docutils literal"><span class="pre">v</span></code> are the same, then elements of <code class="xref py py-obj docutils literal"><span class="pre">v</span></code> are copied into
<code class="xref py py-obj docutils literal"><span class="pre">self</span></code> column by column. If the number of elements in <code class="xref py py-obj docutils literal"><span class="pre">v</span></code> is equal to
<code class="xref py py-obj docutils literal"><span class="pre">self.num_rows</span></code>, then the elements of <code class="xref py py-obj docutils literal"><span class="pre">v</span></code> are copied into each column
of <code class="xref py py-obj docutils literal"><span class="pre">self</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>v</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a>) â The input vector.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.copy_diag_from_vec_">
<code class="descname">copy_diag_from_vec_</code><span class="sig-paren">(</span><em>v:VectorBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Matrix.copy_diag_from_vec_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies a vector into the diagonal.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>v</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a>) â The input vector.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.copy_lower_to_upper_">
<code class="descname">copy_lower_to_upper_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Matrix.copy_lower_to_upper_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies lower triangle to upper triangle.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â If matrix is not square.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.copy_row_from_vec_">
<code class="descname">copy_row_from_vec_</code><span class="sig-paren">(</span><em>v:VectorBase</em>, <em>row:int</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Matrix.copy_row_from_vec_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies a vector into the specified row.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>v</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a>) â The input vector.</li>
<li><strong>row</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The row index.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.copy_rows_">
<code class="descname">copy_rows_</code><span class="sig-paren">(</span><em>src</em>, <em>indices</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Matrix.copy_rows_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies rows from another matrix.</p>
<p>Copies row <code class="xref py py-obj docutils literal"><span class="pre">r</span></code> from row <code class="xref py py-obj docutils literal"><span class="pre">indices[r]</span></code> of <code class="xref py py-obj docutils literal"><span class="pre">src</span></code>. As a special case, if
<code class="xref py py-obj docutils literal"><span class="pre">indexes[i]</span> <span class="pre">==</span> <span class="pre">-1</span></code>, sets row <code class="xref py py-obj docutils literal"><span class="pre">i</span></code> to zero. All elements of indices must
be in <code class="xref py py-obj docutils literal"><span class="pre">[-1,</span> <span class="pre">src.num_rows-1]</span></code>, and <code class="xref py py-obj docutils literal"><span class="pre">src.num_cols</span></code> must equal
<code class="xref py py-obj docutils literal"><span class="pre">self.num_cols</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>src</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The input matrix.</li>
<li><strong>indices</strong> (<em>List</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>]</em>) â The list of row indices.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.copy_rows_from_vec_">
<code class="descname">copy_rows_from_vec_</code><span class="sig-paren">(</span><em>v:VectorBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Matrix.copy_rows_from_vec_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies row elements from a vector.</p>
<p>This method has two modes of operation. If the number of elements in
<code class="xref py py-obj docutils literal"><span class="pre">self</span></code> and <code class="xref py py-obj docutils literal"><span class="pre">v</span></code> are the same, then elements of <code class="xref py py-obj docutils literal"><span class="pre">v</span></code> are copied into
<code class="xref py py-obj docutils literal"><span class="pre">self</span></code> row by row. If the number of elements in <code class="xref py py-obj docutils literal"><span class="pre">v</span></code> is equal to
<code class="xref py py-obj docutils literal"><span class="pre">self.num_cols</span></code>, then the elements of <code class="xref py py-obj docutils literal"><span class="pre">v</span></code> are copied into each row of
<code class="xref py py-obj docutils literal"><span class="pre">self</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>v</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a>) â The input vector.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.copy_upper_to_lower_">
<code class="descname">copy_upper_to_lower_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Matrix.copy_upper_to_lower_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies upper triangle to lower triangle.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â If matrix is not square.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.Matrix.data">
<code class="descname">data</code><a class="headerlink" href="#kaldi.matrix.Matrix.data" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Matrix data as a memoryview.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.diff_sigmoid_">
<code class="descname">diff_sigmoid_</code><span class="sig-paren">(</span><em>value:MatrixBase</em>, <em>diff:MatrixBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Matrix.diff_sigmoid_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Backpropagates derivatives through the sigmoid function.</p>
<p>Performs the operation
<code class="xref py py-obj docutils literal"><span class="pre">M[i,j]</span> <span class="pre">=</span> <span class="pre">diff[i,j]</span> <span class="pre">*</span> <span class="pre">value[i,j]</span> <span class="pre">*</span> <span class="pre">(1</span> <span class="pre">-</span> <span class="pre">value[i,j])</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>value</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The activations.</li>
<li><strong>diff</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The derivatives.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.diff_tanh_">
<code class="descname">diff_tanh_</code><span class="sig-paren">(</span><em>value:MatrixBase</em>, <em>diff:MatrixBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Matrix.diff_tanh_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Backpropagates derivatives through the tanh function.</p>
<p>Performs the operation <code class="xref py py-obj docutils literal"><span class="pre">M[i,j]</span> <span class="pre">=</span> <span class="pre">diff[i,j]</span> <span class="pre">*</span> <span class="pre">(1</span> <span class="pre">-</span> <span class="pre">value[i,j]^2)</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>value</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The activations.</li>
<li><strong>diff</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The derivatives.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.div_elements_">
<code class="descname">div_elements_</code><span class="sig-paren">(</span><em>A:MatrixBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Matrix.div_elements_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Divides element-wise with another matrix.</p>
<p>Performs the operation <code class="xref py py-obj docutils literal"><span class="pre">M</span> <span class="pre">=</span> <span class="pre">M</span> <span class="pre">oslash</span> <span class="pre">A</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>A</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The denominator.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.eig">
<code class="descname">eig</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Matrix.eig" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Computes eigendecomposition.</p>
<p>Factorizes a square matrix into <span class="math">\(P\ D\ P^{-1}\)</span>.</p>
<p>The relationship of <span class="math">\(D\)</span> to the eigenvalues is slightly
complicated, due to the need for <span class="math">\(P\)</span> to be real. In the symmetric
case, <span class="math">\(D\)</span> is diagonal and real, but in the non-symmetric case
there may be complex-conjugate pairs of eigenvalues. In this case, for
the equation <span class="math">\(y = P\ D\ P^{-1}\)</span> to hold, <span class="math">\(D\)</span> must actually
be block diagonal, with 2x2 blocks corresponding to any such pairs. If a
pair is <span class="math">\(\lambda +- i\mu\)</span>, <span class="math">\(D\)</span> will have a corresponding
2x2 block <span class="math">\([\lambda, \mu; -\mu, \lambda]\)</span>. Note that if the
matrix is not invertible, <span class="math">\(P\)</span> may not be invertible so in this
case instead of the equation <span class="math">\(y = P\ D\ P^{-1}\)</span> holding, we have
<span class="math">\(y\ P = P\ D\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">3-element tuple containing<ul class="simple">
<li><strong>P</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><code class="xref py py-class docutils literal"><span class="pre">Matrix</span></code></a>): The eigenvector matrix, where ith column
corresponds to the ith eigenvector.</li>
<li><strong>r</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><code class="xref py py-class docutils literal"><span class="pre">Vector</span></code></a>): The vector with real components of the
eigenvalues.</li>
<li><strong>i</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><code class="xref py py-class docutils literal"><span class="pre">Vector</span></code></a>): The vector with imaginary components of
the eigenvalues.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> â If the matrix is not square.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.equal">
<code class="descname">equal</code><span class="sig-paren">(</span><em>other:MatrixBase</em><span class="sig-paren">)</span> &#x2192; bool<a class="headerlink" href="#kaldi.matrix.Matrix.equal" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Checks if matrices are exactly equal.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>other</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The matrix to check against</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if <code class="xref py py-obj docutils literal"><span class="pre">self[i,j]</span> <span class="pre">==</span> <span class="pre">other[i,j]`</span></code> for all <code class="xref py py-obj docutils literal"><span class="pre">i,j</span></code>. False otherwise.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.frobenius_norm">
<code class="descname">frobenius_norm</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.Matrix.frobenius_norm" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the Frobenius norm of the matrix</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.from_matrix">
<code class="descname">from_matrix</code><span class="sig-paren">(</span><em>M:MatrixBase</em>, <em>trans:MatrixTransposeType=default</em><span class="sig-paren">)</span> &#x2192; Matrix<a class="headerlink" href="#kaldi.matrix.Matrix.from_matrix" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Creates a new matrix from a given matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>M</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The input matrix.</li>
<li><strong>trans</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixTransposeType" title="kaldi.matrix.common.MatrixTransposeType"><em>MatrixTransposeType</em></a>) â Whether to use <strong>M</strong> or its transpose.
Defaults to <code class="docutils literal"><span class="pre">MatrixTransposeType.NO_TRANS</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.from_size">
<code class="descname">from_size</code><span class="sig-paren">(</span><em>r:int</em>, <em>c:int</em>, <em>resize_type:MatrixResizeType=default</em>, <em>stride_type:MatrixStrideType=default</em><span class="sig-paren">)</span> &#x2192; Matrix<a class="headerlink" href="#kaldi.matrix.Matrix.from_size" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Creates a new matrix of given size.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>r</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The number or rows.</li>
<li><strong>c</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The number or columns.</li>
<li><strong>resize_type</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixResizeType" title="kaldi.matrix.common.MatrixResizeType"><em>MatrixResizeType</em></a>) â How to initialize the elements.
If <code class="docutils literal"><span class="pre">MatrixResizeType.SET_ZERO</span></code> or <code class="docutils literal"><span class="pre">MatrixResizeType.COPY_DATA</span></code>,
they are set to zero. If <code class="docutils literal"><span class="pre">MatrixResizeType.UNDEFINED</span></code>, they are
left uninitialized. Defaults to <code class="docutils literal"><span class="pre">MatrixResizeType.SET_ZERO</span></code>.</li>
<li><strong>stride_type</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixStrideType" title="kaldi.matrix.common.MatrixStrideType"><em>MatrixStrideType</em></a>) â Determines how the elements are laid
out in memory. If <code class="docutils literal"><span class="pre">MatrixStrideType.STRIDE_EQUAL_NUM_COLS</span></code>, the
stride is equal to the number of columns. If
<code class="docutils literal"><span class="pre">MatrixStrideType.DEFAULT_STRIDE</span></code>, the stride is equal to the
smallest multiple of 16 that is larger than the number of columns.
Defaults to <code class="docutils literal"><span class="pre">MatrixStrideType.DEFAULT_STRIDE</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.group_max_">
<code class="descname">group_max_</code><span class="sig-paren">(</span><em>src:MatrixBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Matrix.group_max_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Computes group max of elements in another matrix.</p>
<p>Performs the operation <code class="xref py py-obj docutils literal"><span class="pre">self[i,j]</span> <span class="pre">=</span> <span class="pre">max(src[i,j*gs:(j+1)*gs])</span></code>
where <code class="xref py py-obj docutils literal"><span class="pre">gs</span> <span class="pre">=</span> <span class="pre">src.num_cols</span> <span class="pre">/</span> <span class="pre">self.num_cols</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>src</strong> (<em>MatrixBase</em>) â The source matrix.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â If <code class="xref py py-obj docutils literal"><span class="pre">src.num_rows</span> <span class="pre">!=</span> <span class="pre">self.num_rows</span></code>
or <code class="xref py py-obj docutils literal"><span class="pre">src.num_rows</span> <span class="pre">%</span> <span class="pre">self.num_rows</span> <span class="pre">!=</span> <span class="pre">0</span></code>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.group_max_deriv_">
<code class="descname">group_max_deriv_</code><span class="sig-paren">(</span><em>input:MatrixBase</em>, <em>output:MatrixBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Matrix.group_max_deriv_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Computes derivatives for the group max operation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>input</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The input to group max operation (src in
<a class="reference internal" href="#kaldi.matrix.Matrix.group_max_" title="kaldi.matrix.Matrix.group_max_"><code class="xref py py-meth docutils literal"><span class="pre">group_max_()</span></code></a>).</li>
<li><strong>output</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The output of group max operation.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.group_pnorm_">
<code class="descname">group_pnorm_</code><span class="sig-paren">(</span><em>src:MatrixBase</em>, <em>power:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Matrix.group_pnorm_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Computes group p-norm of elements in another matrix.</p>
<p>Performs the operation <code class="xref py py-obj docutils literal"><span class="pre">self[i,j]</span> <span class="pre">=</span> <span class="pre">norm(src[i,j*gs:(j+1)*gs],</span> <span class="pre">power)</span></code>
where <code class="xref py py-obj docutils literal"><span class="pre">gs</span> <span class="pre">=</span> <span class="pre">src.num_cols</span> <span class="pre">/</span> <span class="pre">self.num_cols</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>src</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The source matrix.</li>
<li><strong>power</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The p value for p-norm. It must be non-negative.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â If <code class="xref py py-obj docutils literal"><span class="pre">src.num_rows</span> <span class="pre">!=</span> <span class="pre">self.num_rows</span></code>
or <code class="xref py py-obj docutils literal"><span class="pre">src.num_rows</span> <span class="pre">%</span> <span class="pre">self.num_rows</span> <span class="pre">!=</span> <span class="pre">0</span></code>.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.group_pnorm_deriv_">
<code class="descname">group_pnorm_deriv_</code><span class="sig-paren">(</span><em>input:MatrixBase</em>, <em>output:MatrixBase</em>, <em>power:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Matrix.group_pnorm_deriv_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Computes derivatives for the group p-norm operation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>input</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The input to group p-norm operation (src in
<a class="reference internal" href="#kaldi.matrix.Matrix.group_pnorm_" title="kaldi.matrix.Matrix.group_pnorm_"><code class="xref py py-meth docutils literal"><span class="pre">group_pnorm_()</span></code></a>).</li>
<li><strong>output</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The output of group p-norm operation.</li>
<li><strong>power</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The p value for p-norm. It must be non-negative.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.heaviside_">
<code class="descname">heaviside_</code><span class="sig-paren">(</span><em>src:MatrixBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Matrix.heaviside_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies Heaviside step function to elements of another matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>src</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The source matrix.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.invert_">
<code class="descname">invert_</code><span class="sig-paren">(</span><em>in_double_precision=False</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Matrix.invert_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Inverts the matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>in_double_precision</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) â Whether to do the inversion in double
precision. Defaults to <code class="docutils literal"><span class="pre">False</span></code>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">2-element tuple containing<ul class="simple">
<li><strong>log_det</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><code class="xref py py-class docutils literal"><span class="pre">float</span></code></a>): The log determinant.</li>
<li><strong>det_sign</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><code class="xref py py-class docutils literal"><span class="pre">float</span></code></a>): The sign of the determinant, 1 or -1.</li>
</ul>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â If matrix is not square.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.invert_elements_">
<code class="descname">invert_elements_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Matrix.invert_elements_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Inverts the elements.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.is_diagonal">
<code class="descname">is_diagonal</code><span class="sig-paren">(</span><em>cutoff:float=default</em><span class="sig-paren">)</span> &#x2192; bool<a class="headerlink" href="#kaldi.matrix.Matrix.is_diagonal" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Checks if the matrix is approximately diagonal.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cutoff</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The cutoff value. Defaults to <code class="docutils literal"><span class="pre">1.0e-05</span></code>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if <code class="xref py py-obj docutils literal"><span class="pre">sum(digonal_elements)*cutoff</span> <span class="pre">&gt;</span> <span class="pre">sum(nondiagonal_elements)</span></code>.
False otherwise.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.is_symmetric">
<code class="descname">is_symmetric</code><span class="sig-paren">(</span><em>cutoff:float=default</em><span class="sig-paren">)</span> &#x2192; bool<a class="headerlink" href="#kaldi.matrix.Matrix.is_symmetric" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Checks if the matrix is approximately symmetric.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cutoff</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The cutoff value. Defaults to <code class="docutils literal"><span class="pre">1.0e-05</span></code>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if the matrix is approximately symmetric. False otherwise.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.is_unit">
<code class="descname">is_unit</code><span class="sig-paren">(</span><em>cutoff:float=default</em><span class="sig-paren">)</span> &#x2192; bool<a class="headerlink" href="#kaldi.matrix.Matrix.is_unit" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Checks if the matrix is identity-like.</p>
<p>Checks if <code class="xref py py-obj docutils literal"><span class="pre">max(M</span> <span class="pre">-</span> <span class="pre">I)</span> <span class="pre">&lt;=</span> <span class="pre">cutoff</span></code> where <code class="xref py py-obj docutils literal"><span class="pre">I</span></code> is a matrix with the same
size as <code class="xref py py-obj docutils literal"><span class="pre">M</span></code>, ones on the diagonal and zeros elsewhere.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cutoff</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The cutoff value. Defaults to <code class="docutils literal"><span class="pre">1.0e-05</span></code>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if <code class="xref py py-obj docutils literal"><span class="pre">max(M</span> <span class="pre">-</span> <span class="pre">I)</span> <span class="pre">&lt;=</span> <span class="pre">cutoff</span></code>.</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The matrix does not have to be square.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.is_zero">
<code class="descname">is_zero</code><span class="sig-paren">(</span><em>cutoff:float=default</em><span class="sig-paren">)</span> &#x2192; bool<a class="headerlink" href="#kaldi.matrix.Matrix.is_zero" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Checks if the elements are all zeros.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cutoff</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The cutoff value. Defaults to <code class="docutils literal"><span class="pre">1.0e-05</span></code>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if <code class="xref py py-obj docutils literal"><span class="pre">max(abs(M))</span> <span class="pre">&lt;=</span> <span class="pre">cutoff</span></code>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.largest_abs_elem">
<code class="descname">largest_abs_elem</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.Matrix.largest_abs_elem" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the largest of the absolute values of the elements.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.log_det">
<code class="descname">log_det</code><span class="sig-paren">(</span><em>) -&gt; (log_det:float</em>, <em>det_sign:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Matrix.log_det" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Computes log determinant of the matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">2-element tuple containing<ul class="simple">
<li><strong>log_det</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><code class="xref py py-class docutils literal"><span class="pre">float</span></code></a>): The log determinant.</li>
<li><strong>det_sign</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><code class="xref py py-class docutils literal"><span class="pre">float</span></code></a>): The sign of the determinant, 1 or -1.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.log_sum_exp">
<code class="descname">log_sum_exp</code><span class="sig-paren">(</span><em>prune:float=default</em><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.Matrix.log_sum_exp" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Computes <span class="math">\(f(M)=\log(\sum_{i,j} \exp(M_{i,j}))\)</span> without exp overflow.</p>
<p>If <code class="xref py py-obj docutils literal"><span class="pre">prune</span> <span class="pre">&gt;</span> <span class="pre">0.0</span></code>, ignores terms less than <code class="xref py py-obj docutils literal"><span class="pre">max(M)</span> <span class="pre">-</span> <span class="pre">prune</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>prune</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The pruning beam. Defaults to <code class="xref py py-obj docutils literal"><span class="pre">-1.0</span></code>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><span class="math">\(\log(\sum_{i,j} \exp(M_{i,j}))\)</span>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.max">
<code class="descname">max</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.Matrix.max" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the maximum value in the matrix.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.max_with_mat_">
<code class="descname">max_with_mat_</code><span class="sig-paren">(</span><em>A:MatrixBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Matrix.max_with_mat_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies an element-wise max operation.</p>
<p>Performs the operation <code class="xref py py-obj docutils literal"><span class="pre">M[i,j]</span> <span class="pre">=</span> <span class="pre">max(M[i,j],</span> <span class="pre">A[i,j])</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>A</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The input matrix.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.min">
<code class="descname">min</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.Matrix.min" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the minimum value in the matrix.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.min_singular_value">
<code class="descname">min_singular_value</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.Matrix.min_singular_value" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the smallest singular value.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.min_with_mat_">
<code class="descname">min_with_mat_</code><span class="sig-paren">(</span><em>A:MatrixBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Matrix.min_with_mat_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies an element-wise min operation.</p>
<p>Performs the operation <code class="xref py py-obj docutils literal"><span class="pre">M[i,j]</span> <span class="pre">=</span> <span class="pre">min(M[i,j],</span> <span class="pre">A[i,j])</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>A</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The input matrix.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.mul_cols_vec_">
<code class="descname">mul_cols_vec_</code><span class="sig-paren">(</span><em>scale:VectorBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Matrix.mul_cols_vec_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Scales columns with the elements in a vector.</p>
<p>Performs the operation <code class="xref py py-obj docutils literal"><span class="pre">M[i,j]</span> <span class="pre">=</span> <span class="pre">scale[j]</span> <span class="pre">*</span> <span class="pre">M[i,j]</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>scale</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a>) â The scaling vector.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.mul_elements_">
<code class="descname">mul_elements_</code><span class="sig-paren">(</span><em>A:MatrixBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Matrix.mul_elements_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Multiplies element-wise with another matrix.</p>
<p>Performs the operation <code class="xref py py-obj docutils literal"><span class="pre">M</span> <span class="pre">=</span> <span class="pre">M</span> <span class="pre">odot</span> <span class="pre">A</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>A</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The multiplier.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.mul_rows_group_mat_">
<code class="descname">mul_rows_group_mat_</code><span class="sig-paren">(</span><em>src:MatrixBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Matrix.mul_rows_group_mat_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Scales matrix with another matrix.</p>
<p>Divides each row of <code class="xref py py-obj docutils literal"><span class="pre">self</span></code> into <code class="xref py py-obj docutils literal"><span class="pre">src.num_cols</span></code> equal groups, and then
scales <code class="xref py py-obj docutils literal"><span class="pre">i`th</span> <span class="pre">row's</span> <span class="pre">`j`th</span> <span class="pre">group</span> <span class="pre">of</span> <span class="pre">elements</span> <span class="pre">with</span> <span class="pre">`src[i,j]</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>src</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The scaling matrix.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â If <code class="xref py py-obj docutils literal"><span class="pre">self.num_rows</span> <span class="pre">!=</span> <span class="pre">src.num_rows</span></code> or
<code class="xref py py-obj docutils literal"><span class="pre">self.num_cols</span> <span class="pre">%</span> <span class="pre">src.num_cols</span> <span class="pre">!=</span> <span class="pre">0</span></code>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.mul_rows_vec_">
<code class="descname">mul_rows_vec_</code><span class="sig-paren">(</span><em>scale:VectorBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Matrix.mul_rows_vec_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Scales rows with the elements in a vector.</p>
<p>Performs the operation <code class="xref py py-obj docutils literal"><span class="pre">M[i,j]</span> <span class="pre">=</span> <span class="pre">scale[i]</span> <span class="pre">*</span> <span class="pre">M[i,j]</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>scale</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a>) â The scaling vector.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.Matrix.num_cols">
<code class="descname">num_cols</code><a class="headerlink" href="#kaldi.matrix.Matrix.num_cols" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Number of columns (zero for empty matrix).</p>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.Matrix.num_rows">
<code class="descname">num_rows</code><a class="headerlink" href="#kaldi.matrix.Matrix.num_rows" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Number of rows (zero for empty matrix).</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.numpy">
<code class="descname">numpy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Matrix.numpy" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Converts the matrix to a 2-D NumPy array.</p>
<p>The NumPy array is a view into the matrix, i.e. no data is copied.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A NumPy array sharing data with this matrix.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)">numpy.ndarray</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.orthogonalize_rows_">
<code class="descname">orthogonalize_rows_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Matrix.orthogonalize_rows_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Orthogonalizes rows using the Gram-Schmidt process.</p>
<p>Uses random number generation to fill in rows with something non-zero,
in cases where the original matrix was of deficient row rank.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â If <code class="xref py py-obj docutils literal"><span class="pre">self.num_rows</span> <span class="pre">&gt;</span> <span class="pre">self.num_cols</span></code>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.power_">
<code class="descname">power_</code><span class="sig-paren">(</span><em>pow:float</em><span class="sig-paren">)</span> &#x2192; bool<a class="headerlink" href="#kaldi.matrix.Matrix.power_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Takes the matrix to the specified power.</p>
<p>This method uses an algorithm that works in general for fractional
and negative powers. The input matrix must be invertible and have a
reasonable condition number. The algorithm is based on eigenvalue
decomposition. It will return False and leave the matrix unchanged,
if the matrix has real negative eigenvalues (or if it has zero
eigenvalues and the power is negative).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>pow</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The exponent.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if the operation was successful.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.range">
<code class="descname">range</code><span class="sig-paren">(</span><em>row_start</em>, <em>num_rows</em>, <em>col_start</em>, <em>num_cols</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Matrix.range" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the given range of elements as a new matrix view.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>row_start</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The start row index.</li>
<li><strong>num_rows</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The number of rows.</li>
<li><strong>col_start</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The start column index.</li>
<li><strong>num_cols</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The number of columns.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A matrix view representing the given range.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#kaldi.matrix.SubMatrix" title="kaldi.matrix.SubMatrix">SubMatrix</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.read_">
<code class="descname">read_</code><span class="sig-paren">(</span><em>is:istream</em>, <em>binary:bool</em>, <em>add:bool=default</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Matrix.read_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Reads the matrix from the given C++ stream.</p>
<p>Resizes the matrix to match the size of the matrix read from stream.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>is</strong> (<a class="reference internal" href="kaldi.base.html#kaldi.base.io.istream" title="kaldi.base.io.istream"><em>istream</em></a>) â The input C++ stream.</li>
<li><strong>binary</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) â Whether the stream is binary.</li>
<li><strong>add</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) â Whether to add existing contents to the read matrix.
Defaults to <code class="docutils literal"><span class="pre">False</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.resize_">
<code class="descname">resize_</code><span class="sig-paren">(</span><em>r:int</em>, <em>c:int</em>, <em>resize_type:MatrixResizeType=default</em>, <em>stride_type:MatrixStrideType=default</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Matrix.resize_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Resizes the matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>r</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The new number of rows.</li>
<li><strong>c</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The new number of columns.</li>
<li><strong>resize_type</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixResizeType" title="kaldi.matrix.common.MatrixResizeType"><em>MatrixResizeType</em></a>) â How to initialize the elements.
If <code class="docutils literal"><span class="pre">MatrixResizeType.SET_ZERO</span></code> or <code class="docutils literal"><span class="pre">MatrixResizeType.COPY_DATA</span></code>,
they are set to zero. If <code class="docutils literal"><span class="pre">MatrixResizeType.UNDEFINED</span></code>, they are
left uninitialized. Defaults to <code class="docutils literal"><span class="pre">MatrixResizeType.SET_ZERO</span></code>.</li>
<li><strong>stride_type</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixStrideType" title="kaldi.matrix.common.MatrixStrideType"><em>MatrixStrideType</em></a>) â Determines how the elements are laid
out in memory. If <code class="docutils literal"><span class="pre">MatrixStrideType.STRIDE_EQUAL_NUM_COLS</span></code>, the
stride is equal to the number of columns. If
<code class="docutils literal"><span class="pre">MatrixStrideType.DEFAULT_STRIDE</span></code>, the stride is equal to the
smallest multiple of 16 that is larger than the number of columns.
Defaults to <code class="docutils literal"><span class="pre">MatrixStrideType.DEFAULT_STRIDE</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.row">
<code class="descname">row</code><span class="sig-paren">(</span><em>index</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Matrix.row" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the given row as a new vector view.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>index</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The row index.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A vector view representing the given row.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#kaldi.matrix.SubVector" title="kaldi.matrix.SubVector">SubVector</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.row_data">
<code class="descname">row_data</code><span class="sig-paren">(</span><em>index</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Matrix.row_data" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns row data as a memoryview.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.row_range">
<code class="descname">row_range</code><span class="sig-paren">(</span><em>row_start</em>, <em>num_rows</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Matrix.row_range" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the given range of rows as a new matrix view.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>row_start</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The start row index.</li>
<li><strong>num_rows</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The number of rows.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A matrix view representing the given row range.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#kaldi.matrix.SubMatrix" title="kaldi.matrix.SubMatrix">SubMatrix</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.scale_">
<code class="descname">scale_</code><span class="sig-paren">(</span><em>alpha:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Matrix.scale_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Scales the matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.set_mat_mat_div_mat_">
<code class="descname">set_mat_mat_div_mat_</code><span class="sig-paren">(</span><em>A:MatrixBase</em>, <em>B:MatrixBase</em>, <em>C:MatrixBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Matrix.set_mat_mat_div_mat_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Computes an elementwise multiplication followed by division.</p>
<p>Performs the operation <span class="math">\(S = A \odot B \oslash C\)</span> where
<span class="math">\(\odot\)</span> and <span class="math">\(\oslash\)</span> are elementwise multiplication and
division. If <span class="math">\(C[i,j] == 0\)</span> then <span class="math">\(S[i,j]\)</span> remains intact.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>A</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The first input matrix.</li>
<li><strong>B</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The second input matrix.</li>
<li><strong>C</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The third input matrix.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.set_rand_uniform_">
<code class="descname">set_rand_uniform_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Matrix.set_rand_uniform_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Sets the elements to numbers uniformly distributed on (0,1).</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.set_randn_">
<code class="descname">set_randn_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Matrix.set_randn_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Sets the elements to numbers from standard normal distribution.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.set_unit_">
<code class="descname">set_unit_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Matrix.set_unit_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Sets diagonal elements to one, off-diagonal elements to zero.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Works for non-square matrices too.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.set_zero_">
<code class="descname">set_zero_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Matrix.set_zero_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Sets the elements to zero.</p>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.Matrix.shape">
<code class="descname">shape</code><a class="headerlink" href="#kaldi.matrix.Matrix.shape" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Two element tuple representing the size of the matrix.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.sigmoid_">
<code class="descname">sigmoid_</code><span class="sig-paren">(</span><em>src:MatrixBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Matrix.sigmoid_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies sigmoid function to elements of another matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>src</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The source matrix.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.singular_values">
<code class="descname">singular_values</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Matrix.singular_values" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Computes singular values.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The vector of singular values.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector">Vector</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.size">
<code class="descname">size</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Matrix.size" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the size of the matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A tuple (num_rows, num_cols) of integers.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.size_in_bytes">
<code class="descname">size_in_bytes</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; int<a class="headerlink" href="#kaldi.matrix.Matrix.size_in_bytes" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the size (in bytes) of the data held by the matrix.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.soft_hinge_">
<code class="descname">soft_hinge_</code><span class="sig-paren">(</span><em>src:MatrixBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Matrix.soft_hinge_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies soft hinge function to elements of another matrix.</p>
<p>Performs the operation <code class="xref py py-obj docutils literal"><span class="pre">M[i,j]</span> <span class="pre">=</span> <span class="pre">log(1</span> <span class="pre">+</span> <span class="pre">exp(src[i,j]))</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>src</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The source matrix.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.Matrix.stride">
<code class="descname">stride</code><a class="headerlink" href="#kaldi.matrix.Matrix.stride" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Row stride (distance in memory between each row, &gt;= num_cols).</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.sum">
<code class="descname">sum</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.Matrix.sum" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the sum of the elements.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.svd">
<code class="descname">svd</code><span class="sig-paren">(</span><em>destructive=False</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Matrix.svd" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Computes singular-value decomposition.</p>
<p>Factorizes a matrix into <span class="math">\(U\ diag(s)\ V^T\)</span>.</p>
<p>For non-square matrices, requires <code class="xref py py-obj docutils literal"><span class="pre">self.num_rows</span> <span class="pre">&gt;=</span> <span class="pre">self.num_cols</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>destructive</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) â Whether to use the destructive operation which
avoids a copy but mutates self. Defaults to <code class="docutils literal"><span class="pre">False</span></code>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">3-element tuple containing<ul class="simple">
<li><strong>s</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><code class="xref py py-class docutils literal"><span class="pre">Vector</span></code></a>): The vector of singular values.</li>
<li><strong>U</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><code class="xref py py-class docutils literal"><span class="pre">Matrix</span></code></a>): The left orthonormal matrix.</li>
<li><strong>Vt</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><code class="xref py py-class docutils literal"><span class="pre">Matrix</span></code></a>): The right orthonormal matrix.</li>
</ul>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> â If <code class="xref py py-obj docutils literal"><span class="pre">self.num_rows</span> <span class="pre">&lt;</span> <span class="pre">self.num_cols</span></code>.</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><strong>Vt</strong> in the output is already transposed.
The singular values in <strong>s</strong> are not sorted.</p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#kaldi.matrix.Matrix.singular_values" title="kaldi.matrix.Matrix.singular_values"><code class="xref py py-meth docutils literal"><span class="pre">singular_values()</span></code></a>
<code class="xref py py-meth docutils literal"><span class="pre">sort_svd()</span></code></p>
</div>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.swap_">
<code class="descname">swap_</code><span class="sig-paren">(</span><em>other:Matrix</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Matrix.swap_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Swaps the contents of matrices.</p>
<p>Shallow swap.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>other</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The matrix to swap contents with.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.sym_add_mat2_">
<code class="descname">sym_add_mat2_</code><span class="sig-paren">(</span><em>alpha:float</em>, <em>M:MatrixBase</em>, <em>transA:MatrixTransposeType</em>, <em>beta:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Matrix.sym_add_mat2_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds the square of given matrix to this one.</p>
<p>Performs the operation on symmetric matrices
<span class="math">\(S = \alpha\ M\ M^T + \beta\ S\)</span>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">It only updates the lower triangle of self. It will leave the
matrix asymmetric. If you need it symmetric as a regular matrix,
call <a class="reference internal" href="#kaldi.matrix.Matrix.copy_lower_to_upper_" title="kaldi.matrix.Matrix.copy_lower_to_upper_"><code class="xref py py-meth docutils literal"><span class="pre">copy_lower_to_upper_()</span></code></a> after this operation.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for <span class="math">\(M\ M^T\)</span>.</li>
<li><strong>M</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The input matrix.</li>
<li><strong>transM</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixTransposeType" title="kaldi.matrix.common.MatrixTransposeType"><em>MatrixTransposeType</em></a>) â Whether to use <strong>M</strong> or its transpose.
Defaults to <code class="docutils literal"><span class="pre">MatrixTransposeType.NO_TRANS</span></code>.</li>
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the destination matrix.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.sym_pos_semi_def_eig">
<code class="descname">sym_pos_semi_def_eig</code><span class="sig-paren">(</span><em>s:VectorBase</em>, <em>P:MatrixBase</em>, <em>check_thresh:float=default</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Matrix.sym_pos_semi_def_eig" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Computes eigendecomposition of a positive semi-definite matrix.</p>
<p>Uses SVD to compute the eigendecomposition of a symmetric positive
semi-definite matrix: <span class="math">\(M = P\ diag(s) \ P^T\)</span>, where <span class="math">\(P\)</span>
is an orthogonal matrix, i.e. <span class="math">\(P^{-1} = P^T\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>s</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a>) â The eigenvalue vector.</li>
<li><strong>P</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The eigenvector matrix.</li>
<li><strong>check_thresh</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The threshold used for checking if input is
positive semi-definite. Defaults to <code class="docutils literal"><span class="pre">0.001</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Set check_thresh to 2 to ensure the positive semi-definite check
wonât ever complain, however it will zero out negative dimensions
in the matrix.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â If input is not positive semi-definite.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.tanh_">
<code class="descname">tanh_</code><span class="sig-paren">(</span><em>src:MatrixBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Matrix.tanh_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies tanh function to elements of another matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>src</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The source matrix.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.trace">
<code class="descname">trace</code><span class="sig-paren">(</span><em>check_square:bool=default</em><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.Matrix.trace" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the trace.</p>
<p>If matrix is not square it will return the trace of the square matrix
formed from the minimum dimension, e.g. if the matrix is 3x5 it will
return the trace of the 3x3 submatrix at the beginning.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>check_square</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) â Check if the matrix is square.
Defaults to <code class="docutils literal"><span class="pre">True</span></code>.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â If the matrix is not square and</li>
<li>**check_square** is <code class="docutils literal"><span class="pre">True</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.transpose_">
<code class="descname">transpose_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Matrix.transpose_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Transposes the matrix.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Matrix.write">
<code class="descname">write</code><span class="sig-paren">(</span><em>os:ostream</em>, <em>binary:bool</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Matrix.write" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Writes the matrix to given C++ stream.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>os</strong> (<a class="reference internal" href="kaldi.base.html#kaldi.base.io.ostream" title="kaldi.base.io.ostream"><em>ostream</em></a>) â The output C++ straem.</li>
<li><strong>binary</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) â Whether the stream is binary.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="kaldi.matrix.SubMatrix">
<em class="property">class </em><code class="descclassname">kaldi.matrix.</code><code class="descname">SubMatrix</code><span class="sig-paren">(</span><em>obj</em>, <em>row_start=0</em>, <em>num_rows=None</em>, <em>col_start=0</em>, <em>num_cols=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/kaldi/matrix.html#SubMatrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#kaldi.matrix.SubMatrix" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Single precision matrix view.</p>
<p>Creates a new matrix view from a matrix like object.</p>
<p>If possible the new matrix view will share its data with the <code class="xref py py-obj docutils literal"><span class="pre">obj</span></code>,
i.e. no copy will be made. A copy will only be made if <code class="xref py py-obj docutils literal"><span class="pre">obj.__array__</span></code>
returns a copy, if <code class="xref py py-obj docutils literal"><span class="pre">obj</span></code> is a sequence, or if a copy is needed to
satisfy any of the other requirements (data type, order, etc.).
Regardless of whether a copy is made or not, the new matrix view will
not own the memory buffer backing it, i.e. it will not support matrix
operations that reallocate memory.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>obj</strong> (<em>matrix_like</em>) â A matrix, a 2-D numpy array, any object exposing
a 2-D array interface, an object with an __array__ method
returning a 2-D numpy array, or any sequence that can be
interpreted as a matrix.</li>
<li><strong>row_start</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The start row index. Defaults to <code class="docutils literal"><span class="pre">0</span></code>.</li>
<li><strong>num_rows</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The number of rows. If <code class="docutils literal"><span class="pre">None</span></code>, it is set to
<code class="xref py py-obj docutils literal"><span class="pre">self.num_rows</span> <span class="pre">-</span> <span class="pre">row_start</span></code>. Defaults to <code class="docutils literal"><span class="pre">None</span></code>.</li>
<li><strong>col_start</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The start column index. Defaults to <code class="docutils literal"><span class="pre">0</span></code>.</li>
<li><strong>num_cols</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The number of columns. If <code class="docutils literal"><span class="pre">None</span></code>, it is set to
<code class="xref py py-obj docutils literal"><span class="pre">self.num_cols</span> <span class="pre">-</span> <span class="pre">col_start</span></code>. Defaults to <code class="docutils literal"><span class="pre">None</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="kaldi.matrix.SubMatrix.add_">
<code class="descname">add_</code><span class="sig-paren">(</span><em>alpha:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubMatrix.add_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds a scalar to each element of the matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar to add.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.add_cols_">
<code class="descname">add_cols_</code><span class="sig-paren">(</span><em>src</em>, <em>indices</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubMatrix.add_cols_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds columns from another matrix.</p>
<p>Adds column <code class="xref py py-obj docutils literal"><span class="pre">indices[r]</span></code> of <code class="xref py py-obj docutils literal"><span class="pre">src</span></code> to column <code class="xref py py-obj docutils literal"><span class="pre">r</span></code>. As a special case, if
<code class="xref py py-obj docutils literal"><span class="pre">indexes[i]</span> <span class="pre">==</span> <span class="pre">-1</span></code>, skips column <code class="xref py py-obj docutils literal"><span class="pre">i</span></code>. All elements of indices must be in
<code class="xref py py-obj docutils literal"><span class="pre">[-1,</span> <span class="pre">src.num_cols-1]</span></code>, and <code class="xref py py-obj docutils literal"><span class="pre">src.num_rows</span></code> must equal <code class="xref py py-obj docutils literal"><span class="pre">self.num_rows</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>src</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The input matrix.</li>
<li><strong>indices</strong> (<em>List</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>]</em>) â The list of column indices.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.add_diag_vec_mat_">
<code class="descname">add_diag_vec_mat_</code><span class="sig-paren">(</span><em>alpha:float</em>, <em>v:VectorBase</em>, <em>M:MatrixBase</em>, <em>transM:MatrixTransposeType</em>, <em>beta:float=default</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubMatrix.add_diag_vec_mat_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds given matrix to this one after scaling its rows.</p>
<p>Perform the operation <span class="math">\(S = \alpha\ diag(v)\ M + \beta\ S\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for <span class="math">\(diag(v) M\)</span>.</li>
<li><strong>v</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a>) â The scaling vector.</li>
<li><strong>M</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The input matrix.</li>
<li><strong>transM</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixTransposeType" title="kaldi.matrix.common.MatrixTransposeType"><em>MatrixTransposeType</em></a>) â Whether to use <strong>M</strong> or its transpose.
Defaults to <code class="docutils literal"><span class="pre">MatrixTransposeType.NO_TRANS</span></code>.</li>
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the destination matrix.
Defaults to <code class="docutils literal"><span class="pre">1.0</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.add_mat_">
<code class="descname">add_mat_</code><span class="sig-paren">(</span><em>alpha</em>, <em>M</em>, <em>trans=&lt;MatrixTransposeType.NO_TRANS: 111&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubMatrix.add_mat_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds another matrix to this one.</p>
<p>Performs the operation <span class="math">\(S = \alpha\ M + S\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier.</li>
<li><strong>M</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.SpMatrix" title="kaldi.matrix.packed.SpMatrix"><em>SpMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.DoubleSpMatrix" title="kaldi.matrix.packed.DoubleSpMatrix"><em>DoubleSpMatrix</em></a>) â The input matrix.</li>
<li><strong>trans</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixTransposeType" title="kaldi.matrix.common.MatrixTransposeType"><em>MatrixTransposeType</em></a>) â Whether to use <strong>M</strong> or its transpose.
Defaults to <code class="docutils literal"><span class="pre">MatrixTransposeType.NO_TRANS</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.add_mat_diag_vec_">
<code class="descname">add_mat_diag_vec_</code><span class="sig-paren">(</span><em>alpha:float</em>, <em>M:MatrixBase</em>, <em>transM:MatrixTransposeType</em>, <em>v:VectorBase</em>, <em>beta:float=default</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubMatrix.add_mat_diag_vec_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds given matrix to this one after scaling its columns.</p>
<p>Perform the operation <span class="math">\(S = \alpha\ M\ diag(v) + \beta\ S\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for <span class="math">\(M\ diag(v)\)</span>.</li>
<li><strong>M</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The input matrix.</li>
<li><strong>transM</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixTransposeType" title="kaldi.matrix.common.MatrixTransposeType"><em>MatrixTransposeType</em></a>) â Whether to use <strong>M</strong> or its transpose.
Defaults to <code class="docutils literal"><span class="pre">MatrixTransposeType.NO_TRANS</span></code>.</li>
<li><strong>v</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a>) â The scaling vector.</li>
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the destination matrix.
Defaults to <code class="docutils literal"><span class="pre">1.0</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.add_mat_mat_">
<code class="descname">add_mat_mat_</code><span class="sig-paren">(</span><em>A</em>, <em>B</em>, <em>transA=&lt;MatrixTransposeType.NO_TRANS: 111&gt;</em>, <em>transB=&lt;MatrixTransposeType.NO_TRANS: 111&gt;</em>, <em>alpha=1.0</em>, <em>beta=1.0</em>, <em>sparseA=False</em>, <em>sparseB=False</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubMatrix.add_mat_mat_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds the product of given matrices.</p>
<p>Performs the operation <span class="math">\(M = \alpha\ A\ B + \beta\ M\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>A</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.TpMatrix" title="kaldi.matrix.packed.TpMatrix"><em>TpMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.SpMatrix" title="kaldi.matrix.packed.SpMatrix"><em>SpMatrix</em></a>) â The first input matrix.</li>
<li><strong>B</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.TpMatrix" title="kaldi.matrix.packed.TpMatrix"><em>TpMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.SpMatrix" title="kaldi.matrix.packed.SpMatrix"><em>SpMatrix</em></a>) â The second input matrix.</li>
<li><strong>transA</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixTransposeType" title="kaldi.matrix.common.MatrixTransposeType"><em>MatrixTransposeType</em></a>) â Whether to use <strong>A</strong> or its transpose.
Defaults to <code class="docutils literal"><span class="pre">MatrixTransposeType.NO_TRANS</span></code>.</li>
<li><strong>transB</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixTransposeType" title="kaldi.matrix.common.MatrixTransposeType"><em>MatrixTransposeType</em></a>) â Whether to use <strong>B</strong> or its transpose.
Defaults to <code class="docutils literal"><span class="pre">MatrixTransposeType.NO_TRANS</span></code>.</li>
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the product.
Defaults to <code class="docutils literal"><span class="pre">1.0</span></code>.</li>
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the destination vector.
Defaults to <code class="docutils literal"><span class="pre">1.0</span></code>.</li>
<li><strong>sparseA</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) â Whether to use the algorithm that is faster when
<strong>A</strong> is sparse. Defaults to <code class="docutils literal"><span class="pre">False</span></code>.</li>
<li><strong>sparseA</strong> â Whether to use the algorithm that is faster when
<strong>B</strong> is sparse. Defaults to <code class="docutils literal"><span class="pre">False</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</li>
<li><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">TypeError</span></code></a> â If matrices of given types can not be multiplied.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.add_mat_mat_elements_">
<code class="descname">add_mat_mat_elements_</code><span class="sig-paren">(</span><em>alpha:float</em>, <em>A:MatrixBase</em>, <em>B:MatrixBase</em>, <em>beta:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubMatrix.add_mat_mat_elements_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds the element-wise multiplication of given matrices to this one.</p>
<p>Performs the operation <span class="math">\(S = \alpha\ A\odot B + \beta\ S\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for <span class="math">\(A \odot B\)</span>.</li>
<li><strong>A</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The first input matrix.</li>
<li><strong>B</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The second input matrix.</li>
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the destination matrix.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.add_mat_mat_mat_">
<code class="descname">add_mat_mat_mat_</code><span class="sig-paren">(</span><em>alpha:float</em>, <em>A:MatrixBase</em>, <em>transA:MatrixTransposeType</em>, <em>B:MatrixBase</em>, <em>transB:MatrixTransposeType</em>, <em>C:MatrixBase</em>, <em>transC:MatrixTransposeType</em>, <em>beta:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubMatrix.add_mat_mat_mat_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds the product of three matrices to this one.</p>
<p>Performs the operation <span class="math">\(S = \alpha\ A\ B\ C + \beta\ S\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for <span class="math">\(A\ B\ C\)</span>.</li>
<li><strong>A</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The first input matrix.</li>
<li><strong>transA</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixTransposeType" title="kaldi.matrix.common.MatrixTransposeType"><em>MatrixTransposeType</em></a>) â Whether to use <strong>A</strong> or its transpose.</li>
<li><strong>B</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The second input matrix.</li>
<li><strong>transB</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixTransposeType" title="kaldi.matrix.common.MatrixTransposeType"><em>MatrixTransposeType</em></a>) â Whether to use <strong>B</strong> or its transpose.</li>
<li><strong>C</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The third input matrix.</li>
<li><strong>transC</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixTransposeType" title="kaldi.matrix.common.MatrixTransposeType"><em>MatrixTransposeType</em></a>) â Whether to use <strong>C</strong> or its transpose.</li>
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the destination matrix.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.add_rows_">
<code class="descname">add_rows_</code><span class="sig-paren">(</span><em>src</em>, <em>indices</em>, <em>alpha=1.0</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubMatrix.add_rows_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds rows from another matrix.</p>
<p>Scales row <code class="xref py py-obj docutils literal"><span class="pre">indices[r]</span></code> of <code class="xref py py-obj docutils literal"><span class="pre">src</span></code> with <code class="xref py py-obj docutils literal"><span class="pre">alpha</span></code> and adds it to row <code class="xref py py-obj docutils literal"><span class="pre">r</span></code>. As
a special case, if <code class="xref py py-obj docutils literal"><span class="pre">indexes[i]</span> <span class="pre">==</span> <span class="pre">-1</span></code>, skips row <code class="xref py py-obj docutils literal"><span class="pre">i</span></code>. All elements of
indices must be in <code class="xref py py-obj docutils literal"><span class="pre">[-1,</span> <span class="pre">src.num_rows-1]</span></code>, and <code class="xref py py-obj docutils literal"><span class="pre">src.num_cols</span></code> must equal
<code class="xref py py-obj docutils literal"><span class="pre">self.num_cols</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>src</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The input matrix.</li>
<li><strong>indices</strong> (<em>List</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>]</em>) â The list of row indices.</li>
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier. Defaults to <code class="xref py py-obj docutils literal"><span class="pre">1.0</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.add_to_diag_">
<code class="descname">add_to_diag_</code><span class="sig-paren">(</span><em>alpha:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubMatrix.add_to_diag_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds a scalar to the diagonal elements of the matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar to add.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.add_vec_to_cols_">
<code class="descname">add_vec_to_cols_</code><span class="sig-paren">(</span><em>alpha:float</em>, <em>v:VectorBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubMatrix.add_vec_to_cols_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds input vector to each column of this matrix.</p>
<p>Performs the operation <span class="math">\(M_{ij} = M_{ij} + \alpha\ v_{i}\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier.</li>
<li><strong>v</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a>) â The input vector.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.add_vec_to_rows_">
<code class="descname">add_vec_to_rows_</code><span class="sig-paren">(</span><em>alpha:float</em>, <em>v:VectorBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubMatrix.add_vec_to_rows_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds input vector to each row of this matrix.</p>
<p>Performs the operation <span class="math">\(M_{ij} = M_{ij} + \alpha\ v_{j}\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier.</li>
<li><strong>v</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a>) â The input vector.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.add_vec_vec_">
<code class="descname">add_vec_vec_</code><span class="sig-paren">(</span><em>alpha:float</em>, <em>a:VectorBase</em>, <em>b:VectorBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubMatrix.add_vec_vec_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds outer product of input vectors to this matrix.</p>
<p>Performs the operation <span class="math">\(M = M + \alpha\ a \ b^T\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier.</li>
<li><strong>a</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a>) â The first input vector.</li>
<li><strong>b</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a>) â The second input vector.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.apply_ceiling_">
<code class="descname">apply_ceiling_</code><span class="sig-paren">(</span><em>ceiling:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubMatrix.apply_ceiling_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies ceiling operation to each element.</p>
<p>Performs the operation <code class="xref py py-obj docutils literal"><span class="pre">M[i,j]</span> <span class="pre">=</span> <span class="pre">min(M[i,j],</span> <span class="pre">ceiling)</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>ceiling</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The ceiling value.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The number of elements changed.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.apply_exp_">
<code class="descname">apply_exp_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubMatrix.apply_exp_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies exponential operation to each element.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.apply_floor_">
<code class="descname">apply_floor_</code><span class="sig-paren">(</span><em>floor:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubMatrix.apply_floor_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies floor operation to each element.</p>
<p>Performs the operation <code class="xref py py-obj docutils literal"><span class="pre">M[i,j]</span> <span class="pre">=</span> <span class="pre">max(M[i,j],</span> <span class="pre">floor)</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>floor</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The floor value.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The number of elements changed.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.apply_heaviside_">
<code class="descname">apply_heaviside_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubMatrix.apply_heaviside_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies the Heaviside step function to each element.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.apply_log_">
<code class="descname">apply_log_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubMatrix.apply_log_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies natural log operation to each element.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.apply_pow_">
<code class="descname">apply_pow_</code><span class="sig-paren">(</span><em>power:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubMatrix.apply_pow_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Takes each element to the given power.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>power</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The exponent value.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â If an element cannot be raised to the given power.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.apply_pow_abs_">
<code class="descname">apply_pow_abs_</code><span class="sig-paren">(</span><em>power:float</em>, <em>include_sign:bool=default</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubMatrix.apply_pow_abs_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Takes the absolute value of each element raised to the given power.</p>
<p>If the power is negative and the input is zero, the output is zero.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>power</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The power value.</li>
<li><strong>include_sign</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) â Whether to include the sign of the input value.
Defaults to <code class="docutils literal"><span class="pre">False</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â If an element cannot be raised to the given power.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.apply_softmax_">
<code class="descname">apply_softmax_</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.SubMatrix.apply_softmax_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies the softmax operation to each element.</p>
<p>Performs the operation
<span class="math">\(M_{i,j} = \frac{\exp(M_{i,j})}{\sum_{k,j} \exp(M_{k,j})}\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><span class="math">\(\log(\sum_{k,j} \exp(M_{k,j}))\)</span>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.approx_equal">
<code class="descname">approx_equal</code><span class="sig-paren">(</span><em>other</em>, <em>tol=0.01</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubMatrix.approx_equal" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Checks if matrices are approximately equal.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>other</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The matrix to compare against.</li>
<li><strong>tol</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The tolerance for the equality check.
Defaults to <code class="docutils literal"><span class="pre">0.01</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">True if <code class="xref py py-obj docutils literal"><span class="pre">self.size()</span> <span class="pre">==</span> <span class="pre">other.size()</span></code> and
<code class="xref py py-obj docutils literal"><span class="pre">||self-other||</span> <span class="pre">&lt;=</span> <span class="pre">tol*||self||</span></code>. False otherwise.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.clone">
<code class="descname">clone</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubMatrix.clone" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Clones the matrix.</p>
<p>The clone allocates new memory for its contents and supports matrix
operations that reallocate memory, i.e. it is not a view.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A copy of the matrix.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix">Matrix</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.col_range">
<code class="descname">col_range</code><span class="sig-paren">(</span><em>col_start</em>, <em>num_cols</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubMatrix.col_range" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the given range of columns as a new matrix view.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>col_start</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The start column index.</li>
<li><strong>num_cols</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The number of columns.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A matrix view representing the given column range.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#kaldi.matrix.SubMatrix" title="kaldi.matrix.SubMatrix">SubMatrix</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.cond">
<code class="descname">cond</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.SubMatrix.cond" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the condition number of the SVD computation.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.copy_">
<code class="descname">copy_</code><span class="sig-paren">(</span><em>src</em>, <em>trans=&lt;MatrixTransposeType.NO_TRANS: 111&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubMatrix.copy_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies the elements from another matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>src</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.SpMatrix" title="kaldi.matrix.packed.SpMatrix"><em>SpMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.TpMatrix" title="kaldi.matrix.packed.TpMatrix"><em>TpMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.DoubleSpMatrix" title="kaldi.matrix.packed.DoubleSpMatrix"><em>DoubleSpMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.DoubleTpMatrix" title="kaldi.matrix.packed.DoubleTpMatrix"><em>DoubleTpMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.compressed.CompressedMatrix" title="kaldi.matrix.compressed.CompressedMatrix"><em>CompressedMatrix</em></a>) â The input matrix.</li>
<li><strong>trans</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixTransposeType" title="kaldi.matrix.common.MatrixTransposeType"><em>MatrixTransposeType</em></a>) â Whether to use <strong>src</strong> or its transpose.
Defaults to <code class="docutils literal"><span class="pre">MatrixTransposeType.NO_TRANS</span></code>. Not active if
input is a compressed matrix.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.copy_col_from_vec_">
<code class="descname">copy_col_from_vec_</code><span class="sig-paren">(</span><em>v:VectorBase</em>, <em>col:int</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubMatrix.copy_col_from_vec_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies a vector into the specified column.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>v</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a>) â The input vector.</li>
<li><strong>col</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The column index.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.copy_cols_">
<code class="descname">copy_cols_</code><span class="sig-paren">(</span><em>src</em>, <em>indices</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubMatrix.copy_cols_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies columns from another matrix.</p>
<p>Copies column <code class="xref py py-obj docutils literal"><span class="pre">r</span></code> from column <code class="xref py py-obj docutils literal"><span class="pre">indices[r]</span></code> of <code class="xref py py-obj docutils literal"><span class="pre">src</span></code>. As a special case,
if <code class="xref py py-obj docutils literal"><span class="pre">indexes[i]</span> <span class="pre">==</span> <span class="pre">-1</span></code>, sets column <code class="xref py py-obj docutils literal"><span class="pre">i</span></code> to zero. All elements of indices
must be in <code class="xref py py-obj docutils literal"><span class="pre">[-1,</span> <span class="pre">src.num_cols-1]</span></code>, and <code class="xref py py-obj docutils literal"><span class="pre">src.num_rows</span></code> must equal
<code class="xref py py-obj docutils literal"><span class="pre">self.num_rows</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>src</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The input matrix.</li>
<li><strong>indices</strong> (<em>List</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>]</em>) â The list of column indices.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.copy_cols_from_vec_">
<code class="descname">copy_cols_from_vec_</code><span class="sig-paren">(</span><em>v:VectorBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubMatrix.copy_cols_from_vec_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies column elements from a vector.</p>
<p>This method has two modes of operation. If the number of elements in
<code class="xref py py-obj docutils literal"><span class="pre">self</span></code> and <code class="xref py py-obj docutils literal"><span class="pre">v</span></code> are the same, then elements of <code class="xref py py-obj docutils literal"><span class="pre">v</span></code> are copied into
<code class="xref py py-obj docutils literal"><span class="pre">self</span></code> column by column. If the number of elements in <code class="xref py py-obj docutils literal"><span class="pre">v</span></code> is equal to
<code class="xref py py-obj docutils literal"><span class="pre">self.num_rows</span></code>, then the elements of <code class="xref py py-obj docutils literal"><span class="pre">v</span></code> are copied into each column
of <code class="xref py py-obj docutils literal"><span class="pre">self</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>v</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a>) â The input vector.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.copy_diag_from_vec_">
<code class="descname">copy_diag_from_vec_</code><span class="sig-paren">(</span><em>v:VectorBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubMatrix.copy_diag_from_vec_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies a vector into the diagonal.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>v</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a>) â The input vector.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.copy_lower_to_upper_">
<code class="descname">copy_lower_to_upper_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubMatrix.copy_lower_to_upper_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies lower triangle to upper triangle.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â If matrix is not square.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.copy_row_from_vec_">
<code class="descname">copy_row_from_vec_</code><span class="sig-paren">(</span><em>v:VectorBase</em>, <em>row:int</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubMatrix.copy_row_from_vec_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies a vector into the specified row.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>v</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a>) â The input vector.</li>
<li><strong>row</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The row index.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.copy_rows_">
<code class="descname">copy_rows_</code><span class="sig-paren">(</span><em>src</em>, <em>indices</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubMatrix.copy_rows_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies rows from another matrix.</p>
<p>Copies row <code class="xref py py-obj docutils literal"><span class="pre">r</span></code> from row <code class="xref py py-obj docutils literal"><span class="pre">indices[r]</span></code> of <code class="xref py py-obj docutils literal"><span class="pre">src</span></code>. As a special case, if
<code class="xref py py-obj docutils literal"><span class="pre">indexes[i]</span> <span class="pre">==</span> <span class="pre">-1</span></code>, sets row <code class="xref py py-obj docutils literal"><span class="pre">i</span></code> to zero. All elements of indices must
be in <code class="xref py py-obj docutils literal"><span class="pre">[-1,</span> <span class="pre">src.num_rows-1]</span></code>, and <code class="xref py py-obj docutils literal"><span class="pre">src.num_cols</span></code> must equal
<code class="xref py py-obj docutils literal"><span class="pre">self.num_cols</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>src</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The input matrix.</li>
<li><strong>indices</strong> (<em>List</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>]</em>) â The list of row indices.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.copy_rows_from_vec_">
<code class="descname">copy_rows_from_vec_</code><span class="sig-paren">(</span><em>v:VectorBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubMatrix.copy_rows_from_vec_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies row elements from a vector.</p>
<p>This method has two modes of operation. If the number of elements in
<code class="xref py py-obj docutils literal"><span class="pre">self</span></code> and <code class="xref py py-obj docutils literal"><span class="pre">v</span></code> are the same, then elements of <code class="xref py py-obj docutils literal"><span class="pre">v</span></code> are copied into
<code class="xref py py-obj docutils literal"><span class="pre">self</span></code> row by row. If the number of elements in <code class="xref py py-obj docutils literal"><span class="pre">v</span></code> is equal to
<code class="xref py py-obj docutils literal"><span class="pre">self.num_cols</span></code>, then the elements of <code class="xref py py-obj docutils literal"><span class="pre">v</span></code> are copied into each row of
<code class="xref py py-obj docutils literal"><span class="pre">self</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>v</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a>) â The input vector.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.copy_upper_to_lower_">
<code class="descname">copy_upper_to_lower_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubMatrix.copy_upper_to_lower_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies upper triangle to lower triangle.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â If matrix is not square.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.SubMatrix.data">
<code class="descname">data</code><a class="headerlink" href="#kaldi.matrix.SubMatrix.data" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Matrix data as a memoryview.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.diff_sigmoid_">
<code class="descname">diff_sigmoid_</code><span class="sig-paren">(</span><em>value:MatrixBase</em>, <em>diff:MatrixBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubMatrix.diff_sigmoid_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Backpropagates derivatives through the sigmoid function.</p>
<p>Performs the operation
<code class="xref py py-obj docutils literal"><span class="pre">M[i,j]</span> <span class="pre">=</span> <span class="pre">diff[i,j]</span> <span class="pre">*</span> <span class="pre">value[i,j]</span> <span class="pre">*</span> <span class="pre">(1</span> <span class="pre">-</span> <span class="pre">value[i,j])</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>value</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The activations.</li>
<li><strong>diff</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The derivatives.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.diff_tanh_">
<code class="descname">diff_tanh_</code><span class="sig-paren">(</span><em>value:MatrixBase</em>, <em>diff:MatrixBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubMatrix.diff_tanh_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Backpropagates derivatives through the tanh function.</p>
<p>Performs the operation <code class="xref py py-obj docutils literal"><span class="pre">M[i,j]</span> <span class="pre">=</span> <span class="pre">diff[i,j]</span> <span class="pre">*</span> <span class="pre">(1</span> <span class="pre">-</span> <span class="pre">value[i,j]^2)</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>value</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The activations.</li>
<li><strong>diff</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The derivatives.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.div_elements_">
<code class="descname">div_elements_</code><span class="sig-paren">(</span><em>A:MatrixBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubMatrix.div_elements_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Divides element-wise with another matrix.</p>
<p>Performs the operation <code class="xref py py-obj docutils literal"><span class="pre">M</span> <span class="pre">=</span> <span class="pre">M</span> <span class="pre">oslash</span> <span class="pre">A</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>A</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The denominator.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.eig">
<code class="descname">eig</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubMatrix.eig" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Computes eigendecomposition.</p>
<p>Factorizes a square matrix into <span class="math">\(P\ D\ P^{-1}\)</span>.</p>
<p>The relationship of <span class="math">\(D\)</span> to the eigenvalues is slightly
complicated, due to the need for <span class="math">\(P\)</span> to be real. In the symmetric
case, <span class="math">\(D\)</span> is diagonal and real, but in the non-symmetric case
there may be complex-conjugate pairs of eigenvalues. In this case, for
the equation <span class="math">\(y = P\ D\ P^{-1}\)</span> to hold, <span class="math">\(D\)</span> must actually
be block diagonal, with 2x2 blocks corresponding to any such pairs. If a
pair is <span class="math">\(\lambda +- i\mu\)</span>, <span class="math">\(D\)</span> will have a corresponding
2x2 block <span class="math">\([\lambda, \mu; -\mu, \lambda]\)</span>. Note that if the
matrix is not invertible, <span class="math">\(P\)</span> may not be invertible so in this
case instead of the equation <span class="math">\(y = P\ D\ P^{-1}\)</span> holding, we have
<span class="math">\(y\ P = P\ D\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">3-element tuple containing<ul class="simple">
<li><strong>P</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><code class="xref py py-class docutils literal"><span class="pre">Matrix</span></code></a>): The eigenvector matrix, where ith column
corresponds to the ith eigenvector.</li>
<li><strong>r</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><code class="xref py py-class docutils literal"><span class="pre">Vector</span></code></a>): The vector with real components of the
eigenvalues.</li>
<li><strong>i</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><code class="xref py py-class docutils literal"><span class="pre">Vector</span></code></a>): The vector with imaginary components of
the eigenvalues.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> â If the matrix is not square.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.equal">
<code class="descname">equal</code><span class="sig-paren">(</span><em>other:MatrixBase</em><span class="sig-paren">)</span> &#x2192; bool<a class="headerlink" href="#kaldi.matrix.SubMatrix.equal" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Checks if matrices are exactly equal.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>other</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The matrix to check against</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if <code class="xref py py-obj docutils literal"><span class="pre">self[i,j]</span> <span class="pre">==</span> <span class="pre">other[i,j]`</span></code> for all <code class="xref py py-obj docutils literal"><span class="pre">i,j</span></code>. False otherwise.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.frobenius_norm">
<code class="descname">frobenius_norm</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.SubMatrix.frobenius_norm" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the Frobenius norm of the matrix</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.group_max_">
<code class="descname">group_max_</code><span class="sig-paren">(</span><em>src:MatrixBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubMatrix.group_max_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Computes group max of elements in another matrix.</p>
<p>Performs the operation <code class="xref py py-obj docutils literal"><span class="pre">self[i,j]</span> <span class="pre">=</span> <span class="pre">max(src[i,j*gs:(j+1)*gs])</span></code>
where <code class="xref py py-obj docutils literal"><span class="pre">gs</span> <span class="pre">=</span> <span class="pre">src.num_cols</span> <span class="pre">/</span> <span class="pre">self.num_cols</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>src</strong> (<em>MatrixBase</em>) â The source matrix.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â If <code class="xref py py-obj docutils literal"><span class="pre">src.num_rows</span> <span class="pre">!=</span> <span class="pre">self.num_rows</span></code>
or <code class="xref py py-obj docutils literal"><span class="pre">src.num_rows</span> <span class="pre">%</span> <span class="pre">self.num_rows</span> <span class="pre">!=</span> <span class="pre">0</span></code>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.group_max_deriv_">
<code class="descname">group_max_deriv_</code><span class="sig-paren">(</span><em>input:MatrixBase</em>, <em>output:MatrixBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubMatrix.group_max_deriv_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Computes derivatives for the group max operation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>input</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The input to group max operation (src in
<a class="reference internal" href="#kaldi.matrix.SubMatrix.group_max_" title="kaldi.matrix.SubMatrix.group_max_"><code class="xref py py-meth docutils literal"><span class="pre">group_max_()</span></code></a>).</li>
<li><strong>output</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The output of group max operation.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.group_pnorm_">
<code class="descname">group_pnorm_</code><span class="sig-paren">(</span><em>src:MatrixBase</em>, <em>power:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubMatrix.group_pnorm_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Computes group p-norm of elements in another matrix.</p>
<p>Performs the operation <code class="xref py py-obj docutils literal"><span class="pre">self[i,j]</span> <span class="pre">=</span> <span class="pre">norm(src[i,j*gs:(j+1)*gs],</span> <span class="pre">power)</span></code>
where <code class="xref py py-obj docutils literal"><span class="pre">gs</span> <span class="pre">=</span> <span class="pre">src.num_cols</span> <span class="pre">/</span> <span class="pre">self.num_cols</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>src</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The source matrix.</li>
<li><strong>power</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The p value for p-norm. It must be non-negative.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â If <code class="xref py py-obj docutils literal"><span class="pre">src.num_rows</span> <span class="pre">!=</span> <span class="pre">self.num_rows</span></code>
or <code class="xref py py-obj docutils literal"><span class="pre">src.num_rows</span> <span class="pre">%</span> <span class="pre">self.num_rows</span> <span class="pre">!=</span> <span class="pre">0</span></code>.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.group_pnorm_deriv_">
<code class="descname">group_pnorm_deriv_</code><span class="sig-paren">(</span><em>input:MatrixBase</em>, <em>output:MatrixBase</em>, <em>power:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubMatrix.group_pnorm_deriv_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Computes derivatives for the group p-norm operation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>input</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The input to group p-norm operation (src in
<a class="reference internal" href="#kaldi.matrix.SubMatrix.group_pnorm_" title="kaldi.matrix.SubMatrix.group_pnorm_"><code class="xref py py-meth docutils literal"><span class="pre">group_pnorm_()</span></code></a>).</li>
<li><strong>output</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The output of group p-norm operation.</li>
<li><strong>power</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The p value for p-norm. It must be non-negative.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.heaviside_">
<code class="descname">heaviside_</code><span class="sig-paren">(</span><em>src:MatrixBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubMatrix.heaviside_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies Heaviside step function to elements of another matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>src</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The source matrix.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.invert_">
<code class="descname">invert_</code><span class="sig-paren">(</span><em>in_double_precision=False</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubMatrix.invert_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Inverts the matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>in_double_precision</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) â Whether to do the inversion in double
precision. Defaults to <code class="docutils literal"><span class="pre">False</span></code>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">2-element tuple containing<ul class="simple">
<li><strong>log_det</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><code class="xref py py-class docutils literal"><span class="pre">float</span></code></a>): The log determinant.</li>
<li><strong>det_sign</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><code class="xref py py-class docutils literal"><span class="pre">float</span></code></a>): The sign of the determinant, 1 or -1.</li>
</ul>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â If matrix is not square.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.invert_elements_">
<code class="descname">invert_elements_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubMatrix.invert_elements_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Inverts the elements.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.is_diagonal">
<code class="descname">is_diagonal</code><span class="sig-paren">(</span><em>cutoff:float=default</em><span class="sig-paren">)</span> &#x2192; bool<a class="headerlink" href="#kaldi.matrix.SubMatrix.is_diagonal" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Checks if the matrix is approximately diagonal.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cutoff</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The cutoff value. Defaults to <code class="docutils literal"><span class="pre">1.0e-05</span></code>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if <code class="xref py py-obj docutils literal"><span class="pre">sum(digonal_elements)*cutoff</span> <span class="pre">&gt;</span> <span class="pre">sum(nondiagonal_elements)</span></code>.
False otherwise.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.is_symmetric">
<code class="descname">is_symmetric</code><span class="sig-paren">(</span><em>cutoff:float=default</em><span class="sig-paren">)</span> &#x2192; bool<a class="headerlink" href="#kaldi.matrix.SubMatrix.is_symmetric" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Checks if the matrix is approximately symmetric.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cutoff</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The cutoff value. Defaults to <code class="docutils literal"><span class="pre">1.0e-05</span></code>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if the matrix is approximately symmetric. False otherwise.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.is_unit">
<code class="descname">is_unit</code><span class="sig-paren">(</span><em>cutoff:float=default</em><span class="sig-paren">)</span> &#x2192; bool<a class="headerlink" href="#kaldi.matrix.SubMatrix.is_unit" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Checks if the matrix is identity-like.</p>
<p>Checks if <code class="xref py py-obj docutils literal"><span class="pre">max(M</span> <span class="pre">-</span> <span class="pre">I)</span> <span class="pre">&lt;=</span> <span class="pre">cutoff</span></code> where <code class="xref py py-obj docutils literal"><span class="pre">I</span></code> is a matrix with the same
size as <code class="xref py py-obj docutils literal"><span class="pre">M</span></code>, ones on the diagonal and zeros elsewhere.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cutoff</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The cutoff value. Defaults to <code class="docutils literal"><span class="pre">1.0e-05</span></code>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if <code class="xref py py-obj docutils literal"><span class="pre">max(M</span> <span class="pre">-</span> <span class="pre">I)</span> <span class="pre">&lt;=</span> <span class="pre">cutoff</span></code>.</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The matrix does not have to be square.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.is_zero">
<code class="descname">is_zero</code><span class="sig-paren">(</span><em>cutoff:float=default</em><span class="sig-paren">)</span> &#x2192; bool<a class="headerlink" href="#kaldi.matrix.SubMatrix.is_zero" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Checks if the elements are all zeros.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cutoff</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The cutoff value. Defaults to <code class="docutils literal"><span class="pre">1.0e-05</span></code>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if <code class="xref py py-obj docutils literal"><span class="pre">max(abs(M))</span> <span class="pre">&lt;=</span> <span class="pre">cutoff</span></code>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.largest_abs_elem">
<code class="descname">largest_abs_elem</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.SubMatrix.largest_abs_elem" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the largest of the absolute values of the elements.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.log_det">
<code class="descname">log_det</code><span class="sig-paren">(</span><em>) -&gt; (log_det:float</em>, <em>det_sign:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubMatrix.log_det" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Computes log determinant of the matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">2-element tuple containing<ul class="simple">
<li><strong>log_det</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><code class="xref py py-class docutils literal"><span class="pre">float</span></code></a>): The log determinant.</li>
<li><strong>det_sign</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><code class="xref py py-class docutils literal"><span class="pre">float</span></code></a>): The sign of the determinant, 1 or -1.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.log_sum_exp">
<code class="descname">log_sum_exp</code><span class="sig-paren">(</span><em>prune:float=default</em><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.SubMatrix.log_sum_exp" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Computes <span class="math">\(f(M)=\log(\sum_{i,j} \exp(M_{i,j}))\)</span> without exp overflow.</p>
<p>If <code class="xref py py-obj docutils literal"><span class="pre">prune</span> <span class="pre">&gt;</span> <span class="pre">0.0</span></code>, ignores terms less than <code class="xref py py-obj docutils literal"><span class="pre">max(M)</span> <span class="pre">-</span> <span class="pre">prune</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>prune</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The pruning beam. Defaults to <code class="xref py py-obj docutils literal"><span class="pre">-1.0</span></code>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><span class="math">\(\log(\sum_{i,j} \exp(M_{i,j}))\)</span>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.max">
<code class="descname">max</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.SubMatrix.max" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the maximum value in the matrix.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.max_with_mat_">
<code class="descname">max_with_mat_</code><span class="sig-paren">(</span><em>A:MatrixBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubMatrix.max_with_mat_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies an element-wise max operation.</p>
<p>Performs the operation <code class="xref py py-obj docutils literal"><span class="pre">M[i,j]</span> <span class="pre">=</span> <span class="pre">max(M[i,j],</span> <span class="pre">A[i,j])</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>A</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The input matrix.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.min">
<code class="descname">min</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.SubMatrix.min" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the minimum value in the matrix.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.min_singular_value">
<code class="descname">min_singular_value</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.SubMatrix.min_singular_value" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the smallest singular value.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.min_with_mat_">
<code class="descname">min_with_mat_</code><span class="sig-paren">(</span><em>A:MatrixBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubMatrix.min_with_mat_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies an element-wise min operation.</p>
<p>Performs the operation <code class="xref py py-obj docutils literal"><span class="pre">M[i,j]</span> <span class="pre">=</span> <span class="pre">min(M[i,j],</span> <span class="pre">A[i,j])</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>A</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The input matrix.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.mul_cols_vec_">
<code class="descname">mul_cols_vec_</code><span class="sig-paren">(</span><em>scale:VectorBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubMatrix.mul_cols_vec_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Scales columns with the elements in a vector.</p>
<p>Performs the operation <code class="xref py py-obj docutils literal"><span class="pre">M[i,j]</span> <span class="pre">=</span> <span class="pre">scale[j]</span> <span class="pre">*</span> <span class="pre">M[i,j]</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>scale</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a>) â The scaling vector.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.mul_elements_">
<code class="descname">mul_elements_</code><span class="sig-paren">(</span><em>A:MatrixBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubMatrix.mul_elements_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Multiplies element-wise with another matrix.</p>
<p>Performs the operation <code class="xref py py-obj docutils literal"><span class="pre">M</span> <span class="pre">=</span> <span class="pre">M</span> <span class="pre">odot</span> <span class="pre">A</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>A</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The multiplier.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.mul_rows_group_mat_">
<code class="descname">mul_rows_group_mat_</code><span class="sig-paren">(</span><em>src:MatrixBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubMatrix.mul_rows_group_mat_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Scales matrix with another matrix.</p>
<p>Divides each row of <code class="xref py py-obj docutils literal"><span class="pre">self</span></code> into <code class="xref py py-obj docutils literal"><span class="pre">src.num_cols</span></code> equal groups, and then
scales <code class="xref py py-obj docutils literal"><span class="pre">i`th</span> <span class="pre">row's</span> <span class="pre">`j`th</span> <span class="pre">group</span> <span class="pre">of</span> <span class="pre">elements</span> <span class="pre">with</span> <span class="pre">`src[i,j]</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>src</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The scaling matrix.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â If <code class="xref py py-obj docutils literal"><span class="pre">self.num_rows</span> <span class="pre">!=</span> <span class="pre">src.num_rows</span></code> or
<code class="xref py py-obj docutils literal"><span class="pre">self.num_cols</span> <span class="pre">%</span> <span class="pre">src.num_cols</span> <span class="pre">!=</span> <span class="pre">0</span></code>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.mul_rows_vec_">
<code class="descname">mul_rows_vec_</code><span class="sig-paren">(</span><em>scale:VectorBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubMatrix.mul_rows_vec_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Scales rows with the elements in a vector.</p>
<p>Performs the operation <code class="xref py py-obj docutils literal"><span class="pre">M[i,j]</span> <span class="pre">=</span> <span class="pre">scale[i]</span> <span class="pre">*</span> <span class="pre">M[i,j]</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>scale</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a>) â The scaling vector.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.SubMatrix.num_cols">
<code class="descname">num_cols</code><a class="headerlink" href="#kaldi.matrix.SubMatrix.num_cols" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Number of columns (zero for empty matrix).</p>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.SubMatrix.num_rows">
<code class="descname">num_rows</code><a class="headerlink" href="#kaldi.matrix.SubMatrix.num_rows" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Number of rows (zero for empty matrix).</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.numpy">
<code class="descname">numpy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubMatrix.numpy" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Converts the matrix to a 2-D NumPy array.</p>
<p>The NumPy array is a view into the matrix, i.e. no data is copied.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A NumPy array sharing data with this matrix.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)">numpy.ndarray</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.orthogonalize_rows_">
<code class="descname">orthogonalize_rows_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubMatrix.orthogonalize_rows_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Orthogonalizes rows using the Gram-Schmidt process.</p>
<p>Uses random number generation to fill in rows with something non-zero,
in cases where the original matrix was of deficient row rank.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â If <code class="xref py py-obj docutils literal"><span class="pre">self.num_rows</span> <span class="pre">&gt;</span> <span class="pre">self.num_cols</span></code>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.power_">
<code class="descname">power_</code><span class="sig-paren">(</span><em>pow:float</em><span class="sig-paren">)</span> &#x2192; bool<a class="headerlink" href="#kaldi.matrix.SubMatrix.power_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Takes the matrix to the specified power.</p>
<p>This method uses an algorithm that works in general for fractional
and negative powers. The input matrix must be invertible and have a
reasonable condition number. The algorithm is based on eigenvalue
decomposition. It will return False and leave the matrix unchanged,
if the matrix has real negative eigenvalues (or if it has zero
eigenvalues and the power is negative).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>pow</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The exponent.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if the operation was successful.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.range">
<code class="descname">range</code><span class="sig-paren">(</span><em>row_start</em>, <em>num_rows</em>, <em>col_start</em>, <em>num_cols</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubMatrix.range" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the given range of elements as a new matrix view.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>row_start</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The start row index.</li>
<li><strong>num_rows</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The number of rows.</li>
<li><strong>col_start</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The start column index.</li>
<li><strong>num_cols</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The number of columns.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A matrix view representing the given range.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#kaldi.matrix.SubMatrix" title="kaldi.matrix.SubMatrix">SubMatrix</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.read_">
<code class="descname">read_</code><span class="sig-paren">(</span><em>is:istream</em>, <em>binary:bool</em>, <em>add:bool=default</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubMatrix.read_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Reads the matrix from the given C++ stream.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>is</strong> (<a class="reference internal" href="kaldi.base.html#kaldi.base.io.istream" title="kaldi.base.io.istream"><em>istream</em></a>) â The input C++ stream.</li>
<li><strong>binary</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) â Whether the stream is binary.</li>
<li><strong>add</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) â Whether to add existing contents to the read matrix.
Defaults to <code class="docutils literal"><span class="pre">False</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.row">
<code class="descname">row</code><span class="sig-paren">(</span><em>index</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubMatrix.row" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the given row as a new vector view.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>index</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The row index.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A vector view representing the given row.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#kaldi.matrix.SubVector" title="kaldi.matrix.SubVector">SubVector</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.row_data">
<code class="descname">row_data</code><span class="sig-paren">(</span><em>index</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubMatrix.row_data" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns row data as a memoryview.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.row_range">
<code class="descname">row_range</code><span class="sig-paren">(</span><em>row_start</em>, <em>num_rows</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubMatrix.row_range" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the given range of rows as a new matrix view.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>row_start</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The start row index.</li>
<li><strong>num_rows</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The number of rows.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A matrix view representing the given row range.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#kaldi.matrix.SubMatrix" title="kaldi.matrix.SubMatrix">SubMatrix</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.scale_">
<code class="descname">scale_</code><span class="sig-paren">(</span><em>alpha:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubMatrix.scale_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Scales the matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.set_mat_mat_div_mat_">
<code class="descname">set_mat_mat_div_mat_</code><span class="sig-paren">(</span><em>A:MatrixBase</em>, <em>B:MatrixBase</em>, <em>C:MatrixBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubMatrix.set_mat_mat_div_mat_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Computes an elementwise multiplication followed by division.</p>
<p>Performs the operation <span class="math">\(S = A \odot B \oslash C\)</span> where
<span class="math">\(\odot\)</span> and <span class="math">\(\oslash\)</span> are elementwise multiplication and
division. If <span class="math">\(C[i,j] == 0\)</span> then <span class="math">\(S[i,j]\)</span> remains intact.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>A</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The first input matrix.</li>
<li><strong>B</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The second input matrix.</li>
<li><strong>C</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The third input matrix.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.set_rand_uniform_">
<code class="descname">set_rand_uniform_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubMatrix.set_rand_uniform_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Sets the elements to numbers uniformly distributed on (0,1).</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.set_randn_">
<code class="descname">set_randn_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubMatrix.set_randn_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Sets the elements to numbers from standard normal distribution.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.set_unit_">
<code class="descname">set_unit_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubMatrix.set_unit_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Sets diagonal elements to one, off-diagonal elements to zero.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Works for non-square matrices too.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.set_zero_">
<code class="descname">set_zero_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubMatrix.set_zero_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Sets the elements to zero.</p>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.SubMatrix.shape">
<code class="descname">shape</code><a class="headerlink" href="#kaldi.matrix.SubMatrix.shape" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Two element tuple representing the size of the matrix.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.sigmoid_">
<code class="descname">sigmoid_</code><span class="sig-paren">(</span><em>src:MatrixBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubMatrix.sigmoid_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies sigmoid function to elements of another matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>src</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The source matrix.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.singular_values">
<code class="descname">singular_values</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubMatrix.singular_values" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Computes singular values.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The vector of singular values.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector">Vector</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.size">
<code class="descname">size</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubMatrix.size" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the size of the matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A tuple (num_rows, num_cols) of integers.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.size_in_bytes">
<code class="descname">size_in_bytes</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; int<a class="headerlink" href="#kaldi.matrix.SubMatrix.size_in_bytes" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the size (in bytes) of the data held by the matrix.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.soft_hinge_">
<code class="descname">soft_hinge_</code><span class="sig-paren">(</span><em>src:MatrixBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubMatrix.soft_hinge_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies soft hinge function to elements of another matrix.</p>
<p>Performs the operation <code class="xref py py-obj docutils literal"><span class="pre">M[i,j]</span> <span class="pre">=</span> <span class="pre">log(1</span> <span class="pre">+</span> <span class="pre">exp(src[i,j]))</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>src</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The source matrix.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.SubMatrix.stride">
<code class="descname">stride</code><a class="headerlink" href="#kaldi.matrix.SubMatrix.stride" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Row stride (distance in memory between each row, &gt;= num_cols).</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.sum">
<code class="descname">sum</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.SubMatrix.sum" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the sum of the elements.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.svd">
<code class="descname">svd</code><span class="sig-paren">(</span><em>destructive=False</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubMatrix.svd" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Computes singular-value decomposition.</p>
<p>Factorizes a matrix into <span class="math">\(U\ diag(s)\ V^T\)</span>.</p>
<p>For non-square matrices, requires <code class="xref py py-obj docutils literal"><span class="pre">self.num_rows</span> <span class="pre">&gt;=</span> <span class="pre">self.num_cols</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>destructive</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) â Whether to use the destructive operation which
avoids a copy but mutates self. Defaults to <code class="docutils literal"><span class="pre">False</span></code>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">3-element tuple containing<ul class="simple">
<li><strong>s</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><code class="xref py py-class docutils literal"><span class="pre">Vector</span></code></a>): The vector of singular values.</li>
<li><strong>U</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><code class="xref py py-class docutils literal"><span class="pre">Matrix</span></code></a>): The left orthonormal matrix.</li>
<li><strong>Vt</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><code class="xref py py-class docutils literal"><span class="pre">Matrix</span></code></a>): The right orthonormal matrix.</li>
</ul>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> â If <code class="xref py py-obj docutils literal"><span class="pre">self.num_rows</span> <span class="pre">&lt;</span> <span class="pre">self.num_cols</span></code>.</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><strong>Vt</strong> in the output is already transposed.
The singular values in <strong>s</strong> are not sorted.</p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#kaldi.matrix.SubMatrix.singular_values" title="kaldi.matrix.SubMatrix.singular_values"><code class="xref py py-meth docutils literal"><span class="pre">singular_values()</span></code></a>
<code class="xref py py-meth docutils literal"><span class="pre">sort_svd()</span></code></p>
</div>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.sym_add_mat2_">
<code class="descname">sym_add_mat2_</code><span class="sig-paren">(</span><em>alpha:float</em>, <em>M:MatrixBase</em>, <em>transA:MatrixTransposeType</em>, <em>beta:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubMatrix.sym_add_mat2_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds the square of given matrix to this one.</p>
<p>Performs the operation on symmetric matrices
<span class="math">\(S = \alpha\ M\ M^T + \beta\ S\)</span>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">It only updates the lower triangle of self. It will leave the
matrix asymmetric. If you need it symmetric as a regular matrix,
call <a class="reference internal" href="#kaldi.matrix.SubMatrix.copy_lower_to_upper_" title="kaldi.matrix.SubMatrix.copy_lower_to_upper_"><code class="xref py py-meth docutils literal"><span class="pre">copy_lower_to_upper_()</span></code></a> after this operation.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for <span class="math">\(M\ M^T\)</span>.</li>
<li><strong>M</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The input matrix.</li>
<li><strong>transM</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixTransposeType" title="kaldi.matrix.common.MatrixTransposeType"><em>MatrixTransposeType</em></a>) â Whether to use <strong>M</strong> or its transpose.
Defaults to <code class="docutils literal"><span class="pre">MatrixTransposeType.NO_TRANS</span></code>.</li>
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the destination matrix.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.sym_pos_semi_def_eig">
<code class="descname">sym_pos_semi_def_eig</code><span class="sig-paren">(</span><em>s:VectorBase</em>, <em>P:MatrixBase</em>, <em>check_thresh:float=default</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubMatrix.sym_pos_semi_def_eig" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Computes eigendecomposition of a positive semi-definite matrix.</p>
<p>Uses SVD to compute the eigendecomposition of a symmetric positive
semi-definite matrix: <span class="math">\(M = P\ diag(s) \ P^T\)</span>, where <span class="math">\(P\)</span>
is an orthogonal matrix, i.e. <span class="math">\(P^{-1} = P^T\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>s</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a>) â The eigenvalue vector.</li>
<li><strong>P</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The eigenvector matrix.</li>
<li><strong>check_thresh</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The threshold used for checking if input is
positive semi-definite. Defaults to <code class="docutils literal"><span class="pre">0.001</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Set check_thresh to 2 to ensure the positive semi-definite check
wonât ever complain, however it will zero out negative dimensions
in the matrix.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â If input is not positive semi-definite.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.tanh_">
<code class="descname">tanh_</code><span class="sig-paren">(</span><em>src:MatrixBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubMatrix.tanh_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies tanh function to elements of another matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>src</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The source matrix.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.trace">
<code class="descname">trace</code><span class="sig-paren">(</span><em>check_square:bool=default</em><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.SubMatrix.trace" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the trace.</p>
<p>If matrix is not square it will return the trace of the square matrix
formed from the minimum dimension, e.g. if the matrix is 3x5 it will
return the trace of the 3x3 submatrix at the beginning.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>check_square</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) â Check if the matrix is square.
Defaults to <code class="docutils literal"><span class="pre">True</span></code>.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â If the matrix is not square and</li>
<li>**check_square** is <code class="docutils literal"><span class="pre">True</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.transpose_">
<code class="descname">transpose_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubMatrix.transpose_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Transposes the matrix.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubMatrix.write">
<code class="descname">write</code><span class="sig-paren">(</span><em>os:ostream</em>, <em>binary:bool</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubMatrix.write" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Writes the matrix to given C++ stream.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>os</strong> (<a class="reference internal" href="kaldi.base.html#kaldi.base.io.ostream" title="kaldi.base.io.ostream"><em>ostream</em></a>) â The output C++ straem.</li>
<li><strong>binary</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) â Whether the stream is binary.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="kaldi.matrix.SubVector">
<em class="property">class </em><code class="descclassname">kaldi.matrix.</code><code class="descname">SubVector</code><span class="sig-paren">(</span><em>obj</em>, <em>start=0</em>, <em>length=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/kaldi/matrix.html#SubVector"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#kaldi.matrix.SubVector" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Single precision vector view.</p>
<p>Creates a new vector view from a vector like object.</p>
<p>If possible the new vector view will share its data with the <code class="xref py py-obj docutils literal"><span class="pre">obj</span></code>,
i.e. no copy will be made. A copy will only be made if <code class="xref py py-obj docutils literal"><span class="pre">obj.__array__</span></code>
returns a copy, if <code class="xref py py-obj docutils literal"><span class="pre">obj</span></code> is a sequence, or if a copy is needed to
satisfy any of the other requirements (data type, order, etc.).
Regardless of whether a copy is made or not, the new vector view will
not own the memory buffer backing it, i.e. it will not support vector
operations that reallocate memory.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>obj</strong> (<em>vector_like</em>) â A vector, a 1-D numpy array, any object exposing
a 1-D array interface, an object whose __array__ method returns
a 1-D numpy array, or any sequence that can be interpreted as a
vector.</li>
<li><strong>start</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The index of the view start. Defaults to 0.</li>
<li><strong>length</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The length of the view. If None, it is set to
len(obj) - start. Defaults to None.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="kaldi.matrix.SubVector.add_">
<code class="descname">add_</code><span class="sig-paren">(</span><em>value:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubVector.add_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds the given value to each element.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>value</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The value to add.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubVector.add_col_sum_mat_">
<code class="descname">add_col_sum_mat_</code><span class="sig-paren">(</span><em>alpha</em>, <em>M</em>, <em>beta=1.0</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubVector.add_col_sum_mat_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds the sum of matrix columns.</p>
<p>Performs the operation
<span class="math">\(y = \alpha\ \sum_i M[:,i] + \beta\ y\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the column sum.</li>
<li><strong>M</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The input matrix.</li>
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the destination vector.
Defaults to <code class="docutils literal"><span class="pre">1.0</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> â If <code class="xref py py-obj docutils literal"><span class="pre">self.dim</span> <span class="pre">!=</span> <span class="pre">M.num_rows</span></code>.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubVector.add_diag_mat2_">
<code class="descname">add_diag_mat2_</code><span class="sig-paren">(</span><em>alpha</em>, <em>M</em>, <em>trans=&lt;MatrixTransposeType.NO_TRANS: 111&gt;</em>, <em>beta=1.0</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubVector.add_diag_mat2_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds the diagonal of a matrix multiplied with its transpose.</p>
<p>Performs the operation <span class="math">\(y = \alpha\ diag(M M^T) + \beta\ y\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the diagonal.</li>
<li><strong>M</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The input matrix.</li>
<li><strong>trans</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixTransposeType" title="kaldi.matrix.common.MatrixTransposeType"><em>MatrixTransposeType</em></a>) â Whether to use <strong>M</strong> or its transpose.
Defaults to <code class="docutils literal"><span class="pre">MatrixTransposeType.NO_TRANS</span></code>.</li>
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the destination vector.
Defaults to <code class="docutils literal"><span class="pre">1.0</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubVector.add_diag_mat_mat_">
<code class="descname">add_diag_mat_mat_</code><span class="sig-paren">(</span><em>alpha</em>, <em>M</em>, <em>transM</em>, <em>N</em>, <em>transN</em>, <em>beta=1.0</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubVector.add_diag_mat_mat_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds the diagonal of a matrix-matrix product.</p>
<p>Performs the operation <span class="math">\(y = \alpha\ diag(M N) + \beta\ y\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the diagonal.</li>
<li><strong>M</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The first input matrix.</li>
<li><strong>transM</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixTransposeType" title="kaldi.matrix.common.MatrixTransposeType"><em>MatrixTransposeType</em></a>) â Whether to use <strong>M</strong> or its transpose.</li>
<li><strong>N</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The second input matrix.</li>
<li><strong>transN</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixTransposeType" title="kaldi.matrix.common.MatrixTransposeType"><em>MatrixTransposeType</em></a>) â Whether to use <strong>N</strong> or its transpose.</li>
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the destination vector.
Defaults to <code class="docutils literal"><span class="pre">1.0</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubVector.add_mat_vec_">
<code class="descname">add_mat_vec_</code><span class="sig-paren">(</span><em>alpha</em>, <em>M</em>, <em>trans</em>, <em>v</em>, <em>beta</em>, <em>sparse=False</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubVector.add_mat_vec_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Computes a matrix-vector product.</p>
<p>Performs the operation <span class="math">\(y = \alpha\ M\ v + \beta\ y\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the matrix-vector product.</li>
<li><strong>M</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.SpMatrix" title="kaldi.matrix.packed.SpMatrix"><em>SpMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.TpMatrix" title="kaldi.matrix.packed.TpMatrix"><em>TpMatrix</em></a>) â The input matrix.</li>
<li><strong>trans</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixTransposeType" title="kaldi.matrix.common.MatrixTransposeType"><em>MatrixTransposeType</em></a>) â Whether to use <strong>M</strong> or its transpose.</li>
<li><strong>v</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a>) â The input vector.</li>
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The scalar multiplier for the destination vector.</li>
<li><strong>sparse</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) â Whether to use the algorithm that is faster when
<strong>v</strong> is sparse. Defaults to <code class="docutils literal"><span class="pre">False</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubVector.add_row_sum_mat_">
<code class="descname">add_row_sum_mat_</code><span class="sig-paren">(</span><em>alpha</em>, <em>M</em>, <em>beta=1.0</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubVector.add_row_sum_mat_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds the sum of matrix rows.</p>
<p>Performs the operation <span class="math">\(y = \alpha\ \sum_i M[i] + \beta\ y\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the row sum.</li>
<li><strong>M</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The input matrix.</li>
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the destination vector.
Defaults to <code class="docutils literal"><span class="pre">1.0</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> â If <code class="xref py py-obj docutils literal"><span class="pre">self.dim</span> <span class="pre">!=</span> <span class="pre">M.num_cols</span></code>.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubVector.add_vec2_">
<code class="descname">add_vec2_</code><span class="sig-paren">(</span><em>alpha</em>, <em>v</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubVector.add_vec2_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds the squares of elements from another vector.</p>
<p>Performs the operation <span class="math">\(y = y + \alpha\ v\odot v\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier.</li>
<li><strong>v</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a>) â The input vector.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubVector.add_vec_">
<code class="descname">add_vec_</code><span class="sig-paren">(</span><em>alpha</em>, <em>v</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubVector.add_vec_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds another vector.</p>
<p>Performs the operation <span class="math">\(y = y + \alpha\ v\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier.</li>
<li><strong>v</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a>) â The input vector.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubVector.add_vec_div_vec_">
<code class="descname">add_vec_div_vec_</code><span class="sig-paren">(</span><em>alpha:float</em>, <em>v:VectorBase</em>, <em>r:VectorBase</em>, <em>beta:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubVector.add_vec_div_vec_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Computes an element-wise vector-vector division.</p>
<p>Performs the operation <span class="math">\(y = \alpha\ v\oslash r + \beta\ y\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the division.</li>
<li><strong>v</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a>) â The first input vector.</li>
<li><strong>r</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a>) â The second input vector.</li>
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the destination vector.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubVector.add_vec_vec_">
<code class="descname">add_vec_vec_</code><span class="sig-paren">(</span><em>alpha:float</em>, <em>v:VectorBase</em>, <em>r:VectorBase</em>, <em>beta:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubVector.add_vec_vec_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Computes an element-wise vector-vector product.</p>
<p>Performs the operation <span class="math">\(y = \alpha\ v\odot r + \beta\ y\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the product.</li>
<li><strong>v</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a>) â The first input vector.</li>
<li><strong>r</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a>) â The second input vector.</li>
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the destination vector.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubVector.apply_abs_">
<code class="descname">apply_abs_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubVector.apply_abs_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies the absolute value operation to each element.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubVector.apply_ceiling_">
<code class="descname">apply_ceiling_</code><span class="sig-paren">(</span><em>ceiling:float</em><span class="sig-paren">)</span> &#x2192; int<a class="headerlink" href="#kaldi.matrix.SubVector.apply_ceiling_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies the ceiling operation to each element.</p>
<p>Performs the operation <code class="xref py py-obj docutils literal"><span class="pre">y[i]</span> <span class="pre">=</span> <span class="pre">min(y[i],</span> <span class="pre">ceiling)</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>ceiling</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The ceiling value.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The number of elements changed.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubVector.apply_ceiling_no_count_">
<code class="descname">apply_ceiling_no_count_</code><span class="sig-paren">(</span><em>ceiling:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubVector.apply_ceiling_no_count_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies the ceiling operation to each element.</p>
<p>Performs the operation <code class="xref py py-obj docutils literal"><span class="pre">y[i]</span> <span class="pre">=</span> <span class="pre">min(y[i],</span> <span class="pre">ceiling)</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>ceiling</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The ceiling value.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubVector.apply_exp_">
<code class="descname">apply_exp_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubVector.apply_exp_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies the exponential operation to each element.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubVector.apply_floor_">
<code class="descname">apply_floor_</code><span class="sig-paren">(</span><em>floor:float</em><span class="sig-paren">)</span> &#x2192; int<a class="headerlink" href="#kaldi.matrix.SubVector.apply_floor_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies the floor operation to each element.</p>
<p>Performs the operation <code class="xref py py-obj docutils literal"><span class="pre">y[i]</span> <span class="pre">=</span> <span class="pre">max(y[i],</span> <span class="pre">floor)</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>floor</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The floor value.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The number of elements changed.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubVector.apply_floor_no_count_">
<code class="descname">apply_floor_no_count_</code><span class="sig-paren">(</span><em>floor:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubVector.apply_floor_no_count_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies the floor operation to each element.</p>
<p>Performs the operation <code class="xref py py-obj docutils literal"><span class="pre">y[i]</span> <span class="pre">=</span> <span class="pre">max(y[i],</span> <span class="pre">floor)</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>floor</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The floor value.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubVector.apply_floor_vector_">
<code class="descname">apply_floor_vector_</code><span class="sig-paren">(</span><em>floor:VectorBase</em><span class="sig-paren">)</span> &#x2192; int<a class="headerlink" href="#kaldi.matrix.SubVector.apply_floor_vector_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies a separate floor operation to each element.</p>
<p>Performs the operation <code class="xref py py-obj docutils literal"><span class="pre">y[i]</span> <span class="pre">=</span> <span class="pre">max(y[i],</span> <span class="pre">floor[i])</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>floor</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a>) â The floor vector.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The number of elements changed.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubVector.apply_log_">
<code class="descname">apply_log_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubVector.apply_log_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies the natural log operation to each element.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubVector.apply_log_and_copy_">
<code class="descname">apply_log_and_copy_</code><span class="sig-paren">(</span><em>v:VectorBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubVector.apply_log_and_copy_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies the natural log operation to the given vector and copies it.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>v</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a>) â The input vector.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubVector.apply_log_softmax_">
<code class="descname">apply_log_softmax_</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.SubVector.apply_log_softmax_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies the logsoftmax operation to each element.</p>
<p>Performs the operation
<span class="math">\(y_i = y_i - \log(\sum_j \exp(y_j))\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><span class="math">\(\log(\sum_j \exp(y_j))\)</span>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubVector.apply_pow_">
<code class="descname">apply_pow_</code><span class="sig-paren">(</span><em>power:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubVector.apply_pow_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Takes each element to the given power.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>power</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The exponent value.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â If an element cannot be raised to the given power.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubVector.apply_pow_abs_">
<code class="descname">apply_pow_abs_</code><span class="sig-paren">(</span><em>power:float</em>, <em>include_sign:bool=default</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubVector.apply_pow_abs_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Takes the absolute value of each element raised to the given power.</p>
<p>If the power is negative and the input is zero, the output is zero.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>power</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The power value.</li>
<li><strong>include_sign</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) â Whether to include the sign of the input value.
Defaults to <code class="docutils literal"><span class="pre">False</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â If an element cannot be raised to the given power.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubVector.apply_softmax_">
<code class="descname">apply_softmax_</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.SubVector.apply_softmax_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies the softmax operation to each element.</p>
<p>Performs the operation
<span class="math">\(y_i = \frac{\exp(y_i)}{\sum_j \exp(y_j)}\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><span class="math">\(\log(\sum_j \exp(y_j))\)</span>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubVector.approx_equal">
<code class="descname">approx_equal</code><span class="sig-paren">(</span><em>other</em>, <em>tol=0.01</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubVector.approx_equal" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Checks if vectors are approximately equal.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>other</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a>) â The vector to compare against.</li>
<li><strong>tol</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The tolerance for the equality check.
Defaults to <code class="docutils literal"><span class="pre">0.01</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">True if <code class="xref py py-obj docutils literal"><span class="pre">self.dim</span> <span class="pre">==</span> <span class="pre">other.dim</span></code> and
<code class="xref py py-obj docutils literal"><span class="pre">||self-other||</span> <span class="pre">&lt;=</span> <span class="pre">tol*||self||</span></code>. False otherwise.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubVector.clone">
<code class="descname">clone</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubVector.clone" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Clones the vector.</p>
<p>The clone allocates new memory for its contents and supports vector
operations that reallocate memory, i.e. it is not a view.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A copy of the vector.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector">Vector</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubVector.copy_">
<code class="descname">copy_</code><span class="sig-paren">(</span><em>src</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubVector.copy_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies the elements from another vector.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>src</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a>) â The input vector.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubVector.copy_col_from_mat_">
<code class="descname">copy_col_from_mat_</code><span class="sig-paren">(</span><em>M</em>, <em>col</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubVector.copy_col_from_mat_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies the elements from a matrix column.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>M</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The input matrix.</li>
<li><strong>col</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The column index.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> â In case of size mismatch.</li>
<li><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#IndexError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">IndexError</span></code></a> â If the column index is out-of-bounds.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubVector.copy_cols_from_mat_">
<code class="descname">copy_cols_from_mat_</code><span class="sig-paren">(</span><em>M</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubVector.copy_cols_from_mat_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies the elements from a matrix column-by-columm.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>M</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The input matrix.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubVector.copy_diag_from_mat_">
<code class="descname">copy_diag_from_mat_</code><span class="sig-paren">(</span><em>M</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubVector.copy_diag_from_mat_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies the digonal elements from a matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>M</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.SpMatrix" title="kaldi.matrix.packed.SpMatrix"><em>SpMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.TpMatrix" title="kaldi.matrix.packed.TpMatrix"><em>TpMatrix</em></a>) â The input matrix.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubVector.copy_from_packed_">
<code class="descname">copy_from_packed_</code><span class="sig-paren">(</span><em>M</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubVector.copy_from_packed_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies the elements from a packed matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>M</strong> (<a class="reference internal" href="#kaldi.matrix.packed.SpMatrix" title="kaldi.matrix.packed.SpMatrix"><em>SpMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.TpMatrix" title="kaldi.matrix.packed.TpMatrix"><em>TpMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.DoubleSpMatrix" title="kaldi.matrix.packed.DoubleSpMatrix"><em>DoubleSpMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.DoubleTpMatrix" title="kaldi.matrix.packed.DoubleTpMatrix"><em>DoubleTpMatrix</em></a>) â The input packed matrix.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> â If <code class="xref py py-obj docutils literal"><span class="pre">self.dim</span> <span class="pre">!=</span>&#160; <span class="pre">M.num_rows</span> <span class="pre">*</span> <span class="pre">(M.num_rows</span> <span class="pre">+</span> <span class="pre">1)</span> <span class="pre">/</span> <span class="pre">2</span></code>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubVector.copy_row_from_mat_">
<code class="descname">copy_row_from_mat_</code><span class="sig-paren">(</span><em>M</em>, <em>row</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubVector.copy_row_from_mat_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies the elements from a matrix row.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>M</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.SpMatrix" title="kaldi.matrix.packed.SpMatrix"><em>SpMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.DoubleSpMatrix" title="kaldi.matrix.packed.DoubleSpMatrix"><em>DoubleSpMatrix</em></a>) â The input matrix.</li>
<li><strong>row</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The row index.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> â In case of size mismatch.</li>
<li><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#IndexError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">IndexError</span></code></a> â If the row index is out-of-bounds.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubVector.copy_rows_from_mat_">
<code class="descname">copy_rows_from_mat_</code><span class="sig-paren">(</span><em>M</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubVector.copy_rows_from_mat_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies the elements from a matrix row-by-row.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>M</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The input matrix.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.SubVector.data">
<code class="descname">data</code><a class="headerlink" href="#kaldi.matrix.SubVector.data" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Vector data as a memoryview.</p>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.SubVector.dim">
<code class="descname">dim</code><a class="headerlink" href="#kaldi.matrix.SubVector.dim" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Dimension (zero for empty vector).</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubVector.div_elements_">
<code class="descname">div_elements_</code><span class="sig-paren">(</span><em>v</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubVector.div_elements_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Divides the elements with the elements of another vector.</p>
<p>Performs the operation <code class="xref py py-obj docutils literal"><span class="pre">y[i]</span> <span class="pre">/=</span> <span class="pre">v[i]</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>v</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a>) â The input vector.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubVector.invert_elements_">
<code class="descname">invert_elements_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubVector.invert_elements_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Inverts the elements.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â If any of the elements is zero.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubVector.is_zero">
<code class="descname">is_zero</code><span class="sig-paren">(</span><em>cutoff:float=default</em><span class="sig-paren">)</span> &#x2192; bool<a class="headerlink" href="#kaldi.matrix.SubVector.is_zero" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Checks if the elements are all zeros.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cutoff</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The cutoff value. Defaults to <code class="docutils literal"><span class="pre">1.0e-06</span></code>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if <code class="xref py py-obj docutils literal"><span class="pre">max(abs(self))</span> <span class="pre">&lt;=</span> <span class="pre">cutoff</span></code>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubVector.log_sum_exp">
<code class="descname">log_sum_exp</code><span class="sig-paren">(</span><em>prune:float=default</em><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.SubVector.log_sum_exp" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Computes <span class="math">\(f(x)=\log(\sum_i \exp(x_i))\)</span> without exp overflow.</p>
<p>If <code class="xref py py-obj docutils literal"><span class="pre">prune</span> <span class="pre">&gt;</span> <span class="pre">0.0</span></code>, ignores terms less than <code class="xref py py-obj docutils literal"><span class="pre">max(x)</span> <span class="pre">-</span> <span class="pre">prune</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>prune</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The pruning beam. Defaults to <code class="xref py py-obj docutils literal"><span class="pre">-1.0</span></code>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><span class="math">\(\log(\sum_i \exp(x_i))\)</span>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubVector.max">
<code class="descname">max</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.SubVector.max" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the maximum value in the vector.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubVector.max_index">
<code class="descname">max_index</code><span class="sig-paren">(</span><em>) -&gt; (value:float</em>, <em>index:int</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubVector.max_index" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the maximum value in the vector, and the associated index.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubVector.min">
<code class="descname">min</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.SubVector.min" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the minimum value in the vector.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubVector.min_index">
<code class="descname">min_index</code><span class="sig-paren">(</span><em>) -&gt; (value:float</em>, <em>index:int</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubVector.min_index" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the minimum value in the vector, and the associated index.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubVector.mul_elements_">
<code class="descname">mul_elements_</code><span class="sig-paren">(</span><em>v</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubVector.mul_elements_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Multiplies the elements with the elements of another vector.</p>
<p>Performs the operation <code class="xref py py-obj docutils literal"><span class="pre">y[i]</span> <span class="pre">*=</span> <span class="pre">v[i]</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>v</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a>) â The input vector.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubVector.mul_tp_">
<code class="descname">mul_tp_</code><span class="sig-paren">(</span><em>M</em>, <em>trans</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubVector.mul_tp_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Multiplies the vector with a lower-triangular matrix.</p>
<p>Performs the operation <span class="math">\(y = M\ y\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>M</strong> (<a class="reference internal" href="#kaldi.matrix.packed.TpMatrix" title="kaldi.matrix.packed.TpMatrix"><em>TpMatrix</em></a>) â The input lower-triangular matrix.</li>
<li><strong>trans</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixTransposeType" title="kaldi.matrix.common.MatrixTransposeType"><em>MatrixTransposeType</em></a>) â Whether to use <strong>M</strong> or its transpose.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubVector.norm">
<code class="descname">norm</code><span class="sig-paren">(</span><em>p:float</em><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.SubVector.norm" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Computes the p-norm of the vector.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>p</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The p value. It must be non-negative.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The p-norm.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â If <code class="xref py py-obj docutils literal"><span class="pre">p</span> <span class="pre">&lt;</span> <span class="pre">0</span></code> or p-norm cannot be computed.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubVector.numpy">
<code class="descname">numpy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubVector.numpy" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Converts the vector to a 1-D NumPy array.</p>
<p>The NumPy array is a view into the vector, i.e. no data is copied.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A NumPy array sharing data with this vector.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)">numpy.ndarray</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubVector.rand_categorical">
<code class="descname">rand_categorical</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; int<a class="headerlink" href="#kaldi.matrix.SubVector.rand_categorical" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Chooses a random index into the vector.</p>
<p>Chooses an index with probability proportional to its element value.
Requires <code class="xref py py-obj docutils literal"><span class="pre">min(self)</span> <span class="pre">&gt;=</span> <span class="pre">0</span></code> and <code class="xref py py-obj docutils literal"><span class="pre">sum(self)</span> <span class="pre">&gt;</span> <span class="pre">0</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A random index value.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â If <code class="xref py py-obj docutils literal"><span class="pre">min(self)</span> <span class="pre">&lt;</span> <span class="pre">0</span> <span class="pre">||</span> <span class="pre">sum(self)</span> <span class="pre">&lt;=</span> <span class="pre">0</span></code>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubVector.range">
<code class="descname">range</code><span class="sig-paren">(</span><em>start</em>, <em>length</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubVector.range" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the given range of elements as a new vector view.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>start</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The start index.</li>
<li><strong>length</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The length.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A vector view representing the given range.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#kaldi.matrix.SubVector" title="kaldi.matrix.SubVector">SubVector</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubVector.read_">
<code class="descname">read_</code><span class="sig-paren">(</span><em>is:istream</em>, <em>binary:bool</em>, <em>add:bool=default</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubVector.read_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Reads the vector from the given C++ stream.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>is</strong> (<a class="reference internal" href="kaldi.base.html#kaldi.base.io.istream" title="kaldi.base.io.istream"><em>istream</em></a>) â The input C++ stream.</li>
<li><strong>binary</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) â Whether the stream is binary.</li>
<li><strong>add</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) â Whether to add existing contents to the read vector.
Defaults to <code class="docutils literal"><span class="pre">False</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubVector.replace_value_">
<code class="descname">replace_value_</code><span class="sig-paren">(</span><em>orig:float</em>, <em>changed:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubVector.replace_value_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Replaces the elements.</p>
<p>Performs the operation <code class="xref py py-obj docutils literal"><span class="pre">y[y</span> <span class="pre">==</span> <span class="pre">orig]</span> <span class="pre">=</span> <span class="pre">changed</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>orig</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The original value to replace.</li>
<li><strong>changed</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The value to replace with.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubVector.scale_">
<code class="descname">scale_</code><span class="sig-paren">(</span><em>alpha:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubVector.scale_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Scales the vector.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubVector.set_">
<code class="descname">set_</code><span class="sig-paren">(</span><em>f:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubVector.set_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Sets the elements to the given value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>f</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The value to set.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubVector.set_rand_uniform_">
<code class="descname">set_rand_uniform_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubVector.set_rand_uniform_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Sets the elements to numbers uniformly distributed on (0,1).</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubVector.set_randn_">
<code class="descname">set_randn_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubVector.set_randn_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Sets the elements to numbers from standard normal distribution.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubVector.set_zero_">
<code class="descname">set_zero_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubVector.set_zero_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Sets the elements to zero.</p>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.SubVector.shape">
<code class="descname">shape</code><a class="headerlink" href="#kaldi.matrix.SubVector.shape" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Single element tuple representing the size of the vector.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubVector.sigmoid_">
<code class="descname">sigmoid_</code><span class="sig-paren">(</span><em>src:VectorBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubVector.sigmoid_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Sets the elements to the sigmoid of the elements in another vector.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>src</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a>) â The input vector.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubVector.size">
<code class="descname">size</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubVector.size" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the size of the vector as a single element tuple.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubVector.size_in_bytes">
<code class="descname">size_in_bytes</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; int<a class="headerlink" href="#kaldi.matrix.SubVector.size_in_bytes" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the size (in bytes) of the data held by the vector.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubVector.solve_">
<code class="descname">solve_</code><span class="sig-paren">(</span><em>M</em>, <em>trans</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubVector.solve_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Solves a linear system.</p>
<p>The linear system is defined as <span class="math">\(M\ x = b\)</span>, where <span class="math">\(b\)</span> and
<span class="math">\(x\)</span> are the initial and final values of the vector, respectively.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Does not test for <span class="math">\(M\)</span> being singular or near-singular.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>M</strong> (<a class="reference internal" href="#kaldi.matrix.packed.TpMatrix" title="kaldi.matrix.packed.TpMatrix"><em>TpMatrix</em></a>) â The input lower-triangular matrix.</li>
<li><strong>trans</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixTransposeType" title="kaldi.matrix.common.MatrixTransposeType"><em>MatrixTransposeType</em></a>) â Whether to use <strong>M</strong> or its transpose.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubVector.sum">
<code class="descname">sum</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.SubVector.sum" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the sum of the elements.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubVector.sum_log">
<code class="descname">sum_log</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.SubVector.sum_log" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the sum of the logs of the elements.</p>
<p>Returns NaN if any of the elements is negative.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubVector.tanh_">
<code class="descname">tanh_</code><span class="sig-paren">(</span><em>src:VectorBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubVector.tanh_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Sets the elements to the tanh of the elements in another vector.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>src</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a>) â The input vector.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.SubVector.write">
<code class="descname">write</code><span class="sig-paren">(</span><em>os:ostream</em>, <em>binary:bool</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.SubVector.write" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Writes the vector to given C++ stream.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>os</strong> (<a class="reference internal" href="kaldi.base.html#kaldi.base.io.ostream" title="kaldi.base.io.ostream"><em>ostream</em></a>) â The output C++ straem.</li>
<li><strong>binary</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) â Whether the stream is binary.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="kaldi.matrix.Vector">
<em class="property">class </em><code class="descclassname">kaldi.matrix.</code><code class="descname">Vector</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/kaldi/matrix.html#Vector"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#kaldi.matrix.Vector" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Single precision vector.</p>
<dl class="docutils">
<dt>Vector():</dt>
<dd>Creates an empty vector.</dd>
<dt>Vector(size: int):</dt>
<dd>Creates a new vector of given size and fills it with zeros.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>size</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â Size of the new vector.</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Vector(obj: vector_like):</dt>
<dd>Creates a new vector with the elements in obj.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>obj</strong> (<em>vector_like</em>) â A vector, a 1-D numpy array, any object exposing
a 1-D array interface, an object with an __array__ method
returning a 1-D numpy array, or any sequence that can be
interpreted as a vector.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="kaldi.matrix.Vector.add_">
<code class="descname">add_</code><span class="sig-paren">(</span><em>value:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Vector.add_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds the given value to each element.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>value</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The value to add.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Vector.add_col_sum_mat_">
<code class="descname">add_col_sum_mat_</code><span class="sig-paren">(</span><em>alpha</em>, <em>M</em>, <em>beta=1.0</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Vector.add_col_sum_mat_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds the sum of matrix columns.</p>
<p>Performs the operation
<span class="math">\(y = \alpha\ \sum_i M[:,i] + \beta\ y\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the column sum.</li>
<li><strong>M</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The input matrix.</li>
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the destination vector.
Defaults to <code class="docutils literal"><span class="pre">1.0</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> â If <code class="xref py py-obj docutils literal"><span class="pre">self.dim</span> <span class="pre">!=</span> <span class="pre">M.num_rows</span></code>.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Vector.add_diag_mat2_">
<code class="descname">add_diag_mat2_</code><span class="sig-paren">(</span><em>alpha</em>, <em>M</em>, <em>trans=&lt;MatrixTransposeType.NO_TRANS: 111&gt;</em>, <em>beta=1.0</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Vector.add_diag_mat2_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds the diagonal of a matrix multiplied with its transpose.</p>
<p>Performs the operation <span class="math">\(y = \alpha\ diag(M M^T) + \beta\ y\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the diagonal.</li>
<li><strong>M</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The input matrix.</li>
<li><strong>trans</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixTransposeType" title="kaldi.matrix.common.MatrixTransposeType"><em>MatrixTransposeType</em></a>) â Whether to use <strong>M</strong> or its transpose.
Defaults to <code class="docutils literal"><span class="pre">MatrixTransposeType.NO_TRANS</span></code>.</li>
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the destination vector.
Defaults to <code class="docutils literal"><span class="pre">1.0</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Vector.add_diag_mat_mat_">
<code class="descname">add_diag_mat_mat_</code><span class="sig-paren">(</span><em>alpha</em>, <em>M</em>, <em>transM</em>, <em>N</em>, <em>transN</em>, <em>beta=1.0</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Vector.add_diag_mat_mat_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds the diagonal of a matrix-matrix product.</p>
<p>Performs the operation <span class="math">\(y = \alpha\ diag(M N) + \beta\ y\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the diagonal.</li>
<li><strong>M</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The first input matrix.</li>
<li><strong>transM</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixTransposeType" title="kaldi.matrix.common.MatrixTransposeType"><em>MatrixTransposeType</em></a>) â Whether to use <strong>M</strong> or its transpose.</li>
<li><strong>N</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The second input matrix.</li>
<li><strong>transN</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixTransposeType" title="kaldi.matrix.common.MatrixTransposeType"><em>MatrixTransposeType</em></a>) â Whether to use <strong>N</strong> or its transpose.</li>
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the destination vector.
Defaults to <code class="docutils literal"><span class="pre">1.0</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Vector.add_mat_vec_">
<code class="descname">add_mat_vec_</code><span class="sig-paren">(</span><em>alpha</em>, <em>M</em>, <em>trans</em>, <em>v</em>, <em>beta</em>, <em>sparse=False</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Vector.add_mat_vec_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Computes a matrix-vector product.</p>
<p>Performs the operation <span class="math">\(y = \alpha\ M\ v + \beta\ y\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the matrix-vector product.</li>
<li><strong>M</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.SpMatrix" title="kaldi.matrix.packed.SpMatrix"><em>SpMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.TpMatrix" title="kaldi.matrix.packed.TpMatrix"><em>TpMatrix</em></a>) â The input matrix.</li>
<li><strong>trans</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixTransposeType" title="kaldi.matrix.common.MatrixTransposeType"><em>MatrixTransposeType</em></a>) â Whether to use <strong>M</strong> or its transpose.</li>
<li><strong>v</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a>) â The input vector.</li>
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The scalar multiplier for the destination vector.</li>
<li><strong>sparse</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) â Whether to use the algorithm that is faster when
<strong>v</strong> is sparse. Defaults to <code class="docutils literal"><span class="pre">False</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Vector.add_row_sum_mat_">
<code class="descname">add_row_sum_mat_</code><span class="sig-paren">(</span><em>alpha</em>, <em>M</em>, <em>beta=1.0</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Vector.add_row_sum_mat_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds the sum of matrix rows.</p>
<p>Performs the operation <span class="math">\(y = \alpha\ \sum_i M[i] + \beta\ y\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the row sum.</li>
<li><strong>M</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The input matrix.</li>
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the destination vector.
Defaults to <code class="docutils literal"><span class="pre">1.0</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> â If <code class="xref py py-obj docutils literal"><span class="pre">self.dim</span> <span class="pre">!=</span> <span class="pre">M.num_cols</span></code>.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Vector.add_vec2_">
<code class="descname">add_vec2_</code><span class="sig-paren">(</span><em>alpha</em>, <em>v</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Vector.add_vec2_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds the squares of elements from another vector.</p>
<p>Performs the operation <span class="math">\(y = y + \alpha\ v\odot v\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier.</li>
<li><strong>v</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a>) â The input vector.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Vector.add_vec_">
<code class="descname">add_vec_</code><span class="sig-paren">(</span><em>alpha</em>, <em>v</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Vector.add_vec_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds another vector.</p>
<p>Performs the operation <span class="math">\(y = y + \alpha\ v\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier.</li>
<li><strong>v</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a>) â The input vector.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Vector.add_vec_div_vec_">
<code class="descname">add_vec_div_vec_</code><span class="sig-paren">(</span><em>alpha:float</em>, <em>v:VectorBase</em>, <em>r:VectorBase</em>, <em>beta:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Vector.add_vec_div_vec_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Computes an element-wise vector-vector division.</p>
<p>Performs the operation <span class="math">\(y = \alpha\ v\oslash r + \beta\ y\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the division.</li>
<li><strong>v</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a>) â The first input vector.</li>
<li><strong>r</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a>) â The second input vector.</li>
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the destination vector.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Vector.add_vec_vec_">
<code class="descname">add_vec_vec_</code><span class="sig-paren">(</span><em>alpha:float</em>, <em>v:VectorBase</em>, <em>r:VectorBase</em>, <em>beta:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Vector.add_vec_vec_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Computes an element-wise vector-vector product.</p>
<p>Performs the operation <span class="math">\(y = \alpha\ v\odot r + \beta\ y\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the product.</li>
<li><strong>v</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a>) â The first input vector.</li>
<li><strong>r</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a>) â The second input vector.</li>
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier for the destination vector.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Vector.apply_abs_">
<code class="descname">apply_abs_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Vector.apply_abs_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies the absolute value operation to each element.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Vector.apply_ceiling_">
<code class="descname">apply_ceiling_</code><span class="sig-paren">(</span><em>ceiling:float</em><span class="sig-paren">)</span> &#x2192; int<a class="headerlink" href="#kaldi.matrix.Vector.apply_ceiling_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies the ceiling operation to each element.</p>
<p>Performs the operation <code class="xref py py-obj docutils literal"><span class="pre">y[i]</span> <span class="pre">=</span> <span class="pre">min(y[i],</span> <span class="pre">ceiling)</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>ceiling</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The ceiling value.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The number of elements changed.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Vector.apply_ceiling_no_count_">
<code class="descname">apply_ceiling_no_count_</code><span class="sig-paren">(</span><em>ceiling:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Vector.apply_ceiling_no_count_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies the ceiling operation to each element.</p>
<p>Performs the operation <code class="xref py py-obj docutils literal"><span class="pre">y[i]</span> <span class="pre">=</span> <span class="pre">min(y[i],</span> <span class="pre">ceiling)</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>ceiling</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The ceiling value.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Vector.apply_exp_">
<code class="descname">apply_exp_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Vector.apply_exp_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies the exponential operation to each element.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Vector.apply_floor_">
<code class="descname">apply_floor_</code><span class="sig-paren">(</span><em>floor:float</em><span class="sig-paren">)</span> &#x2192; int<a class="headerlink" href="#kaldi.matrix.Vector.apply_floor_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies the floor operation to each element.</p>
<p>Performs the operation <code class="xref py py-obj docutils literal"><span class="pre">y[i]</span> <span class="pre">=</span> <span class="pre">max(y[i],</span> <span class="pre">floor)</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>floor</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The floor value.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The number of elements changed.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Vector.apply_floor_no_count_">
<code class="descname">apply_floor_no_count_</code><span class="sig-paren">(</span><em>floor:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Vector.apply_floor_no_count_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies the floor operation to each element.</p>
<p>Performs the operation <code class="xref py py-obj docutils literal"><span class="pre">y[i]</span> <span class="pre">=</span> <span class="pre">max(y[i],</span> <span class="pre">floor)</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>floor</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The floor value.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Vector.apply_floor_vector_">
<code class="descname">apply_floor_vector_</code><span class="sig-paren">(</span><em>floor:VectorBase</em><span class="sig-paren">)</span> &#x2192; int<a class="headerlink" href="#kaldi.matrix.Vector.apply_floor_vector_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies a separate floor operation to each element.</p>
<p>Performs the operation <code class="xref py py-obj docutils literal"><span class="pre">y[i]</span> <span class="pre">=</span> <span class="pre">max(y[i],</span> <span class="pre">floor[i])</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>floor</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a>) â The floor vector.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The number of elements changed.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Vector.apply_log_">
<code class="descname">apply_log_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Vector.apply_log_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies the natural log operation to each element.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Vector.apply_log_and_copy_">
<code class="descname">apply_log_and_copy_</code><span class="sig-paren">(</span><em>v:VectorBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Vector.apply_log_and_copy_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies the natural log operation to the given vector and copies it.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>v</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a>) â The input vector.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Vector.apply_log_softmax_">
<code class="descname">apply_log_softmax_</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.Vector.apply_log_softmax_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies the logsoftmax operation to each element.</p>
<p>Performs the operation
<span class="math">\(y_i = y_i - \log(\sum_j \exp(y_j))\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><span class="math">\(\log(\sum_j \exp(y_j))\)</span>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Vector.apply_pow_">
<code class="descname">apply_pow_</code><span class="sig-paren">(</span><em>power:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Vector.apply_pow_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Takes each element to the given power.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>power</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The exponent value.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â If an element cannot be raised to the given power.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Vector.apply_pow_abs_">
<code class="descname">apply_pow_abs_</code><span class="sig-paren">(</span><em>power:float</em>, <em>include_sign:bool=default</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Vector.apply_pow_abs_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Takes the absolute value of each element raised to the given power.</p>
<p>If the power is negative and the input is zero, the output is zero.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>power</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The power value.</li>
<li><strong>include_sign</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) â Whether to include the sign of the input value.
Defaults to <code class="docutils literal"><span class="pre">False</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â If an element cannot be raised to the given power.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Vector.apply_softmax_">
<code class="descname">apply_softmax_</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.Vector.apply_softmax_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies the softmax operation to each element.</p>
<p>Performs the operation
<span class="math">\(y_i = \frac{\exp(y_i)}{\sum_j \exp(y_j)}\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><span class="math">\(\log(\sum_j \exp(y_j))\)</span>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Vector.approx_equal">
<code class="descname">approx_equal</code><span class="sig-paren">(</span><em>other</em>, <em>tol=0.01</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Vector.approx_equal" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Checks if vectors are approximately equal.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>other</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a>) â The vector to compare against.</li>
<li><strong>tol</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The tolerance for the equality check.
Defaults to <code class="docutils literal"><span class="pre">0.01</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">True if <code class="xref py py-obj docutils literal"><span class="pre">self.dim</span> <span class="pre">==</span> <span class="pre">other.dim</span></code> and
<code class="xref py py-obj docutils literal"><span class="pre">||self-other||</span> <span class="pre">&lt;=</span> <span class="pre">tol*||self||</span></code>. False otherwise.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Vector.clone">
<code class="descname">clone</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Vector.clone" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Clones the vector.</p>
<p>The clone allocates new memory for its contents and supports vector
operations that reallocate memory, i.e. it is not a view.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A copy of the vector.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector">Vector</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Vector.copy_">
<code class="descname">copy_</code><span class="sig-paren">(</span><em>src</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Vector.copy_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies the elements from another vector.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>src</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a>) â The input vector.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Vector.copy_col_from_mat_">
<code class="descname">copy_col_from_mat_</code><span class="sig-paren">(</span><em>M</em>, <em>col</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Vector.copy_col_from_mat_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies the elements from a matrix column.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>M</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The input matrix.</li>
<li><strong>col</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The column index.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> â In case of size mismatch.</li>
<li><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#IndexError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">IndexError</span></code></a> â If the column index is out-of-bounds.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Vector.copy_cols_from_mat_">
<code class="descname">copy_cols_from_mat_</code><span class="sig-paren">(</span><em>M</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Vector.copy_cols_from_mat_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies the elements from a matrix column-by-columm.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>M</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The input matrix.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Vector.copy_diag_from_mat_">
<code class="descname">copy_diag_from_mat_</code><span class="sig-paren">(</span><em>M</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Vector.copy_diag_from_mat_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies the digonal elements from a matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>M</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.SpMatrix" title="kaldi.matrix.packed.SpMatrix"><em>SpMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.TpMatrix" title="kaldi.matrix.packed.TpMatrix"><em>TpMatrix</em></a>) â The input matrix.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Vector.copy_from_packed_">
<code class="descname">copy_from_packed_</code><span class="sig-paren">(</span><em>M</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Vector.copy_from_packed_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies the elements from a packed matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>M</strong> (<a class="reference internal" href="#kaldi.matrix.packed.SpMatrix" title="kaldi.matrix.packed.SpMatrix"><em>SpMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.TpMatrix" title="kaldi.matrix.packed.TpMatrix"><em>TpMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.DoubleSpMatrix" title="kaldi.matrix.packed.DoubleSpMatrix"><em>DoubleSpMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.DoubleTpMatrix" title="kaldi.matrix.packed.DoubleTpMatrix"><em>DoubleTpMatrix</em></a>) â The input packed matrix.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> â If <code class="xref py py-obj docutils literal"><span class="pre">self.dim</span> <span class="pre">!=</span>&#160; <span class="pre">M.num_rows</span> <span class="pre">*</span> <span class="pre">(M.num_rows</span> <span class="pre">+</span> <span class="pre">1)</span> <span class="pre">/</span> <span class="pre">2</span></code>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Vector.copy_row_from_mat_">
<code class="descname">copy_row_from_mat_</code><span class="sig-paren">(</span><em>M</em>, <em>row</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Vector.copy_row_from_mat_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies the elements from a matrix row.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>M</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.SpMatrix" title="kaldi.matrix.packed.SpMatrix"><em>SpMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.DoubleSpMatrix" title="kaldi.matrix.packed.DoubleSpMatrix"><em>DoubleSpMatrix</em></a>) â The input matrix.</li>
<li><strong>row</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The row index.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> â In case of size mismatch.</li>
<li><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#IndexError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">IndexError</span></code></a> â If the row index is out-of-bounds.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Vector.copy_rows_from_mat_">
<code class="descname">copy_rows_from_mat_</code><span class="sig-paren">(</span><em>M</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Vector.copy_rows_from_mat_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies the elements from a matrix row-by-row.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>M</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The input matrix.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.Vector.data">
<code class="descname">data</code><a class="headerlink" href="#kaldi.matrix.Vector.data" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Vector data as a memoryview.</p>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.Vector.dim">
<code class="descname">dim</code><a class="headerlink" href="#kaldi.matrix.Vector.dim" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Dimension (zero for empty vector).</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Vector.div_elements_">
<code class="descname">div_elements_</code><span class="sig-paren">(</span><em>v</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Vector.div_elements_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Divides the elements with the elements of another vector.</p>
<p>Performs the operation <code class="xref py py-obj docutils literal"><span class="pre">y[i]</span> <span class="pre">/=</span> <span class="pre">v[i]</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>v</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a>) â The input vector.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Vector.from_size">
<code class="descname">from_size</code><span class="sig-paren">(</span><em>size:int</em>, <em>resize_type:MatrixResizeType=default</em><span class="sig-paren">)</span> &#x2192; Vector<a class="headerlink" href="#kaldi.matrix.Vector.from_size" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Creates a new vector of given size.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>size</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The size of the new vector.</li>
<li><strong>resize_type</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixResizeType" title="kaldi.matrix.common.MatrixResizeType"><em>MatrixResizeType</em></a>) â How to initialize the elements.
If <code class="docutils literal"><span class="pre">MatrixResizeType.SET_ZERO</span></code> or
<code class="docutils literal"><span class="pre">MatrixResizeType.COPY_DATA</span></code>, they are set to zero.
If <code class="docutils literal"><span class="pre">MatrixResizeType.UNDEFINED</span></code>, they are left uninitialized.
Defaults to <code class="docutils literal"><span class="pre">MatrixResizeType.SET_ZERO</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Vector.from_vector">
<code class="descname">from_vector</code><span class="sig-paren">(</span><em>v:VectorBase</em><span class="sig-paren">)</span> &#x2192; Vector<a class="headerlink" href="#kaldi.matrix.Vector.from_vector" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Creates a new vector from a given vector.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>v</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a>) â The input vector.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Vector.invert_elements_">
<code class="descname">invert_elements_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Vector.invert_elements_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Inverts the elements.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â If any of the elements is zero.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Vector.is_zero">
<code class="descname">is_zero</code><span class="sig-paren">(</span><em>cutoff:float=default</em><span class="sig-paren">)</span> &#x2192; bool<a class="headerlink" href="#kaldi.matrix.Vector.is_zero" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Checks if the elements are all zeros.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cutoff</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The cutoff value. Defaults to <code class="docutils literal"><span class="pre">1.0e-06</span></code>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if <code class="xref py py-obj docutils literal"><span class="pre">max(abs(self))</span> <span class="pre">&lt;=</span> <span class="pre">cutoff</span></code>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Vector.log_sum_exp">
<code class="descname">log_sum_exp</code><span class="sig-paren">(</span><em>prune:float=default</em><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.Vector.log_sum_exp" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Computes <span class="math">\(f(x)=\log(\sum_i \exp(x_i))\)</span> without exp overflow.</p>
<p>If <code class="xref py py-obj docutils literal"><span class="pre">prune</span> <span class="pre">&gt;</span> <span class="pre">0.0</span></code>, ignores terms less than <code class="xref py py-obj docutils literal"><span class="pre">max(x)</span> <span class="pre">-</span> <span class="pre">prune</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>prune</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The pruning beam. Defaults to <code class="xref py py-obj docutils literal"><span class="pre">-1.0</span></code>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><span class="math">\(\log(\sum_i \exp(x_i))\)</span>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Vector.max">
<code class="descname">max</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.Vector.max" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the maximum value in the vector.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Vector.max_index">
<code class="descname">max_index</code><span class="sig-paren">(</span><em>) -&gt; (value:float</em>, <em>index:int</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Vector.max_index" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the maximum value in the vector, and the associated index.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Vector.min">
<code class="descname">min</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.Vector.min" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the minimum value in the vector.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Vector.min_index">
<code class="descname">min_index</code><span class="sig-paren">(</span><em>) -&gt; (value:float</em>, <em>index:int</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Vector.min_index" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the minimum value in the vector, and the associated index.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Vector.mul_elements_">
<code class="descname">mul_elements_</code><span class="sig-paren">(</span><em>v</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Vector.mul_elements_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Multiplies the elements with the elements of another vector.</p>
<p>Performs the operation <code class="xref py py-obj docutils literal"><span class="pre">y[i]</span> <span class="pre">*=</span> <span class="pre">v[i]</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>v</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a>) â The input vector.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Vector.mul_tp_">
<code class="descname">mul_tp_</code><span class="sig-paren">(</span><em>M</em>, <em>trans</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Vector.mul_tp_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Multiplies the vector with a lower-triangular matrix.</p>
<p>Performs the operation <span class="math">\(y = M\ y\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>M</strong> (<a class="reference internal" href="#kaldi.matrix.packed.TpMatrix" title="kaldi.matrix.packed.TpMatrix"><em>TpMatrix</em></a>) â The input lower-triangular matrix.</li>
<li><strong>trans</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixTransposeType" title="kaldi.matrix.common.MatrixTransposeType"><em>MatrixTransposeType</em></a>) â Whether to use <strong>M</strong> or its transpose.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Vector.norm">
<code class="descname">norm</code><span class="sig-paren">(</span><em>p:float</em><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.Vector.norm" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Computes the p-norm of the vector.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>p</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The p value. It must be non-negative.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The p-norm.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â If <code class="xref py py-obj docutils literal"><span class="pre">p</span> <span class="pre">&lt;</span> <span class="pre">0</span></code> or p-norm cannot be computed.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Vector.numpy">
<code class="descname">numpy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Vector.numpy" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Converts the vector to a 1-D NumPy array.</p>
<p>The NumPy array is a view into the vector, i.e. no data is copied.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A NumPy array sharing data with this vector.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)">numpy.ndarray</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Vector.rand_categorical">
<code class="descname">rand_categorical</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; int<a class="headerlink" href="#kaldi.matrix.Vector.rand_categorical" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Chooses a random index into the vector.</p>
<p>Chooses an index with probability proportional to its element value.
Requires <code class="xref py py-obj docutils literal"><span class="pre">min(self)</span> <span class="pre">&gt;=</span> <span class="pre">0</span></code> and <code class="xref py py-obj docutils literal"><span class="pre">sum(self)</span> <span class="pre">&gt;</span> <span class="pre">0</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A random index value.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â If <code class="xref py py-obj docutils literal"><span class="pre">min(self)</span> <span class="pre">&lt;</span> <span class="pre">0</span> <span class="pre">||</span> <span class="pre">sum(self)</span> <span class="pre">&lt;=</span> <span class="pre">0</span></code>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Vector.range">
<code class="descname">range</code><span class="sig-paren">(</span><em>start</em>, <em>length</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Vector.range" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the given range of elements as a new vector view.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>start</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The start index.</li>
<li><strong>length</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The length.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A vector view representing the given range.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#kaldi.matrix.SubVector" title="kaldi.matrix.SubVector">SubVector</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Vector.read_">
<code class="descname">read_</code><span class="sig-paren">(</span><em>is:istream</em>, <em>binary:bool</em>, <em>add:bool=default</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Vector.read_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Reads the vector from the given C++ stream.</p>
<p>Resizes the vector to match the size of the matrix read from stream.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>is</strong> (<a class="reference internal" href="kaldi.base.html#kaldi.base.io.istream" title="kaldi.base.io.istream"><em>istream</em></a>) â The input C++ stream.</li>
<li><strong>binary</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) â Whether the stream is binary.</li>
<li><strong>add</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) â Whether to add existing contents to the read vector.
Defaults to <code class="docutils literal"><span class="pre">False</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Vector.replace_value_">
<code class="descname">replace_value_</code><span class="sig-paren">(</span><em>orig:float</em>, <em>changed:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Vector.replace_value_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Replaces the elements.</p>
<p>Performs the operation <code class="xref py py-obj docutils literal"><span class="pre">y[y</span> <span class="pre">==</span> <span class="pre">orig]</span> <span class="pre">=</span> <span class="pre">changed</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>orig</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The original value to replace.</li>
<li><strong>changed</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The value to replace with.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Vector.resize_">
<code class="descname">resize_</code><span class="sig-paren">(</span><em>length:int</em>, <em>resize_type:MatrixResizeType=default</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Vector.resize_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Resizes the vector.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>length</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The new length.</li>
<li><strong>resize_type</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixResizeType" title="kaldi.matrix.common.MatrixResizeType"><em>MatrixResizeType</em></a>) â How to initialize the elements.
If <code class="docutils literal"><span class="pre">MatrixResizeType.SET_ZERO</span></code> they are set to zero.
If <code class="docutils literal"><span class="pre">MatrixResizeType.COPY_DATA</span></code>, existing elements are
retained, new ones are set to zero.
If <code class="docutils literal"><span class="pre">MatrixResizeType.UNDEFINED</span></code>, they are left uninitialized.
Defaults to <code class="docutils literal"><span class="pre">MatrixResizeType.SET_ZERO</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Vector.scale_">
<code class="descname">scale_</code><span class="sig-paren">(</span><em>alpha:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Vector.scale_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Scales the vector.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scalar multiplier.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Vector.set_">
<code class="descname">set_</code><span class="sig-paren">(</span><em>f:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Vector.set_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Sets the elements to the given value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>f</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The value to set.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Vector.set_rand_uniform_">
<code class="descname">set_rand_uniform_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Vector.set_rand_uniform_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Sets the elements to numbers uniformly distributed on (0,1).</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Vector.set_randn_">
<code class="descname">set_randn_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Vector.set_randn_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Sets the elements to numbers from standard normal distribution.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Vector.set_zero_">
<code class="descname">set_zero_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Vector.set_zero_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Sets the elements to zero.</p>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.Vector.shape">
<code class="descname">shape</code><a class="headerlink" href="#kaldi.matrix.Vector.shape" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Single element tuple representing the size of the vector.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Vector.sigmoid_">
<code class="descname">sigmoid_</code><span class="sig-paren">(</span><em>src:VectorBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Vector.sigmoid_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Sets the elements to the sigmoid of the elements in another vector.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>src</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a>) â The input vector.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Vector.size">
<code class="descname">size</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Vector.size" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the size of the vector as a single element tuple.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Vector.size_in_bytes">
<code class="descname">size_in_bytes</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; int<a class="headerlink" href="#kaldi.matrix.Vector.size_in_bytes" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the size (in bytes) of the data held by the vector.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Vector.solve_">
<code class="descname">solve_</code><span class="sig-paren">(</span><em>M</em>, <em>trans</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Vector.solve_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Solves a linear system.</p>
<p>The linear system is defined as <span class="math">\(M\ x = b\)</span>, where <span class="math">\(b\)</span> and
<span class="math">\(x\)</span> are the initial and final values of the vector, respectively.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Does not test for <span class="math">\(M\)</span> being singular or near-singular.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>M</strong> (<a class="reference internal" href="#kaldi.matrix.packed.TpMatrix" title="kaldi.matrix.packed.TpMatrix"><em>TpMatrix</em></a>) â The input lower-triangular matrix.</li>
<li><strong>trans</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixTransposeType" title="kaldi.matrix.common.MatrixTransposeType"><em>MatrixTransposeType</em></a>) â Whether to use <strong>M</strong> or its transpose.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Vector.sum">
<code class="descname">sum</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.Vector.sum" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the sum of the elements.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Vector.sum_log">
<code class="descname">sum_log</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.Vector.sum_log" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the sum of the logs of the elements.</p>
<p>Returns NaN if any of the elements is negative.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Vector.swap_">
<code class="descname">swap_</code><span class="sig-paren">(</span><em>other:Vector</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Vector.swap_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Swaps the contents of vectors.</p>
<p>Shallow swap.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>other</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a>) â The vector to swap contents with.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Vector.tanh_">
<code class="descname">tanh_</code><span class="sig-paren">(</span><em>src:VectorBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Vector.tanh_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Sets the elements to the tanh of the elements in another vector.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>src</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a>) â The input vector.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.Vector.write">
<code class="descname">write</code><span class="sig-paren">(</span><em>os:ostream</em>, <em>binary:bool</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.Vector.write" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Writes the vector to given C++ stream.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>os</strong> (<a class="reference internal" href="kaldi.base.html#kaldi.base.io.ostream" title="kaldi.base.io.ostream"><em>ostream</em></a>) â The output C++ straem.</li>
<li><strong>binary</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) â Whether the stream is binary.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="kaldi.matrix.set_printoptions">
<code class="descclassname">kaldi.matrix.</code><code class="descname">set_printoptions</code><span class="sig-paren">(</span><em>precision=None</em>, <em>threshold=None</em>, <em>edgeitems=None</em>, <em>linewidth=None</em>, <em>profile=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/kaldi/matrix/_str.html#set_printoptions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#kaldi.matrix.set_printoptions" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Set options for printing. Items shamelessly taken from Numpy</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>precision</strong> â Number of digits of precision for floating point output
(default 8).</li>
<li><strong>threshold</strong> â Total number of array elements which trigger summarization
rather than full repr (default 1000).</li>
<li><strong>edgeitems</strong> â Number of array items in summary at beginning and end of
each dimension (default 3).</li>
<li><strong>linewidth</strong> â The number of characters per line for the purpose of
inserting line breaks (default 80). Thresholded matricies will
ignore this parameter.</li>
<li><strong>profile</strong> â Sane defaults for pretty printing. Can override with any of
the above options. (default, short, full)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<div class="section" id="module-kaldi.matrix.common">
<span id="kaldi-matrix-common"></span><h2>kaldi.matrix.common<a class="headerlink" href="#module-kaldi.matrix.common" title="Permalink to this headline">Â¶</a></h2>
<p class="rubric">Classes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#kaldi.matrix.common.MatrixResizeType" title="kaldi.matrix.common.MatrixResizeType"><code class="xref py py-obj docutils literal"><span class="pre">MatrixResizeType</span></code></a></td>
<td>An enumeration.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#kaldi.matrix.common.MatrixStrideType" title="kaldi.matrix.common.MatrixStrideType"><code class="xref py py-obj docutils literal"><span class="pre">MatrixStrideType</span></code></a></td>
<td>An enumeration.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#kaldi.matrix.common.MatrixTransposeType" title="kaldi.matrix.common.MatrixTransposeType"><code class="xref py py-obj docutils literal"><span class="pre">MatrixTransposeType</span></code></a></td>
<td>An enumeration.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#kaldi.matrix.common.SpCopyType" title="kaldi.matrix.common.SpCopyType"><code class="xref py py-obj docutils literal"><span class="pre">SpCopyType</span></code></a></td>
<td>An enumeration.</td>
</tr>
</tbody>
</table>
<dl class="class">
<dt id="kaldi.matrix.common.MatrixResizeType">
<em class="property">class </em><code class="descclassname">kaldi.matrix.common.</code><code class="descname">MatrixResizeType</code><a class="headerlink" href="#kaldi.matrix.common.MatrixResizeType" title="Permalink to this definition">Â¶</a></dt>
<dd><p>An enumeration.</p>
<dl class="attribute">
<dt id="kaldi.matrix.common.MatrixResizeType.COPY_DATA">
<code class="descname">COPY_DATA</code><em class="property"> = 2</em><a class="headerlink" href="#kaldi.matrix.common.MatrixResizeType.COPY_DATA" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.common.MatrixResizeType.SET_ZERO">
<code class="descname">SET_ZERO</code><em class="property"> = 0</em><a class="headerlink" href="#kaldi.matrix.common.MatrixResizeType.SET_ZERO" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.common.MatrixResizeType.UNDEFINED">
<code class="descname">UNDEFINED</code><em class="property"> = 1</em><a class="headerlink" href="#kaldi.matrix.common.MatrixResizeType.UNDEFINED" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="kaldi.matrix.common.MatrixStrideType">
<em class="property">class </em><code class="descclassname">kaldi.matrix.common.</code><code class="descname">MatrixStrideType</code><a class="headerlink" href="#kaldi.matrix.common.MatrixStrideType" title="Permalink to this definition">Â¶</a></dt>
<dd><p>An enumeration.</p>
<dl class="attribute">
<dt id="kaldi.matrix.common.MatrixStrideType.DEFAULT">
<code class="descname">DEFAULT</code><em class="property"> = 0</em><a class="headerlink" href="#kaldi.matrix.common.MatrixStrideType.DEFAULT" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.common.MatrixStrideType.NUM_COLS">
<code class="descname">NUM_COLS</code><em class="property"> = 1</em><a class="headerlink" href="#kaldi.matrix.common.MatrixStrideType.NUM_COLS" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="kaldi.matrix.common.MatrixTransposeType">
<em class="property">class </em><code class="descclassname">kaldi.matrix.common.</code><code class="descname">MatrixTransposeType</code><a class="headerlink" href="#kaldi.matrix.common.MatrixTransposeType" title="Permalink to this definition">Â¶</a></dt>
<dd><p>An enumeration.</p>
<dl class="attribute">
<dt id="kaldi.matrix.common.MatrixTransposeType.NO_TRANS">
<code class="descname">NO_TRANS</code><em class="property"> = 111</em><a class="headerlink" href="#kaldi.matrix.common.MatrixTransposeType.NO_TRANS" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.common.MatrixTransposeType.TRANS">
<code class="descname">TRANS</code><em class="property"> = 112</em><a class="headerlink" href="#kaldi.matrix.common.MatrixTransposeType.TRANS" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="kaldi.matrix.common.SpCopyType">
<em class="property">class </em><code class="descclassname">kaldi.matrix.common.</code><code class="descname">SpCopyType</code><a class="headerlink" href="#kaldi.matrix.common.SpCopyType" title="Permalink to this definition">Â¶</a></dt>
<dd><p>An enumeration.</p>
<dl class="attribute">
<dt id="kaldi.matrix.common.SpCopyType.TAKE_LOWER">
<code class="descname">TAKE_LOWER</code><em class="property"> = 0</em><a class="headerlink" href="#kaldi.matrix.common.SpCopyType.TAKE_LOWER" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.common.SpCopyType.TAKE_MEAN">
<code class="descname">TAKE_MEAN</code><em class="property"> = 2</em><a class="headerlink" href="#kaldi.matrix.common.SpCopyType.TAKE_MEAN" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.common.SpCopyType.TAKE_MEAN_AND_CHECK">
<code class="descname">TAKE_MEAN_AND_CHECK</code><em class="property"> = 3</em><a class="headerlink" href="#kaldi.matrix.common.SpCopyType.TAKE_MEAN_AND_CHECK" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.common.SpCopyType.TAKE_UPPER">
<code class="descname">TAKE_UPPER</code><em class="property"> = 1</em><a class="headerlink" href="#kaldi.matrix.common.SpCopyType.TAKE_UPPER" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-kaldi.matrix.compressed">
<span id="kaldi-matrix-compressed"></span><h2>kaldi.matrix.compressed<a class="headerlink" href="#module-kaldi.matrix.compressed" title="Permalink to this headline">Â¶</a></h2>
<p class="rubric">Classes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#kaldi.matrix.compressed.CompressedMatrix" title="kaldi.matrix.compressed.CompressedMatrix"><code class="xref py py-obj docutils literal"><span class="pre">CompressedMatrix</span></code></a></td>
<td>A lossily compressed Matrix class</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#kaldi.matrix.compressed.CompressionMethod" title="kaldi.matrix.compressed.CompressionMethod"><code class="xref py py-obj docutils literal"><span class="pre">CompressionMethod</span></code></a></td>
<td>An enumeration.</td>
</tr>
</tbody>
</table>
<dl class="class">
<dt id="kaldi.matrix.compressed.CompressedMatrix">
<em class="property">class </em><code class="descclassname">kaldi.matrix.compressed.</code><code class="descname">CompressedMatrix</code><a class="headerlink" href="#kaldi.matrix.compressed.CompressedMatrix" title="Permalink to this definition">Â¶</a></dt>
<dd><p>A lossily compressed Matrix class</p>
<dl class="method">
<dt id="kaldi.matrix.compressed.CompressedMatrix.clear">
<code class="descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.compressed.CompressedMatrix.clear" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Deletes the data of the matrix</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.compressed.CompressedMatrix.copy_col_to_vec">
<code class="descname">copy_col_to_vec</code><span class="sig-paren">(</span><em>col:int</em>, <em>v:VectorBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.compressed.CompressedMatrix.copy_col_to_vec" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Uncompresess and copies column of the matrix into vector v.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>col</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â Indexes the row. Indexing starts from 0</li>
<li><strong>v</strong> (<em>VectorBase</em>) â The vector that will store the row.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last">Error in case of dimesnionality mismatch</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.compressed.CompressedMatrix.copy_from_mat">
<code class="descname">copy_from_mat</code><span class="sig-paren">(</span><em>mat:MatrixBase</em>, <em>method:CompressionMethod=default</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.compressed.CompressedMatrix.copy_from_mat" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copy data from another matrix to self.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>mat</strong> (<em>MatrixBase</em>) â The matrix from which we will copy the data</li>
<li><strong>method</strong> (<em>CompresssionMethod</em>) â Which compression method to use</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.compressed.CompressedMatrix.copy_row_to_vec">
<code class="descname">copy_row_to_vec</code><span class="sig-paren">(</span><em>row:int</em>, <em>v:VectorBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.compressed.CompressedMatrix.copy_row_to_vec" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Uncompresess and copies row of the matrix into vector v.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>row</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â Indexes the row. Indexing starts from 0</li>
<li><strong>v</strong> (<em>VectorBase</em>) â The vector that will store the row.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last">Error in case of dimesnionality mismatch</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.compressed.CompressedMatrix.copy_to_mat">
<code class="descname">copy_to_mat</code><span class="sig-paren">(</span><em>mat:MatrixBase</em>, <em>method:MatrixTransposeType=default</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.compressed.CompressedMatrix.copy_to_mat" title="Permalink to this definition">Â¶</a></dt>
<dd><dl class="docutils">
<dt>Perfomrs mat=self if MatrixTransposeType is kNoTrans,</dt>
<dd>or mat^T=self if MatrixTransposeType is kTrans.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>mat</strong> (<em>MatrixBase</em>) â The destination matrix</li>
<li><strong>method</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixTransposeType" title="kaldi.matrix.common.MatrixTransposeType"><em>MatrixTransposeType</em></a>) â Determines transposition of mat.
Default value is kNoTrans</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last">Error in case of dimension mismatch</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.compressed.CompressedMatrix.copy_to_mat_offset">
<code class="descname">copy_to_mat_offset</code><span class="sig-paren">(</span><em>row_offset:int</em>, <em>col_offset:int</em>, <em>dest:MatrixBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.compressed.CompressedMatrix.copy_to_mat_offset" title="Permalink to this definition">Â¶</a></dt>
<dd><dl class="docutils">
<dt>Uncompresses and copies submatrix of compressed matrix</dt>
<dd>into matrix dest. Submatrix starts at row row_offset and column
column_offset and its size is defined by size of provided matrix
dest.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>row_offset</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The row offset. Indexing starts from 0</li>
<li><strong>col_offset</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The col offset. Indexing starts from 0</li>
<li><strong>dest</strong> (<em>MatrixBase</em>) â The matrix that will store the submatrix of self</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last">Error in case of dimesnionality violations.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.compressed.CompressedMatrix.new">
<code class="descname">new</code><span class="sig-paren">(</span><em>mat:MatrixBase</em>, <em>method:CompressionMethod=default</em><span class="sig-paren">)</span> &#x2192; CompressedMatrix<a class="headerlink" href="#kaldi.matrix.compressed.CompressedMatrix.new" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copy the data from a MatrixBase and compress it</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>mat</strong> (<em>MatrixBase</em>) â A matrix</li>
<li><strong>method</strong> (<a class="reference internal" href="#kaldi.matrix.compressed.CompressionMethod" title="kaldi.matrix.compressed.CompressionMethod"><em>CompressionMethod</em></a>) â The way we will compress the matrix.
Default is kAutomaticMethod</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.compressed.CompressedMatrix.new_with_other">
<code class="descname">new_with_other</code><span class="sig-paren">(</span><em>mat:CompressedMatrix</em><span class="sig-paren">)</span> &#x2192; CompressedMatrix<a class="headerlink" href="#kaldi.matrix.compressed.CompressedMatrix.new_with_other" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Set this matrix (self) as the other (mat)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>mat</strong> (<a class="reference internal" href="#kaldi.matrix.compressed.CompressedMatrix" title="kaldi.matrix.compressed.CompressedMatrix"><em>CompressedMatrix</em></a>) â A compressed Matrix</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.compressed.CompressedMatrix.new_with_range">
<code class="descname">new_with_range</code><span class="sig-paren">(</span><em>mat:CompressedMatrix</em>, <em>row_offset:int</em>, <em>num_rows:int</em>, <em>col_offset:int</em>, <em>num_cols:int</em>, <em>allow_padding:bool=default</em><span class="sig-paren">)</span> &#x2192; CompressedMatrix<a class="headerlink" href="#kaldi.matrix.compressed.CompressedMatrix.new_with_range" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Create a compressed matrix from another compressed matrix. If allow padding is true
you can create an âexpandedâ matrix by either having a negative row_offset or by
setting num_rows&gt;mat.num_rows.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>mat</strong> (<a class="reference internal" href="#kaldi.matrix.compressed.CompressedMatrix" title="kaldi.matrix.compressed.CompressedMatrix"><em>CompressedMatrix</em></a>) â A compressed matrix</li>
<li><strong>row_offset</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â From which row of mat to start copying. Indexing starts at 0</li>
<li><strong>num_rows</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â How many rows of mat to copy</li>
<li><strong>col_offset</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â From which column of mat to start copying. Indexing starts at 0</li>
<li><strong>num_cols</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â How many columns of mat to copy</li>
<li><strong>allow_padding</strong> â Allows you to violate <a href="#id1"><span class="problematic" id="id2">``</span></a>rowââ dimentionality conditions</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.compressed.CompressedMatrix.num_cols">
<code class="descname">num_cols</code><a class="headerlink" href="#kaldi.matrix.compressed.CompressedMatrix.num_cols" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Number of columns (zero for empty matrix).</p>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.compressed.CompressedMatrix.num_rows">
<code class="descname">num_rows</code><a class="headerlink" href="#kaldi.matrix.compressed.CompressedMatrix.num_rows" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Number of rows (zero for empty matrix).</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.compressed.CompressedMatrix.scale">
<code class="descname">scale</code><span class="sig-paren">(</span><em>alpha:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.compressed.CompressedMatrix.scale" title="Permalink to this definition">Â¶</a></dt>
<dd><p>scales all elements of matrix by alpha.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.compressed.CompressedMatrix.swap">
<code class="descname">swap</code><span class="sig-paren">(</span><em>other:CompressedMatrix</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.compressed.CompressedMatrix.swap" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Swap elements with another compressed matrix. Shallow swap.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>other</strong> (<a class="reference internal" href="#kaldi.matrix.compressed.CompressedMatrix" title="kaldi.matrix.compressed.CompressedMatrix"><em>CompressedMatrix</em></a>) â A compressed matrix</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body">Error in case od dimension mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="kaldi.matrix.compressed.CompressionMethod">
<em class="property">class </em><code class="descclassname">kaldi.matrix.compressed.</code><code class="descname">CompressionMethod</code><a class="headerlink" href="#kaldi.matrix.compressed.CompressionMethod" title="Permalink to this definition">Â¶</a></dt>
<dd><p>An enumeration.</p>
<dl class="attribute">
<dt id="kaldi.matrix.compressed.CompressionMethod.AUTO">
<code class="descname">AUTO</code><em class="property"> = 1</em><a class="headerlink" href="#kaldi.matrix.compressed.CompressionMethod.AUTO" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.compressed.CompressionMethod.ONE_BYTE_AUTO">
<code class="descname">ONE_BYTE_AUTO</code><em class="property"> = 5</em><a class="headerlink" href="#kaldi.matrix.compressed.CompressionMethod.ONE_BYTE_AUTO" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.compressed.CompressionMethod.ONE_BYTE_UNSIGNED_INTEGER">
<code class="descname">ONE_BYTE_UNSIGNED_INTEGER</code><em class="property"> = 6</em><a class="headerlink" href="#kaldi.matrix.compressed.CompressionMethod.ONE_BYTE_UNSIGNED_INTEGER" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.compressed.CompressionMethod.SPEECH_FEATURE">
<code class="descname">SPEECH_FEATURE</code><em class="property"> = 2</em><a class="headerlink" href="#kaldi.matrix.compressed.CompressionMethod.SPEECH_FEATURE" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.compressed.CompressionMethod.TWO_BYTE_AUTO">
<code class="descname">TWO_BYTE_AUTO</code><em class="property"> = 3</em><a class="headerlink" href="#kaldi.matrix.compressed.CompressionMethod.TWO_BYTE_AUTO" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.compressed.CompressionMethod.TWO_BYTE_SIGNED_INTEGER">
<code class="descname">TWO_BYTE_SIGNED_INTEGER</code><em class="property"> = 4</em><a class="headerlink" href="#kaldi.matrix.compressed.CompressionMethod.TWO_BYTE_SIGNED_INTEGER" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.compressed.CompressionMethod.TWO_BYTE_ZERO_ONE">
<code class="descname">TWO_BYTE_ZERO_ONE</code><em class="property"> = 7</em><a class="headerlink" href="#kaldi.matrix.compressed.CompressionMethod.TWO_BYTE_ZERO_ONE" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-kaldi.matrix.functions">
<span id="kaldi-matrix-functions"></span><h2>kaldi.matrix.functions<a class="headerlink" href="#module-kaldi.matrix.functions" title="Permalink to this headline">Â¶</a></h2>
<p class="rubric">Functions</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#kaldi.matrix.functions.add_outer_product_plus_minus" title="kaldi.matrix.functions.add_outer_product_plus_minus"><code class="xref py py-obj docutils literal"><span class="pre">add_outer_product_plus_minus</span></code></a></td>
<td>Calls C++ function</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#kaldi.matrix.functions.approx_equal" title="kaldi.matrix.functions.approx_equal"><code class="xref py py-obj docutils literal"><span class="pre">approx_equal</span></code></a></td>
<td>Checks if given vectors (or matrices) are approximately equal.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#kaldi.matrix.functions.assert_equal" title="kaldi.matrix.functions.assert_equal"><code class="xref py py-obj docutils literal"><span class="pre">assert_equal</span></code></a></td>
<td>Asserts given vectors (or matrices) are approximately equal.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#kaldi.matrix.functions.assert_same_dim_matrix" title="kaldi.matrix.functions.assert_same_dim_matrix"><code class="xref py py-obj docutils literal"><span class="pre">assert_same_dim_matrix</span></code></a></td>
<td>Checks if mat1 and mat2 have the same dimensions.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#kaldi.matrix.functions.complex_fft" title="kaldi.matrix.functions.complex_fft"><code class="xref py py-obj docutils literal"><span class="pre">complex_fft</span></code></a></td>
<td>Calls C++ function</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#kaldi.matrix.functions.compute_dct_matrix" title="kaldi.matrix.functions.compute_dct_matrix"><code class="xref py py-obj docutils literal"><span class="pre">compute_dct_matrix</span></code></a></td>
<td>Calls C++ function</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#kaldi.matrix.functions.compute_pca" title="kaldi.matrix.functions.compute_pca"><code class="xref py py-obj docutils literal"><span class="pre">compute_pca</span></code></a></td>
<td>Calls C++ function</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#kaldi.matrix.functions.create_eigenvalue_matrix" title="kaldi.matrix.functions.create_eigenvalue_matrix"><code class="xref py py-obj docutils literal"><span class="pre">create_eigenvalue_matrix</span></code></a></td>
<td>Creates the eigenvalue matrix.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#kaldi.matrix.functions.filter_matrix_rows" title="kaldi.matrix.functions.filter_matrix_rows"><code class="xref py py-obj docutils literal"><span class="pre">filter_matrix_rows</span></code></a></td>
<td>Filters matrix rows.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#kaldi.matrix.functions.real_fft" title="kaldi.matrix.functions.real_fft"><code class="xref py py-obj docutils literal"><span class="pre">real_fft</span></code></a></td>
<td>Calls C++ function</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#kaldi.matrix.functions.solve_double_quadratic_matrix_problem" title="kaldi.matrix.functions.solve_double_quadratic_matrix_problem"><code class="xref py py-obj docutils literal"><span class="pre">solve_double_quadratic_matrix_problem</span></code></a></td>
<td>Maximizes the auxiliary function    Q(M) = tr(M^T*G)-0.5*tr(P1*M*Q1 M^T)-0.5*tr(P2*M*Q2*M^T)    Assumes Q1, Q2, P1, and P2 are positive semidefinite.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#kaldi.matrix.functions.solve_quadratic_matrix_problem" title="kaldi.matrix.functions.solve_quadratic_matrix_problem"><code class="xref py py-obj docutils literal"><span class="pre">solve_quadratic_matrix_problem</span></code></a></td>
<td>Maximizes the auxiliary function    Q(x) = tr(M^T*P*Y)-0.5*tr(P*M*Q*M^T)    Assumes Q and P positive semidefinite.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#kaldi.matrix.functions.solve_quadratic_problem" title="kaldi.matrix.functions.solve_quadratic_problem"><code class="xref py py-obj docutils literal"><span class="pre">solve_quadratic_problem</span></code></a></td>
<td>Maximizes the auxiliary function    Q(x) = x.*g - 0.5 x^T*H*x using a numerically stable method.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#kaldi.matrix.functions.sort_svd" title="kaldi.matrix.functions.sort_svd"><code class="xref py py-obj docutils literal"><span class="pre">sort_svd</span></code></a></td>
<td>Sorts singular-value decomposition in-place.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#kaldi.matrix.functions.trace_mat" title="kaldi.matrix.functions.trace_mat"><code class="xref py py-obj docutils literal"><span class="pre">trace_mat</span></code></a></td>
<td>Returns the trace of <span class="math">\(A\)</span>.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#kaldi.matrix.functions.trace_mat_mat" title="kaldi.matrix.functions.trace_mat_mat"><code class="xref py py-obj docutils literal"><span class="pre">trace_mat_mat</span></code></a></td>
<td>Returns the trace of <span class="math">\(A\ B\)</span>.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#kaldi.matrix.functions.trace_mat_mat_mat" title="kaldi.matrix.functions.trace_mat_mat_mat"><code class="xref py py-obj docutils literal"><span class="pre">trace_mat_mat_mat</span></code></a></td>
<td>Returns the trace of <span class="math">\(A\ B\ C\)</span>.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#kaldi.matrix.functions.trace_mat_mat_mat_mat" title="kaldi.matrix.functions.trace_mat_mat_mat_mat"><code class="xref py py-obj docutils literal"><span class="pre">trace_mat_mat_mat_mat</span></code></a></td>
<td>Returns the trace of <span class="math">\(A\ B\ C\ D\)</span>.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#kaldi.matrix.functions.vec_mat_vec" title="kaldi.matrix.functions.vec_mat_vec"><code class="xref py py-obj docutils literal"><span class="pre">vec_mat_vec</span></code></a></td>
<td>Computes a vector-matrix-vector product.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#kaldi.matrix.functions.vec_vec" title="kaldi.matrix.functions.vec_vec"><code class="xref py py-obj docutils literal"><span class="pre">vec_vec</span></code></a></td>
<td>Returns the dot product of vectors.</td>
</tr>
</tbody>
</table>
<p class="rubric">Classes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#kaldi.matrix.functions.SolverOptions" title="kaldi.matrix.functions.SolverOptions"><code class="xref py py-obj docutils literal"><span class="pre">SolverOptions</span></code></a></td>
<td>This class describes the options for maximizing various quadratic objective functions.</td>
</tr>
</tbody>
</table>
<dl class="class">
<dt id="kaldi.matrix.functions.SolverOptions">
<em class="property">class </em><code class="descclassname">kaldi.matrix.functions.</code><code class="descname">SolverOptions</code><a class="headerlink" href="#kaldi.matrix.functions.SolverOptions" title="Permalink to this definition">Â¶</a></dt>
<dd><p>This class describes the options for maximizing various quadratic objective functions.</p>
<dl class="attribute">
<dt id="kaldi.matrix.functions.SolverOptions.K">
<code class="descname">K</code><a class="headerlink" href="#kaldi.matrix.functions.SolverOptions.K" title="Permalink to this definition">Â¶</a></dt>
<dd><p>C++ ::kaldi::BaseFloat SolverOptions.K</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.functions.SolverOptions.check">
<code class="descname">check</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.functions.SolverOptions.check" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Raises error if K&lt;10 or eps&gt;1.0e-10</p>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.functions.SolverOptions.diagonal_precondition">
<code class="descname">diagonal_precondition</code><a class="headerlink" href="#kaldi.matrix.functions.SolverOptions.diagonal_precondition" title="Permalink to this definition">Â¶</a></dt>
<dd><p>C++ bool SolverOptions.diagonal_precondition</p>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.functions.SolverOptions.eps">
<code class="descname">eps</code><a class="headerlink" href="#kaldi.matrix.functions.SolverOptions.eps" title="Permalink to this definition">Â¶</a></dt>
<dd><p>C++ ::kaldi::BaseFloat SolverOptions.eps</p>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.functions.SolverOptions.name">
<code class="descname">name</code><a class="headerlink" href="#kaldi.matrix.functions.SolverOptions.name" title="Permalink to this definition">Â¶</a></dt>
<dd><p>C++ ::std::string SolverOptions.name</p>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.functions.SolverOptions.optimize_delta">
<code class="descname">optimize_delta</code><a class="headerlink" href="#kaldi.matrix.functions.SolverOptions.optimize_delta" title="Permalink to this definition">Â¶</a></dt>
<dd><p>C++ bool SolverOptions.optimize_delta</p>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.functions.SolverOptions.print_debug_output">
<code class="descname">print_debug_output</code><a class="headerlink" href="#kaldi.matrix.functions.SolverOptions.print_debug_output" title="Permalink to this definition">Â¶</a></dt>
<dd><p>C++ bool SolverOptions.print_debug_output</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.functions.SolverOptions.solver_options_with_name">
<code class="descname">solver_options_with_name</code><span class="sig-paren">(</span><em>name:str</em><span class="sig-paren">)</span> &#x2192; SolverOptions<a class="headerlink" href="#kaldi.matrix.functions.SolverOptions.solver_options_with_name" title="Permalink to this definition">Â¶</a></dt>
<dd><dl class="docutils">
<dt>Initialize the class. Default values are:</dt>
<dd>K = 1.0e+4,
eps = 1.0e-40
optimize_delta = true
diagonal_precondition = false</dd>
</dl>
<p>print_debug_output = true</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="kaldi.matrix.functions.add_outer_product_plus_minus">
<code class="descclassname">kaldi.matrix.functions.</code><code class="descname">add_outer_product_plus_minus</code><span class="sig-paren">(</span><em>alpha:float</em>, <em>a:VectorBase</em>, <em>b:VectorBase</em>, <em>plus:MatrixBase</em>, <em>minus:MatrixBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.functions.add_outer_product_plus_minus" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Calls C++ function
void ::kaldi::AddOuterProductPlusMinus(float, ::kaldi::VectorBase&lt;float&gt;, ::kaldi::VectorBase&lt;float&gt;, ::kaldi::MatrixBase&lt;float&gt; <a href="#id3"><span class="problematic" id="id4">*</span></a>, ::kaldi::MatrixBase&lt;float&gt; <a href="#id5"><span class="problematic" id="id6">*</span></a>)</p>
</dd></dl>

<dl class="function">
<dt id="kaldi.matrix.functions.approx_equal">
<code class="descclassname">kaldi.matrix.functions.</code><code class="descname">approx_equal</code><span class="sig-paren">(</span><em>a</em>, <em>b</em>, <em>tol=0.01</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/kaldi/matrix/functions.html#approx_equal"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#kaldi.matrix.functions.approx_equal" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Checks if given vectors (or matrices) are approximately equal.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>a</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.SpMatrix" title="kaldi.matrix.packed.SpMatrix"><em>SpMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.DoubleSpMatrix" title="kaldi.matrix.packed.DoubleSpMatrix"><em>DoubleSpMatrix</em></a>) â The first object.</li>
<li><strong>b</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.SpMatrix" title="kaldi.matrix.packed.SpMatrix"><em>SpMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.DoubleSpMatrix" title="kaldi.matrix.packed.DoubleSpMatrix"><em>DoubleSpMatrix</em></a>) â The second object.</li>
<li><strong>tol</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The tolerance for the equality check. Defaults to <code class="docutils literal"><span class="pre">0.01</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">True if input objects have the same type and size, and
<span class="math">\(\Vert a-b \Vert \leq \mathrm{tol} \times \Vert a \Vert\)</span>.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">TypeError</span></code></a> â If the first object is not a vector or matrix instance.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="kaldi.matrix.functions.assert_equal">
<code class="descclassname">kaldi.matrix.functions.</code><code class="descname">assert_equal</code><span class="sig-paren">(</span><em>a</em>, <em>b</em>, <em>tol=0.01</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/kaldi/matrix/functions.html#assert_equal"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#kaldi.matrix.functions.assert_equal" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Asserts given vectors (or matrices) are approximately equal.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>a</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.SpMatrix" title="kaldi.matrix.packed.SpMatrix"><em>SpMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.DoubleSpMatrix" title="kaldi.matrix.packed.DoubleSpMatrix"><em>DoubleSpMatrix</em></a>) â The first object.</li>
<li><strong>b</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.SpMatrix" title="kaldi.matrix.packed.SpMatrix"><em>SpMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.DoubleSpMatrix" title="kaldi.matrix.packed.DoubleSpMatrix"><em>DoubleSpMatrix</em></a>) â The second object.</li>
<li><strong>tol</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The tolerance for the equality check. Defaults to <code class="docutils literal"><span class="pre">0.01</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">TypeError</span></code></a> â If the first object is not a vector or matrix instance.</li>
<li><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#AssertionError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">AssertionError</span></code></a> â If input objects do not have the same type or size, or</li>
<li><span class="math">\(\Vert a-b \Vert &gt; \mathrm{tol} \times \Vert a \Vert\)</span>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="kaldi.matrix.functions.assert_same_dim_matrix">
<code class="descclassname">kaldi.matrix.functions.</code><code class="descname">assert_same_dim_matrix</code><span class="sig-paren">(</span><em>mat1:MatrixBase</em>, <em>mat2:MatrixBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.functions.assert_same_dim_matrix" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Checks if mat1 and mat2 have the same dimensions.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li>Error if mat1.num_rows!=mat2.num_rows</li>
<li>or mat1.num_cols!=mat2.num_cols</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="kaldi.matrix.functions.complex_fft">
<code class="descclassname">kaldi.matrix.functions.</code><code class="descname">complex_fft</code><span class="sig-paren">(</span><em>v:VectorBase</em>, <em>forward:bool</em>, <em>tmp_work:Vector=default</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.functions.complex_fft" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Calls C++ function
void ::kaldi::ComplexFft(::kaldi::VectorBase&lt;float&gt; <a href="#id7"><span class="problematic" id="id8">*</span></a>, bool, ::kaldi::Vector&lt;float&gt; <a href="#id9"><span class="problematic" id="id10">*</span></a>)</p>
</dd></dl>

<dl class="function">
<dt id="kaldi.matrix.functions.compute_dct_matrix">
<code class="descclassname">kaldi.matrix.functions.</code><code class="descname">compute_dct_matrix</code><span class="sig-paren">(</span><em>M:Matrix</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.functions.compute_dct_matrix" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Calls C++ function
void ::kaldi::ComputeDctMatrix(::kaldi::Matrix&lt;float&gt; <a href="#id11"><span class="problematic" id="id12">*</span></a>)</p>
</dd></dl>

<dl class="function">
<dt id="kaldi.matrix.functions.compute_pca">
<code class="descclassname">kaldi.matrix.functions.</code><code class="descname">compute_pca</code><span class="sig-paren">(</span><em>X:MatrixBase</em>, <em>U:MatrixBase</em>, <em>A:MatrixBase</em>, <em>print_eigs:bool=default</em>, <em>exact:bool=default</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.functions.compute_pca" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Calls C++ function
void ::kaldi::ComputePca(::kaldi::MatrixBase&lt;float&gt;, ::kaldi::MatrixBase&lt;float&gt; <a href="#id13"><span class="problematic" id="id14">*</span></a>, ::kaldi::MatrixBase&lt;float&gt; <a href="#id15"><span class="problematic" id="id16">*</span></a>, bool, bool)</p>
</dd></dl>

<dl class="function">
<dt id="kaldi.matrix.functions.create_eigenvalue_matrix">
<code class="descclassname">kaldi.matrix.functions.</code><code class="descname">create_eigenvalue_matrix</code><span class="sig-paren">(</span><em>real</em>, <em>imag</em>, <em>D=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/kaldi/matrix/functions.html#create_eigenvalue_matrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#kaldi.matrix.functions.create_eigenvalue_matrix" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Creates the eigenvalue matrix.</p>
<p>Eigenvalue matrix <span class="math">\(D\)</span> is part of the decomposition used in eig.
<span class="math">\(D\)</span> will be block-diagonal with blocks of size 1 (for real
eigenvalues) or 2x2 for complex pairs. If a complex pair is <span class="math">\(\lambda
+- i\mu\)</span>, <span class="math">\(D\)</span> will have a corresponding 2x2 block <span class="math">\([\lambda,
\mu; -\mu, \lambda]\)</span>. This function will throw if any complex eigenvalues
are not in complex conjugate pairs (or the members of such pairs are not
consecutively numbered). The D you supply must has correct dimensions.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>real</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a>) â The real part of the eigenvalues.</li>
<li><strong>imag</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a>) â The imaginary part of the eigenvalues.</li>
<li><strong>D</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)"><em>None</em></a>) â The output matrix.
If provided, the eigenvalue matrix is written into this matrix.
If <code class="docutils literal"><span class="pre">None</span></code>, the eigenvalue matrix is returned.
Defaults to <code class="docutils literal"><span class="pre">None</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The eigenvalue matrix if <strong>D</strong> is <code class="docutils literal"><span class="pre">None</span></code>.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix">Matrix</a> or <a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix">DoubleMatrix</a></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â If <code class="xref py py-obj docutils literal"><span class="pre">real.dim</span> <span class="pre">!=</span> <span class="pre">imag.dim</span></code></li>
<li><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">TypeError</span></code></a> â If input types are not supported.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="kaldi.matrix.functions.filter_matrix_rows">
<code class="descclassname">kaldi.matrix.functions.</code><code class="descname">filter_matrix_rows</code><span class="sig-paren">(</span><em>matrix</em>, <em>keep_rows</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/kaldi/matrix/functions.html#filter_matrix_rows"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#kaldi.matrix.functions.filter_matrix_rows" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Filters matrix rows.</p>
<p>The output is a matrix containing only the rows <code class="xref py py-obj docutils literal"><span class="pre">r</span></code> of <strong>in</strong> such that
<code class="xref py py-obj docutils literal"><span class="pre">keep_rows[r]</span> <span class="pre">==</span> <span class="pre">True</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>matrix</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.sparse.SparseMatrix" title="kaldi.matrix.sparse.SparseMatrix"><em>SparseMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.compressed.CompressedMatrix" title="kaldi.matrix.compressed.CompressedMatrix"><em>CompressedMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.sparse.GeneralMatrix" title="kaldi.matrix.sparse.GeneralMatrix"><em>GeneralMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.sparse.DoubleSparseMatrix" title="kaldi.matrix.sparse.DoubleSparseMatrix"><em>DoubleSparseMatrix</em></a>) â The input matrix.</li>
<li><strong>keep_rows</strong> (<em>List</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>]</em>) â The list that determines which rows to keep.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A new matrix constructed with the rows to keep.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â If <code class="xref py py-obj docutils literal"><span class="pre">matrix.num_rows</span> <span class="pre">!=</span> <span class="pre">keep_rows.length</span></code>.</li>
<li><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">TypeError</span></code></a> â If input matrix type is not supported.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="kaldi.matrix.functions.real_fft">
<code class="descclassname">kaldi.matrix.functions.</code><code class="descname">real_fft</code><span class="sig-paren">(</span><em>v:VectorBase</em>, <em>forward:bool</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.functions.real_fft" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Calls C++ function
void ::kaldi::RealFft(::kaldi::VectorBase&lt;float&gt; <a href="#id17"><span class="problematic" id="id18">*</span></a>, bool)</p>
</dd></dl>

<dl class="function">
<dt id="kaldi.matrix.functions.solve_double_quadratic_matrix_problem">
<code class="descclassname">kaldi.matrix.functions.</code><code class="descname">solve_double_quadratic_matrix_problem</code><span class="sig-paren">(</span><em>G:MatrixBase</em>, <em>P1:SpMatrix</em>, <em>P2:SpMatrix</em>, <em>Q1:SpMatrix</em>, <em>Q2:SpMatrix</em>, <em>opts:SolverOptions</em>, <em>M:MatrixBase</em><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.functions.solve_double_quadratic_matrix_problem" title="Permalink to this definition">Â¶</a></dt>
<dd><dl class="docutils">
<dt>Maximizes the auxiliary function</dt>
<dd>Q(M) = tr(M^T*G)-0.5*tr(P1*M*Q1 M^T)-0.5*tr(P2*M*Q2*M^T)
Assumes Q1, Q2, P1, and P2 are positive semidefinite.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>Q</strong> (<a class="reference internal" href="#kaldi.matrix.packed.SpMatrix" title="kaldi.matrix.packed.SpMatrix"><em>SpMatrix</em></a>) â A positive semidefinite matrix</li>
<li><strong>Y</strong> (<em>MatrixBase</em>) â A matrix</li>
<li><strong>P</strong> (<a class="reference internal" href="#kaldi.matrix.packed.SpMatrix" title="kaldi.matrix.packed.SpMatrix"><em>SpMatrix</em></a>) â A positive semidefinite matrix</li>
<li><strong>opts</strong> (<a class="reference internal" href="#kaldi.matrix.functions.SolverOptions" title="kaldi.matrix.functions.SolverOptions"><em>SolverOptions</em></a>) â Options for the solver</li>
<li><strong>M</strong> (<em>MatrixBase</em>) â A matrix</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The objective-function change</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last">Error in case of dimension mismatch</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="kaldi.matrix.functions.solve_quadratic_matrix_problem">
<code class="descclassname">kaldi.matrix.functions.</code><code class="descname">solve_quadratic_matrix_problem</code><span class="sig-paren">(</span><em>Q:SpMatrix</em>, <em>Y:MatrixBase</em>, <em>P:SpMatrix</em>, <em>opts:SolverOptions</em>, <em>M:MatrixBase</em><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.functions.solve_quadratic_matrix_problem" title="Permalink to this definition">Â¶</a></dt>
<dd><dl class="docutils">
<dt>Maximizes the auxiliary function</dt>
<dd>Q(x) = tr(M^T*P*Y)-0.5*tr(P*M*Q*M^T)
Assumes Q and P positive semidefinite.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>Q</strong> (<a class="reference internal" href="#kaldi.matrix.packed.SpMatrix" title="kaldi.matrix.packed.SpMatrix"><em>SpMatrix</em></a>) â A positive semidefinite matrix</li>
<li><strong>Y</strong> (<em>MatrixBase</em>) â A matrix</li>
<li><strong>P</strong> (<a class="reference internal" href="#kaldi.matrix.packed.SpMatrix" title="kaldi.matrix.packed.SpMatrix"><em>SpMatrix</em></a>) â A positive semidefinite matrix</li>
<li><strong>opts</strong> (<a class="reference internal" href="#kaldi.matrix.functions.SolverOptions" title="kaldi.matrix.functions.SolverOptions"><em>SolverOptions</em></a>) â Options for the solver</li>
<li><strong>M</strong> (<em>MatrixBase</em>) â A matrix</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The objective-function change</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last">Error in case of dimension mismatch</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="kaldi.matrix.functions.solve_quadratic_problem">
<code class="descclassname">kaldi.matrix.functions.</code><code class="descname">solve_quadratic_problem</code><span class="sig-paren">(</span><em>H:SpMatrix</em>, <em>g:VectorBase</em>, <em>opts:SolverOptions</em>, <em>x:VectorBase</em><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.functions.solve_quadratic_problem" title="Permalink to this definition">Â¶</a></dt>
<dd><dl class="docutils">
<dt>Maximizes the auxiliary function</dt>
<dd>Q(x) = x.*g - 0.5 x^T*H*x using a numerically stable method.
Assumes H positive semidefinite.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>H</strong> (<a class="reference internal" href="#kaldi.matrix.packed.SpMatrix" title="kaldi.matrix.packed.SpMatrix"><em>SpMatrix</em></a>) â A positive semidefinite number</li>
<li><strong>g</strong> (<em>VectorBase</em>) â A vector</li>
<li><strong>opts</strong> (<a class="reference internal" href="#kaldi.matrix.functions.SolverOptions" title="kaldi.matrix.functions.SolverOptions"><em>SolverOptions</em></a>) â Options for the solver</li>
<li><strong>x</strong> (<em>VectorBase</em>) â A vector</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The objective-function change</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last">Error in case of dimension mismatch</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="kaldi.matrix.functions.sort_svd">
<code class="descclassname">kaldi.matrix.functions.</code><code class="descname">sort_svd</code><span class="sig-paren">(</span><em>s</em>, <em>U</em>, <em>Vt=None</em>, <em>sort_on_absolute_value=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/kaldi/matrix/functions.html#sort_svd"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#kaldi.matrix.functions.sort_svd" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Sorts singular-value decomposition in-place.</p>
<p>SVD is <span class="math">\(U\ diag(s)\ V^T\)</span>.</p>
<p>This function is as generic as possible, to be applicable to other
types of problems. Requires <code class="xref py py-obj docutils literal"><span class="pre">s.dim</span> <span class="pre">==</span> <span class="pre">U.num_cols</span></code>, and sorts from
greatest to least absolute value, moving the columns of <strong>U</strong>,
and the rows of <strong>Vt</strong>, if provided, around in the same way.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The <a href="#id19"><span class="problematic" id="id20">``</span></a>absolute valueââ part wonât matter if this is an actual SVD,
since singular values are non-negative.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>s</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a>) â The singular values.</li>
<li><strong>U</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The <span class="math">\(U\)</span> part of SVD.</li>
<li><strong>Vt</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The <span class="math">\(V^T\)</span> part of SVD. Defaults to <code class="docutils literal"><span class="pre">None</span></code>.</li>
<li><strong>sort_on_absolute_value</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) â How to sort <strong>s</strong>.
If True, sort from greatest to least absolute value. Otherwise,
sort from greatest to least value. Defaults to <code class="docutils literal"><span class="pre">True</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â If <code class="xref py py-obj docutils literal"><span class="pre">s.dim</span> <span class="pre">!=</span> <span class="pre">U.num_cols</span></code>.</li>
<li><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">TypeError</span></code></a> â If input types are not supported.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="kaldi.matrix.functions.trace_mat">
<code class="descclassname">kaldi.matrix.functions.</code><code class="descname">trace_mat</code><span class="sig-paren">(</span><em>A</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/kaldi/matrix/functions.html#trace_mat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#kaldi.matrix.functions.trace_mat" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the trace of <span class="math">\(A\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>A</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The input matrix.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="kaldi.matrix.functions.trace_mat_mat">
<code class="descclassname">kaldi.matrix.functions.</code><code class="descname">trace_mat_mat</code><span class="sig-paren">(</span><em>A</em>, <em>B</em>, <em>transA=&lt;MatrixTransposeType.NO_TRANS: 111&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/kaldi/matrix/functions.html#trace_mat_mat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#kaldi.matrix.functions.trace_mat_mat" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the trace of <span class="math">\(A\ B\)</span>.</p>
<p>Precision of input matrices should match.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>A</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.SpMatrix" title="kaldi.matrix.packed.SpMatrix"><em>SpMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.DoubleSpMatrix" title="kaldi.matrix.packed.DoubleSpMatrix"><em>DoubleSpMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.sparse.SparseMatrix" title="kaldi.matrix.sparse.SparseMatrix"><em>SparseMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.sparse.DoubleSparseMatrix" title="kaldi.matrix.sparse.DoubleSparseMatrix"><em>DoubleSparseMatrix</em></a>) â The first input matrix.</li>
<li><strong>B</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.SpMatrix" title="kaldi.matrix.packed.SpMatrix"><em>SpMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.DoubleSpMatrix" title="kaldi.matrix.packed.DoubleSpMatrix"><em>DoubleSpMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.sparse.SparseMatrix" title="kaldi.matrix.sparse.SparseMatrix"><em>SparseMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.sparse.DoubleSparseMatrix" title="kaldi.matrix.sparse.DoubleSparseMatrix"><em>DoubleSparseMatrix</em></a>) â The second input matrix.</li>
<li><strong>transA</strong> (<em>_matrix_common.MatrixTransposeType</em>) â Whether to use <strong>A</strong> or its transpose.
Defaults to <code class="docutils literal"><span class="pre">MatrixTransposeType.NO_TRANS</span></code>.</li>
<li><strong>lower</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) â Whether to count lower-triangular elements only once.
Active only if both inputs are symmetric matrices.
Defaults to <code class="docutils literal"><span class="pre">False</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="kaldi.matrix.functions.trace_mat_mat_mat">
<code class="descclassname">kaldi.matrix.functions.</code><code class="descname">trace_mat_mat_mat</code><span class="sig-paren">(</span><em>A</em>, <em>B</em>, <em>C</em>, <em>transA=&lt;MatrixTransposeType.NO_TRANS: 111&gt;</em>, <em>transB=&lt;MatrixTransposeType.NO_TRANS: 111&gt;</em>, <em>transC=&lt;MatrixTransposeType.NO_TRANS: 111&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/kaldi/matrix/functions.html#trace_mat_mat_mat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#kaldi.matrix.functions.trace_mat_mat_mat" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the trace of <span class="math">\(A\ B\ C\)</span>.</p>
<p>Precision of input matrices should match.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>A</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The first input matrix.</li>
<li><strong>B</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.SpMatrix" title="kaldi.matrix.packed.SpMatrix"><em>SpMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.DoubleSpMatrix" title="kaldi.matrix.packed.DoubleSpMatrix"><em>DoubleSpMatrix</em></a>) â The second input matrix.</li>
<li><strong>C</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The third input matrix.</li>
<li><strong>transA</strong> (<em>_matrix_common.MatrixTransposeType</em>) â Whether to use <strong>A</strong> or its transpose.
Defaults to <code class="docutils literal"><span class="pre">MatrixTransposeType.NO_TRANS</span></code>.</li>
<li><strong>transB</strong> (<em>_matrix_common.MatrixTransposeType</em>) â Whether to use <strong>B</strong> or its transpose.
Defaults to <code class="docutils literal"><span class="pre">MatrixTransposeType.NO_TRANS</span></code>.</li>
<li><strong>transC</strong> (<em>_matrix_common.MatrixTransposeType</em>) â Whether to use <strong>C</strong> or its transpose.
Defaults to <code class="docutils literal"><span class="pre">MatrixTransposeType.NO_TRANS</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="kaldi.matrix.functions.trace_mat_mat_mat_mat">
<code class="descclassname">kaldi.matrix.functions.</code><code class="descname">trace_mat_mat_mat_mat</code><span class="sig-paren">(</span><em>A</em>, <em>B</em>, <em>C</em>, <em>D</em>, <em>transA=&lt;MatrixTransposeType.NO_TRANS: 111&gt;</em>, <em>transB=&lt;MatrixTransposeType.NO_TRANS: 111&gt;</em>, <em>transC=&lt;MatrixTransposeType.NO_TRANS: 111&gt;</em>, <em>transD=&lt;MatrixTransposeType.NO_TRANS: 111&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/kaldi/matrix/functions.html#trace_mat_mat_mat_mat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#kaldi.matrix.functions.trace_mat_mat_mat_mat" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the trace of <span class="math">\(A\ B\ C\ D\)</span>.</p>
<p>Precision of input matrices should match.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>A</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The first input matrix.</li>
<li><strong>B</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.SpMatrix" title="kaldi.matrix.packed.SpMatrix"><em>SpMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.DoubleSpMatrix" title="kaldi.matrix.packed.DoubleSpMatrix"><em>DoubleSpMatrix</em></a>) â The second input matrix.</li>
<li><strong>C</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â The third input matrix.</li>
<li><strong>D</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.SpMatrix" title="kaldi.matrix.packed.SpMatrix"><em>SpMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.DoubleSpMatrix" title="kaldi.matrix.packed.DoubleSpMatrix"><em>DoubleSpMatrix</em></a>) â The fourth input matrix.</li>
<li><strong>transA</strong> (<em>_matrix_common.MatrixTransposeType</em>) â Whether to use <strong>A</strong> or its transpose.
Defaults to <code class="docutils literal"><span class="pre">MatrixTransposeType.NO_TRANS</span></code>.</li>
<li><strong>transB</strong> (<em>_matrix_common.MatrixTransposeType</em>) â Whether to use <strong>B</strong> or its transpose.
Defaults to <code class="docutils literal"><span class="pre">MatrixTransposeType.NO_TRANS</span></code>.</li>
<li><strong>transC</strong> (<em>_matrix_common.MatrixTransposeType</em>) â Whether to use <strong>C</strong> or its transpose.
Defaults to <code class="docutils literal"><span class="pre">MatrixTransposeType.NO_TRANS</span></code>.</li>
<li><strong>transD</strong> (<em>_matrix_common.MatrixTransposeType</em>) â Whether to use <strong>D</strong> or its transpose.
Defaults to <code class="docutils literal"><span class="pre">MatrixTransposeType.NO_TRANS</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="kaldi.matrix.functions.vec_mat_vec">
<code class="descclassname">kaldi.matrix.functions.</code><code class="descname">vec_mat_vec</code><span class="sig-paren">(</span><em>v1</em>, <em>M</em>, <em>v2</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/kaldi/matrix/functions.html#vec_mat_vec"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#kaldi.matrix.functions.vec_mat_vec" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Computes a vector-matrix-vector product.</p>
<p>Performs the operation <span class="math">\(v_1\ M\ v_2\)</span>.</p>
<p>Precision of input matrices should match.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>v1</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a>) â The first input vector.</li>
<li><strong>M</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.SpMatrix" title="kaldi.matrix.packed.SpMatrix"><em>SpMatrix</em></a>) â The input matrix.</li>
<li><strong>v2</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a>) â The second input vector.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The vector-matrix-vector product.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="kaldi.matrix.functions.vec_vec">
<code class="descclassname">kaldi.matrix.functions.</code><code class="descname">vec_vec</code><span class="sig-paren">(</span><em>v1</em>, <em>v2</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/kaldi/matrix/functions.html#vec_vec"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#kaldi.matrix.functions.vec_vec" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the dot product of vectors.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>v1</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a>) â The first vector.</li>
<li><strong>v2</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.sparse.SparseVector" title="kaldi.matrix.sparse.SparseVector"><em>SparseVector</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.sparse.DoubleSparseVector" title="kaldi.matrix.sparse.DoubleSparseVector"><em>DoubleSparseVector</em></a>) â The second vector.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The dot product of v1 and v2.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of size mismatch.</li>
<li><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">TypeError</span></code></a> â If input types are not supported.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-kaldi.matrix.htk">
<span id="kaldi-matrix-htk"></span><h2>kaldi.matrix.htk<a class="headerlink" href="#module-kaldi.matrix.htk" title="Permalink to this headline">Â¶</a></h2>
<p class="rubric">Functions</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#kaldi.matrix.htk.read_htk" title="kaldi.matrix.htk.read_htk"><code class="xref py py-obj docutils literal"><span class="pre">read_htk</span></code></a></td>
<td>Reads features in HTK format.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#kaldi.matrix.htk.write_htk" title="kaldi.matrix.htk.write_htk"><code class="xref py py-obj docutils literal"><span class="pre">write_htk</span></code></a></td>
<td>Writes features in HTK format.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#kaldi.matrix.htk.write_sphinx" title="kaldi.matrix.htk.write_sphinx"><code class="xref py py-obj docutils literal"><span class="pre">write_sphinx</span></code></a></td>
<td>Writes features in Sphinx format.</td>
</tr>
</tbody>
</table>
<p class="rubric">Classes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#kaldi.matrix.htk.HtkHeader" title="kaldi.matrix.htk.HtkHeader"><code class="xref py py-obj docutils literal"><span class="pre">HtkHeader</span></code></a></td>
<td>HTK header for features.</td>
</tr>
</tbody>
</table>
<dl class="class">
<dt id="kaldi.matrix.htk.HtkHeader">
<em class="property">class </em><code class="descclassname">kaldi.matrix.htk.</code><code class="descname">HtkHeader</code><a class="headerlink" href="#kaldi.matrix.htk.HtkHeader" title="Permalink to this definition">Â¶</a></dt>
<dd><p>HTK header for features.</p>
<dl class="attribute">
<dt id="kaldi.matrix.htk.HtkHeader.mNSamples">
<code class="descname">mNSamples</code><a class="headerlink" href="#kaldi.matrix.htk.HtkHeader.mNSamples" title="Permalink to this definition">Â¶</a></dt>
<dd><p>C++ ::int32 HtkHeader.mNSamples</p>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.htk.HtkHeader.mSampleKind">
<code class="descname">mSampleKind</code><a class="headerlink" href="#kaldi.matrix.htk.HtkHeader.mSampleKind" title="Permalink to this definition">Â¶</a></dt>
<dd><p>C++ ::uint16 HtkHeader.mSampleKind</p>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.htk.HtkHeader.mSamplePeriod">
<code class="descname">mSamplePeriod</code><a class="headerlink" href="#kaldi.matrix.htk.HtkHeader.mSamplePeriod" title="Permalink to this definition">Â¶</a></dt>
<dd><p>C++ ::int32 HtkHeader.mSamplePeriod</p>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.htk.HtkHeader.mSampleSize">
<code class="descname">mSampleSize</code><a class="headerlink" href="#kaldi.matrix.htk.HtkHeader.mSampleSize" title="Permalink to this definition">Â¶</a></dt>
<dd><p>C++ ::int16 HtkHeader.mSampleSize</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="kaldi.matrix.htk.read_htk">
<code class="descclassname">kaldi.matrix.htk.</code><code class="descname">read_htk</code><span class="sig-paren">(</span><em>is:istream</em>, <em>M:Matrix</em>, <em>header:HtkHeader</em><span class="sig-paren">)</span> &#x2192; bool<a class="headerlink" href="#kaldi.matrix.htk.read_htk" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Reads features in HTK format.</p>
</dd></dl>

<dl class="function">
<dt id="kaldi.matrix.htk.write_htk">
<code class="descclassname">kaldi.matrix.htk.</code><code class="descname">write_htk</code><span class="sig-paren">(</span><em>os:ostream</em>, <em>M:MatrixBase</em>, <em>header:HtkHeader</em><span class="sig-paren">)</span> &#x2192; bool<a class="headerlink" href="#kaldi.matrix.htk.write_htk" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Writes features in HTK format.</p>
</dd></dl>

<dl class="function">
<dt id="kaldi.matrix.htk.write_sphinx">
<code class="descclassname">kaldi.matrix.htk.</code><code class="descname">write_sphinx</code><span class="sig-paren">(</span><em>os:ostream</em>, <em>M:MatrixBase</em><span class="sig-paren">)</span> &#x2192; bool<a class="headerlink" href="#kaldi.matrix.htk.write_sphinx" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Writes features in Sphinx format.</p>
</dd></dl>

</div>
<div class="section" id="module-kaldi.matrix.optimization">
<span id="kaldi-matrix-optimization"></span><h2>kaldi.matrix.optimization<a class="headerlink" href="#module-kaldi.matrix.optimization" title="Permalink to this headline">Â¶</a></h2>
<p class="rubric">Functions</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#kaldi.matrix.optimization.linear_cgd" title="kaldi.matrix.optimization.linear_cgd"><code class="xref py py-obj docutils literal"><span class="pre">linear_cgd</span></code></a></td>
<td>This function uses linear conjugate gradient descent to approximately solve the system A*x=b.</td>
</tr>
</tbody>
</table>
<p class="rubric">Classes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#kaldi.matrix.optimization.LbfgsOptions" title="kaldi.matrix.optimization.LbfgsOptions"><code class="xref py py-obj docutils literal"><span class="pre">LbfgsOptions</span></code></a></td>
<td>This class holds the options for the L-BFGS algorithm.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#kaldi.matrix.optimization.LinearCgdOptions" title="kaldi.matrix.optimization.LinearCgdOptions"><code class="xref py py-obj docutils literal"><span class="pre">LinearCgdOptions</span></code></a></td>
<td>Options for Linear CGD optimization</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#kaldi.matrix.optimization.OptimizeLbfgs" title="kaldi.matrix.optimization.OptimizeLbfgs"><code class="xref py py-obj docutils literal"><span class="pre">OptimizeLbfgs</span></code></a></td>
<td>This class handles the L-BFGS optimization</td>
</tr>
</tbody>
</table>
<dl class="class">
<dt id="kaldi.matrix.optimization.LbfgsOptions">
<em class="property">class </em><code class="descclassname">kaldi.matrix.optimization.</code><code class="descname">LbfgsOptions</code><a class="headerlink" href="#kaldi.matrix.optimization.LbfgsOptions" title="Permalink to this definition">Â¶</a></dt>
<dd><dl class="docutils">
<dt>This class holds the options for the L-BFGS algorithm.</dt>
<dd>I pushes responsibility for determining when to stop, onto the user.
There is no callback here. The optimization happens through calls of
OptimizeLbfgs class itself. This does not implement constrained L-BFGS,
but it will handle constrained problems correctly as long as the function
approaches +infinity (or -infinity for maximization problems) when it gets close
to the bound of the constraint. In these types of problems, you just let the
function value be +infinity for minimization problems,
or -infinity for maximization problems, outside these bounds).</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>minimize</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) â if true, weâre minimizing, else maximizing</li>
<li><strong>m</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â m is the number of stored vectors L-BFGS keeps</li>
<li><strong>first_step_learning_rate</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The very first step of L-BFGS is like gradient descent.
If you want to configure the size of that step,
you can do it using this variable</li>
<li><strong>first_step_length</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â If this variable is &gt;0.0, it overrides
first_step_learning_rate; on the first step we choose an approximate
Hessian that is the multiple of the identity that would generate this
step-length, or 1.0 if the gradient is zero</li>
<li><strong>first_step_impr</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â If this variable is &gt;0.0, it overrides
first_step_learning_rate; on the first step we choose an approximate
Hessian that is the multiple of the identity that would generate this
amount of objective function improvement (assuming the real objf
was linear)</li>
<li><strong>c1</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â A constant in Armijo rule = Wolfe condition i)</li>
<li><strong>c2</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â A constant in Wolfe condition ii)</li>
<li><strong>d</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â An amount &gt; 1.0 (default 2.0) that we initially multiply or
divide the step length by, in the line search</li>
<li><strong>max_line_search_iters</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â after this many iters we restart L-BFGS</li>
<li><strong>avg_step_length</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â </li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="kaldi.matrix.optimization.LbfgsOptions.avg_step_length">
<code class="descname">avg_step_length</code><a class="headerlink" href="#kaldi.matrix.optimization.LbfgsOptions.avg_step_length" title="Permalink to this definition">Â¶</a></dt>
<dd><p>C++ int LbfgsOptions.avg_step_length</p>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.optimization.LbfgsOptions.c1">
<code class="descname">c1</code><a class="headerlink" href="#kaldi.matrix.optimization.LbfgsOptions.c1" title="Permalink to this definition">Â¶</a></dt>
<dd><p>C++ float LbfgsOptions.c1</p>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.optimization.LbfgsOptions.c2">
<code class="descname">c2</code><a class="headerlink" href="#kaldi.matrix.optimization.LbfgsOptions.c2" title="Permalink to this definition">Â¶</a></dt>
<dd><p>C++ float LbfgsOptions.c2</p>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.optimization.LbfgsOptions.d">
<code class="descname">d</code><a class="headerlink" href="#kaldi.matrix.optimization.LbfgsOptions.d" title="Permalink to this definition">Â¶</a></dt>
<dd><p>C++ float LbfgsOptions.d</p>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.optimization.LbfgsOptions.first_step_impr">
<code class="descname">first_step_impr</code><a class="headerlink" href="#kaldi.matrix.optimization.LbfgsOptions.first_step_impr" title="Permalink to this definition">Â¶</a></dt>
<dd><p>C++ float LbfgsOptions.first_step_impr</p>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.optimization.LbfgsOptions.first_step_learning_rate">
<code class="descname">first_step_learning_rate</code><a class="headerlink" href="#kaldi.matrix.optimization.LbfgsOptions.first_step_learning_rate" title="Permalink to this definition">Â¶</a></dt>
<dd><p>C++ float LbfgsOptions.first_step_learning_rate</p>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.optimization.LbfgsOptions.first_step_length">
<code class="descname">first_step_length</code><a class="headerlink" href="#kaldi.matrix.optimization.LbfgsOptions.first_step_length" title="Permalink to this definition">Â¶</a></dt>
<dd><p>C++ float LbfgsOptions.first_step_length</p>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.optimization.LbfgsOptions.m">
<code class="descname">m</code><a class="headerlink" href="#kaldi.matrix.optimization.LbfgsOptions.m" title="Permalink to this definition">Â¶</a></dt>
<dd><p>C++ int LbfgsOptions.m</p>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.optimization.LbfgsOptions.max_line_search_iters">
<code class="descname">max_line_search_iters</code><a class="headerlink" href="#kaldi.matrix.optimization.LbfgsOptions.max_line_search_iters" title="Permalink to this definition">Â¶</a></dt>
<dd><p>C++ int LbfgsOptions.max_line_search_iters</p>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.optimization.LbfgsOptions.minimize">
<code class="descname">minimize</code><a class="headerlink" href="#kaldi.matrix.optimization.LbfgsOptions.minimize" title="Permalink to this definition">Â¶</a></dt>
<dd><p>C++ bool LbfgsOptions.minimize</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="kaldi.matrix.optimization.LinearCgdOptions">
<em class="property">class </em><code class="descclassname">kaldi.matrix.optimization.</code><code class="descname">LinearCgdOptions</code><a class="headerlink" href="#kaldi.matrix.optimization.LinearCgdOptions" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Options for Linear CGD optimization</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>max_iters</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The maximum number of iterations</li>
<li><strong>max_error</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â Maximum 2 norm of the residual A*x-b</li>
<li><strong>recompute_residual_factor</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â Every time the residual 2-norm decreases</li>
<li><strong>this recompute_residual_factor since the last time it was computed from</strong> (<em>by</em>) â </li>
<li><strong>recompute it from. This helps to keep the computed residual</strong> (<em>scratch</em><em>,</em>) â </li>
<li><strong>even in the presence of roundof</strong> (<em>accurate</em>) â </li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="kaldi.matrix.optimization.LinearCgdOptions.max_error">
<code class="descname">max_error</code><a class="headerlink" href="#kaldi.matrix.optimization.LinearCgdOptions.max_error" title="Permalink to this definition">Â¶</a></dt>
<dd><p>C++ ::kaldi::BaseFloat LinearCgdOptions.max_error</p>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.optimization.LinearCgdOptions.max_iters">
<code class="descname">max_iters</code><a class="headerlink" href="#kaldi.matrix.optimization.LinearCgdOptions.max_iters" title="Permalink to this definition">Â¶</a></dt>
<dd><p>C++ ::int32 LinearCgdOptions.max_iters</p>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.optimization.LinearCgdOptions.recompute_residual_factor">
<code class="descname">recompute_residual_factor</code><a class="headerlink" href="#kaldi.matrix.optimization.LinearCgdOptions.recompute_residual_factor" title="Permalink to this definition">Â¶</a></dt>
<dd><p>C++ ::kaldi::BaseFloat LinearCgdOptions.recompute_residual_factor</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="kaldi.matrix.optimization.OptimizeLbfgs">
<em class="property">class </em><code class="descclassname">kaldi.matrix.optimization.</code><code class="descname">OptimizeLbfgs</code><a class="headerlink" href="#kaldi.matrix.optimization.OptimizeLbfgs" title="Permalink to this definition">Â¶</a></dt>
<dd><p>This class handles the L-BFGS optimization</p>
<dl class="method">
<dt id="kaldi.matrix.optimization.OptimizeLbfgs.do_step">
<code class="descname">do_step</code><span class="sig-paren">(</span><em>function_value:float</em>, <em>gradient:VectorBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.optimization.OptimizeLbfgs.do_step" title="Permalink to this definition">Â¶</a></dt>
<dd><dl class="docutils">
<dt>The user calls this function to provide the class with the</dt>
<dd>function and gradient info at the point GetProposedValue().
If this point is outside the constraints you can set
function_value to {+infinity,-infinity} for {minimization,maximization}
problems. In this case the gradient, and also the second derivative
(if you call the second overloaded version of this function) will be ignored.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>function_value</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The current function value</li>
<li><strong>gradient</strong> (<em>VectorBase</em>) â This will store the gradient</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.optimization.OptimizeLbfgs.do_step_approx_hessian">
<code class="descname">do_step_approx_hessian</code><span class="sig-paren">(</span><em>function_value:float</em>, <em>gradient:VectorBase</em>, <em>diag_approx_2nd_deriv:VectorBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.optimization.OptimizeLbfgs.do_step_approx_hessian" title="Permalink to this definition">Â¶</a></dt>
<dd><dl class="docutils">
<dt>The user can call this version of DoStep() if it is desired</dt>
<dd>to set some kind of approximate Hessian on this iteration.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>function_value</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The current function value</li>
<li><strong>gradient</strong> (<em>VectorBase</em>) â This will store the gradient</li>
<li><strong>diag_approx_2nd_deriv</strong> (<em>VectorBase</em>) â A vector whose values represent
the diagonal of the Hessian</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li>Error if diag_approx_2nd_deriv is not strictly positive when minimizing</li>
<li>or strictly negative when maximizing.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.optimization.OptimizeLbfgs.recent_step_length">
<code class="descname">recent_step_length</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.optimization.OptimizeLbfgs.recent_step_length" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the average magnitude of the last n steps (but not more than the number we have stored).
Before we have taken any steps, returns +infinity. Note: if the most recent step length was 0,
it returns 0, regardless of the other step lengths. This makes it suitable as a
convergence test (else weâd generate NaNâs).</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="kaldi.matrix.optimization.linear_cgd">
<code class="descclassname">kaldi.matrix.optimization.</code><code class="descname">linear_cgd</code><span class="sig-paren">(</span><em>opts:LinearCgdOptions</em>, <em>A:SpMatrix</em>, <em>b:VectorBase</em>, <em>x:VectorBase</em><span class="sig-paren">)</span> &#x2192; int<a class="headerlink" href="#kaldi.matrix.optimization.linear_cgd" title="Permalink to this definition">Â¶</a></dt>
<dd><p>This function uses linear conjugate gradient descent to approximately solve
the system A*x=b. The value of x at entry corresponds to the initial guess
of x. The algorithm continues until the number of iterations equals b.size,
or until ||A*x - b||_2&lt;= max_error, or until the number of
iterations equals max_iter, whichever happens sooner.  It is a requirement
that A be positive definite. It returns the number of iterations that were
actually executed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>opts</strong> (<a class="reference internal" href="#kaldi.matrix.optimization.LinearCgdOptions" title="kaldi.matrix.optimization.LinearCgdOptions"><em>LinearCgdOptions</em></a>) â </li>
<li><strong>A</strong> (<em>Sp.Matrix</em>) â A symmetric matrix. It must be positive definite</li>
<li><strong>b</strong> (<em>VectorBase</em>) â A vector</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">The number of iterations</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-kaldi.matrix.packed">
<span id="kaldi-matrix-packed"></span><h2>kaldi.matrix.packed<a class="headerlink" href="#module-kaldi.matrix.packed" title="Permalink to this headline">Â¶</a></h2>
<p class="rubric">Classes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#kaldi.matrix.packed.DoubleSpMatrix" title="kaldi.matrix.packed.DoubleSpMatrix"><code class="xref py py-obj docutils literal"><span class="pre">DoubleSpMatrix</span></code></a></td>
<td>Double precision symmetric matrix.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#kaldi.matrix.packed.DoubleTpMatrix" title="kaldi.matrix.packed.DoubleTpMatrix"><code class="xref py py-obj docutils literal"><span class="pre">DoubleTpMatrix</span></code></a></td>
<td>Double precision triangular matrix.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#kaldi.matrix.packed.SpMatrix" title="kaldi.matrix.packed.SpMatrix"><code class="xref py py-obj docutils literal"><span class="pre">SpMatrix</span></code></a></td>
<td>Single precision symmetric matrix.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#kaldi.matrix.packed.TpMatrix" title="kaldi.matrix.packed.TpMatrix"><code class="xref py py-obj docutils literal"><span class="pre">TpMatrix</span></code></a></td>
<td>Single precision triangular matrix.</td>
</tr>
</tbody>
</table>
<dl class="class">
<dt id="kaldi.matrix.packed.DoubleSpMatrix">
<em class="property">class </em><code class="descclassname">kaldi.matrix.packed.</code><code class="descname">DoubleSpMatrix</code><span class="sig-paren">(</span><em>num_rows=None</em>, <em>resize_type=&lt;MatrixResizeType.SET_ZERO: 0&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/kaldi/matrix/packed.html#DoubleSpMatrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#kaldi.matrix.packed.DoubleSpMatrix" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Double precision symmetric matrix.</p>
<p>Creates a new symmetric matrix.</p>
<p>If <a class="reference internal" href="#kaldi.matrix.packed.DoubleSpMatrix.num_rows" title="kaldi.matrix.packed.DoubleSpMatrix.num_rows"><code class="xref py py-obj docutils literal"><span class="pre">num_rows</span></code></a> is not <code class="docutils literal"><span class="pre">None</span></code>, initializes the symmetric matrix to the
specified size. Otherwise, initializes an empty symmetric matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>num_rows</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â Number of rows. Defaults to None.</li>
<li><strong>resize_type</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixResizeType" title="kaldi.matrix.common.MatrixResizeType"><em>MatrixResizeType</em></a>) â How to initialize the elements.
If <code class="docutils literal"><span class="pre">MatrixResizeType.SET_ZERO</span></code> or
<code class="docutils literal"><span class="pre">MatrixResizeType.COPY_DATA</span></code>, they are set to zero.
If <code class="docutils literal"><span class="pre">MatrixResizeType.UNDEFINED</span></code>, they are left uninitialized.
Defaults to <code class="docutils literal"><span class="pre">MatrixResizeType.SET_ZERO</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="kaldi.matrix.packed.DoubleSpMatrix.add_diag_vec_">
<code class="descname">add_diag_vec_</code><span class="sig-paren">(</span><em>alpha:float</em>, <em>v:DoubleVectorBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.DoubleSpMatrix.add_diag_vec_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Performs self = self+diag(v)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â A scaling constant</li>
<li><strong>v</strong> (<em>DoubleVectorBase</em>) â A vector</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last">Error in case of dimension mismatch</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleSpMatrix.add_mat2_">
<code class="descname">add_mat2_</code><span class="sig-paren">(</span><em>alpha:float</em>, <em>M:DoubleMatrixBase</em>, <em>transM:MatrixTransposeType</em>, <em>beta:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.DoubleSpMatrix.add_mat2_" title="Permalink to this definition">Â¶</a></dt>
<dd><dl class="docutils">
<dt>If transM == kNoTrans performs self = beta*self+alpha*M*M^T.</dt>
<dd>If transM == kTrans self = beta*self+alpha*M^T*M</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â A constant</li>
<li><strong>M</strong> (<em>DoubleMatrixBase</em>) â A matrix</li>
<li><strong>transM</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixTransposeType" title="kaldi.matrix.common.MatrixTransposeType"><em>MatrixTransposeType</em></a>) â Determines if M will be transposed</li>
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â A constant</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last">Error in case of dimension mismatch</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleSpMatrix.add_mat_2_sp_">
<code class="descname">add_mat_2_sp_</code><span class="sig-paren">(</span><em>alpha:float</em>, <em>M:DoubleMatrixBase</em>, <em>transM:MatrixTransposeType</em>, <em>A:DoubleSpMatrix</em>, <em>beta:float=default</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.DoubleSpMatrix.add_mat_2_sp_" title="Permalink to this definition">Â¶</a></dt>
<dd><dl class="docutils">
<dt>If transM == kNoTrans perform self = beta*self+alpha*M*A*M^T.</dt>
<dd>If transM == kTrans perform self = beta*self+alpha*M^T*A*M.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â A constant</li>
<li><strong>M</strong> (<em>DoubleMatrixBase</em>) â A matrix</li>
<li><strong>transM</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixTransposeType" title="kaldi.matrix.common.MatrixTransposeType"><em>MatrixTransposeType</em></a>) â Determines if M will be transposed</li>
<li><strong>A</strong> (<a class="reference internal" href="#kaldi.matrix.packed.DoubleSpMatrix" title="kaldi.matrix.packed.DoubleSpMatrix"><em>DoubleSpMatrix</em></a>) â A symmetric matrix</li>
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â A constant</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last">Error in case of dimension mismatch</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleSpMatrix.add_mat_2_vec_">
<code class="descname">add_mat_2_vec_</code><span class="sig-paren">(</span><em>alpha:float</em>, <em>M:DoubleMatrixBase</em>, <em>transM:MatrixTransposeType</em>, <em>v:DoubleVectorBase</em>, <em>beta:float=default</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.DoubleSpMatrix.add_mat_2_vec_" title="Permalink to this definition">Â¶</a></dt>
<dd><dl class="docutils">
<dt>If transM == kNoTrans perform self = beta*self+alpha*M*diag(v)*M^T.</dt>
<dd>If transM == kTrans perform self = beta*self+alpha*M^T*diag(v)*M.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â A constant</li>
<li><strong>M</strong> (<em>DoubleMatrixBase</em>) â A matrix</li>
<li><strong>transM</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixTransposeType" title="kaldi.matrix.common.MatrixTransposeType"><em>MatrixTransposeType</em></a>) â Determines if M will be transposed</li>
<li><strong>v</strong> (<em>DoubleVectorBase</em>) â A vector</li>
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â A constant</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last">Error in case of dimension mismatch</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleSpMatrix.add_smat_2_sp_">
<code class="descname">add_smat_2_sp_</code><span class="sig-paren">(</span><em>alpha:float</em>, <em>M:DoubleMatrixBase</em>, <em>transM:MatrixTransposeType</em>, <em>A:DoubleSpMatrix</em>, <em>beta:float=default</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.DoubleSpMatrix.add_smat_2_sp_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Same as AddMat2Sp, optimized for sparse M.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleSpMatrix.add_sp_">
<code class="descname">add_sp_</code><span class="sig-paren">(</span><em>alpha:float</em>, <em>Ma:DoubleSpMatrix</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.DoubleSpMatrix.add_sp_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Performs the operation self = self+alpha*Ma.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â A scaling constant</li>
<li><strong>Ma</strong> (<a class="reference internal" href="#kaldi.matrix.packed.DoubleSpMatrix" title="kaldi.matrix.packed.DoubleSpMatrix"><em>DoubleSpMatrix</em></a>) â A symmetrix Matrix</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleSpMatrix.add_to_diag_">
<code class="descname">add_to_diag_</code><span class="sig-paren">(</span><em>r:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.DoubleSpMatrix.add_to_diag_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds a constant r to the diagonal of the matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>r</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â A constant</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleSpMatrix.add_vec2_">
<code class="descname">add_vec2_</code><span class="sig-paren">(</span><em>alpha:float</em>, <em>v:DoubleVectorBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.DoubleSpMatrix.add_vec2_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Performs the operation self = self + alpha*(v*v^T)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â A scaling constant</li>
<li><strong>v</strong> (<em>DoubleVectorBase</em>) â A vector</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last">Error in case of dimension mismatch</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleSpMatrix.add_vec_2_sp_">
<code class="descname">add_vec_2_sp_</code><span class="sig-paren">(</span><em>alpha:float</em>, <em>v:DoubleVectorBase</em>, <em>S:DoubleSpMatrix</em>, <em>beta:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.DoubleSpMatrix.add_vec_2_sp_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Perform self = beta*self + alpha*diag(v)*S*diag(v)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â A scaling constant</li>
<li><strong>v</strong> (<em>DoubleVectorBase</em>) â A vector</li>
<li><strong>S</strong> (<a class="reference internal" href="#kaldi.matrix.packed.DoubleSpMatrix" title="kaldi.matrix.packed.DoubleSpMatrix"><em>DoubleSpMatrix</em></a>) â A symmetric matrix</li>
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â A scaling constant</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last">Error in case of dimension mismatch</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleSpMatrix.add_vec_vec_">
<code class="descname">add_vec_vec_</code><span class="sig-paren">(</span><em>alpha:float</em>, <em>v:DoubleVectorBase</em>, <em>w:DoubleVectorBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.DoubleSpMatrix.add_vec_vec_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Performs the operation self = self + alpha*(v*w^T+w*v^T)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â A scaling constant</li>
<li><strong>v</strong> (<em>DoubleVectorBase</em>) â A vector</li>
<li><strong>w</strong> (<em>DoubleVectorBase</em>) â A vector</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last">Error in case of dimension mismatch</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleSpMatrix.apply_floor_">
<code class="descname">apply_floor_</code><span class="sig-paren">(</span><em>floor:float</em><span class="sig-paren">)</span> &#x2192; int<a class="headerlink" href="#kaldi.matrix.packed.DoubleSpMatrix.apply_floor_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies floor to all elements. If self(i,j)&lt;floor then self(i,j)=floor.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>floor</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The floor value to check against</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The number of elements affected by the flooring operation</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleSpMatrix.apply_floor_matrix_">
<code class="descname">apply_floor_matrix_</code><span class="sig-paren">(</span><em>floor:DoubleSpMatrix</em>, <em>alpha:float=default</em>, <em>verbose:bool=default</em><span class="sig-paren">)</span> &#x2192; int<a class="headerlink" href="#kaldi.matrix.packed.DoubleSpMatrix.apply_floor_matrix_" title="Permalink to this definition">Â¶</a></dt>
<dd><dl class="docutils">
<dt>Floors this symmetric matrix to the matrix alpha*floor,</dt>
<dd>where the matrix floor is positive definite.
It is floored in the sense that after flooring it must be that
x^T*self*x &gt;= x^T*(alpha*floor)*x.
floor must be positive definite.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>floor</strong> (<a class="reference internal" href="#kaldi.matrix.packed.DoubleSpMatrix" title="kaldi.matrix.packed.DoubleSpMatrix"><em>DoubleSpMatrix</em></a>) â A positive definite matrix</li>
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â a contant</li>
<li><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) â Default is False. If true, extra messages
can be printed</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">the number of elements that were floored.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last">Error if floor is not positive definite.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleSpMatrix.apply_pow_">
<code class="descname">apply_pow_</code><span class="sig-paren">(</span><em>exponent:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.DoubleSpMatrix.apply_pow_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies power to all elements of matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>expoenent</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The exponent.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleSpMatrix.approx_equal">
<code class="descname">approx_equal</code><span class="sig-paren">(</span><em>other:DoubleSpMatrix</em>, <em>tol:float=default</em><span class="sig-paren">)</span> &#x2192; bool<a class="headerlink" href="#kaldi.matrix.packed.DoubleSpMatrix.approx_equal" title="Permalink to this definition">Â¶</a></dt>
<dd><dl class="docutils">
<dt>Checks if self is equal with other by calculating the Frobenius</dt>
<dd>norm of their difference.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>other</strong> (<a class="reference internal" href="#kaldi.matrix.packed.DoubleSpMatrix" title="kaldi.matrix.packed.DoubleSpMatrix"><em>DoubleSpMatrix</em></a>) â The matrix to check against</li>
<li><strong>tol</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â the tolerance</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">True if ||(self-other)||_F &lt;= tol * ||self||_F</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleSpMatrix.clone">
<code class="descname">clone</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/kaldi/matrix/packed.html#DoubleSpMatrix.clone"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#kaldi.matrix.packed.DoubleSpMatrix.clone" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Clones the symmetric matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A copy of the symmetric matrix.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#kaldi.matrix.packed.DoubleSpMatrix" title="kaldi.matrix.packed.DoubleSpMatrix">DoubleSpMatrix</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleSpMatrix.cond">
<code class="descname">cond</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.packed.DoubleSpMatrix.cond" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the condition number of the SVD computation.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleSpMatrix.copy_from_mat_">
<code class="descname">copy_from_mat_</code><span class="sig-paren">(</span><em>orig:DoubleMatrixBase</em>, <em>copy_type:SpCopyType=default</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.DoubleSpMatrix.copy_from_mat_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies the elements from a square matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>orig</strong> (<em>DoubleMatrixBase</em>) â The input matrix.</li>
<li><strong>copy_type</strong> (<a class="reference internal" href="#kaldi.matrix.common.SpCopyType" title="kaldi.matrix.common.SpCopyType"><em>SpCopyType</em></a>) â Determines how elements will be copied.
If TAKE_LOWER, takes lower triangular elements in orig.
If TAKE_UPPER, takes upper triangular elements in orig.
If TAKE_MEAN, takes the average of symmetric elements in orig.
If TAKE_MEAN_AND_CHECK, does an extra symmetry check before
taking average of symmetric elements in orig.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â If orig is not symmetric.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleSpMatrix.copy_from_packed_">
<code class="descname">copy_from_packed_</code><span class="sig-paren">(</span><em>orig:DoublePackedMatrix</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.DoubleSpMatrix.copy_from_packed_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies the elements from a packed matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>orig</strong> (<em>DoublePackedMatrix</em>) â The packed matrix to copy from.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of dimension mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleSpMatrix.copy_from_sp_">
<code class="descname">copy_from_sp_</code><span class="sig-paren">(</span><em>other:DoubleSpMatrix</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.DoubleSpMatrix.copy_from_sp_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies the elements from another symmetric matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>other</strong> (<a class="reference internal" href="#kaldi.matrix.packed.DoubleSpMatrix" title="kaldi.matrix.packed.DoubleSpMatrix"><em>DoubleSpMatrix</em></a>) â The input symmetric matrix.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of dimension mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleSpMatrix.copy_from_vec_">
<code class="descname">copy_from_vec_</code><span class="sig-paren">(</span><em>orig:DoubleSubVector</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.DoubleSpMatrix.copy_from_vec_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies the elements from a vector.</p>
<p>Interprets the vector as having the same layout as the packed matrix.
Input vector and the packed matrix must have the same size, i.e.
<code class="xref py py-obj docutils literal"><span class="pre">orig.size</span> <span class="pre">==</span> <span class="pre">(self.num_rows</span> <span class="pre">*</span> <span class="pre">self.num_cols+1)</span> <span class="pre">/</span> <span class="pre">2</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>orig</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleSubVector" title="kaldi.matrix.DoubleSubVector"><em>DoubleSubVector</em></a>) â The vector to copy from.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleSpMatrix.frobenius_norm">
<code class="descname">frobenius_norm</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.packed.DoubleSpMatrix.frobenius_norm" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the Frobenius norm of the matrix.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleSpMatrix.from_matrix">
<code class="descname">from_matrix</code><span class="sig-paren">(</span><em>orig:DoubleMatrixBase</em>, <em>copy_type:SpCopyType=default</em><span class="sig-paren">)</span> &#x2192; DoubleSpMatrix<a class="headerlink" href="#kaldi.matrix.packed.DoubleSpMatrix.from_matrix" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Creates a new symmetric matrix from the given square matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>orig</strong> (<em>DoubleMatrixBase</em>) â The input square matrix.</li>
<li><strong>copy_type</strong> (<a class="reference internal" href="#kaldi.matrix.common.SpCopyType" title="kaldi.matrix.common.SpCopyType"><em>SpCopyType</em></a>) â Determines how elements will be copied.
If TAKE_LOWER, takes lower triangular elements in orig.
If TAKE_UPPER, takes upper triangular elements in orig.
If TAKE_MEAN, takes the average of symmetric elements in orig.
If TAKE_MEAN_AND_CHECK, does an extra symmetry check before
taking average of symmetric elements in orig.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â If orig is not a square matrix with matching size.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleSpMatrix.from_other">
<code class="descname">from_other</code><span class="sig-paren">(</span><em>orig:DoubleSpMatrix</em><span class="sig-paren">)</span> &#x2192; DoubleSpMatrix<a class="headerlink" href="#kaldi.matrix.packed.DoubleSpMatrix.from_other" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Creates a new symmetric matrix from the given symmetric matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>orig</strong> (<a class="reference internal" href="#kaldi.matrix.packed.DoubleSpMatrix" title="kaldi.matrix.packed.DoubleSpMatrix"><em>DoubleSpMatrix</em></a>) â The input symmetric matrix.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleSpMatrix.from_size">
<code class="descname">from_size</code><span class="sig-paren">(</span><em>r:int</em>, <em>resize_type:MatrixResizeType=default</em><span class="sig-paren">)</span> &#x2192; DoubleSpMatrix<a class="headerlink" href="#kaldi.matrix.packed.DoubleSpMatrix.from_size" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Creates a new symmetric matrix of given size.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>r</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The number or rows.</li>
<li><strong>resize_type</strong> (<code class="xref py py-class docutils literal"><span class="pre">MatrixResizeType</span></code>) â Determines how the elements
are initialized. If SET_ZERO (or COPY_DATA), they are set to zero.
If UNDEFINED, they are left uninitialized. Defaults to SET_ZERO.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleSpMatrix.getitem">
<code class="descname">getitem</code><span class="sig-paren">(</span><em>r:int</em>, <em>c:int</em><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.packed.DoubleSpMatrix.getitem" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Gets the element at the given index.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>r</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The row index of the element to get.</li>
<li><strong>c</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The column index of the element to get.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The element at the given index.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â If r &gt; num_rows or c &gt; num_cols.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleSpMatrix.invert_">
<code class="descname">invert_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.DoubleSpMatrix.invert_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Inverts the matrix.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleSpMatrix.invert_double_">
<code class="descname">invert_double_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.DoubleSpMatrix.invert_double_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Inverts the matrix in double precision.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleSpMatrix.is_diagonal">
<code class="descname">is_diagonal</code><span class="sig-paren">(</span><em>cutoff:float=default</em><span class="sig-paren">)</span> &#x2192; bool<a class="headerlink" href="#kaldi.matrix.packed.DoubleSpMatrix.is_diagonal" title="Permalink to this definition">Â¶</a></dt>
<dd><dl class="docutils">
<dt>Checks if the matrix is diagonal. The nondiagonal elements</dt>
<dd>must be less or equal to cutoff value.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cutoff</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â A cutoff value. Default is 1.0e-05</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if sum(digonal_elements)*cutoff &gt; sum(nondiagonal_elements),
otherwise false</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleSpMatrix.is_pos_def">
<code class="descname">is_pos_def</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; bool<a class="headerlink" href="#kaldi.matrix.packed.DoubleSpMatrix.is_pos_def" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns True if the matrix is positive definite.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleSpMatrix.is_triagonal">
<code class="descname">is_triagonal</code><span class="sig-paren">(</span><em>cutoff:float=default</em><span class="sig-paren">)</span> &#x2192; bool<a class="headerlink" href="#kaldi.matrix.packed.DoubleSpMatrix.is_triagonal" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns true if the matrix is tridiagonal(based on the
cutoff value).</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleSpMatrix.is_unit">
<code class="descname">is_unit</code><span class="sig-paren">(</span><em>cutoff:float=default</em><span class="sig-paren">)</span> &#x2192; bool<a class="headerlink" href="#kaldi.matrix.packed.DoubleSpMatrix.is_unit" title="Permalink to this definition">Â¶</a></dt>
<dd><dl class="docutils">
<dt>Checks if the matrix is identity-like. It does not have to be square.</dt>
<dd>The nondiagonal elements must be less or equal to cutoff value,
while the diagonal ones must be one.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cutoff</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â A cutoff value. Default is 1.0e-05</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if the diagonal elements are 1 and sum(nondiagonal_elements)&lt;=cutoff</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleSpMatrix.is_zero">
<code class="descname">is_zero</code><span class="sig-paren">(</span><em>cutoff:float=default</em><span class="sig-paren">)</span> &#x2192; bool<a class="headerlink" href="#kaldi.matrix.packed.DoubleSpMatrix.is_zero" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Checks if all elements are 0 (where 0 is the cutoff value).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cutoff</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â A cutoff value. Default is 1.0e-05</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if it is a zero matrix</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleSpMatrix.limit_cond">
<code class="descname">limit_cond</code><span class="sig-paren">(</span><em>maxCond:float=default</em>, <em>invert:bool=default</em><span class="sig-paren">)</span> &#x2192; int<a class="headerlink" href="#kaldi.matrix.packed.DoubleSpMatrix.limit_cond" title="Permalink to this definition">Â¶</a></dt>
<dd><dl class="docutils">
<dt>Performs self = P*diag(floor(s))*P^T, where s is the eigenvalues</dt>
<dd>and P is the eigenvectors.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>MaxCond</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â Determines the flooring threshold (i.e. floor=max_eigen/MaxCond)</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body">Error if matrix is not positive definite</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleSpMatrix.limit_cond_double">
<code class="descname">limit_cond_double</code><span class="sig-paren">(</span><em>maxCond:float=default</em>, <em>invert:bool=default</em><span class="sig-paren">)</span> &#x2192; int<a class="headerlink" href="#kaldi.matrix.packed.DoubleSpMatrix.limit_cond_double" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Same as LimitCond but the resulting operation has <a href="#id21"><span class="problematic" id="id22">``</span></a>doubleââ precision.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleSpMatrix.log_pos_def_det">
<code class="descname">log_pos_def_det</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.packed.DoubleSpMatrix.log_pos_def_det" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Computes the log determinant.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The log determinant</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body">Error if matrix is not positive definite</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleSpMatrix.max">
<code class="descname">max</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.packed.DoubleSpMatrix.max" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the maximum value in the matrix.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleSpMatrix.max_abs_eig">
<code class="descname">max_abs_eig</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.packed.DoubleSpMatrix.max_abs_eig" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the maximum of the absolute values of the eigenvalues.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleSpMatrix.min">
<code class="descname">min</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.packed.DoubleSpMatrix.min" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the minimum value in the matrix.</p>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.packed.DoubleSpMatrix.num_cols">
<code class="descname">num_cols</code><a class="headerlink" href="#kaldi.matrix.packed.DoubleSpMatrix.num_cols" title="Permalink to this definition">Â¶</a></dt>
<dd><p>The number of columns.</p>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.packed.DoubleSpMatrix.num_rows">
<code class="descname">num_rows</code><a class="headerlink" href="#kaldi.matrix.packed.DoubleSpMatrix.num_rows" title="Permalink to this definition">Â¶</a></dt>
<dd><p>The number of rows.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleSpMatrix.qr_">
<code class="descname">qr_</code><span class="sig-paren">(</span><em>Q:DoubleMatrixBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.DoubleSpMatrix.qr_" title="Permalink to this definition">Â¶</a></dt>
<dd><dl class="docutils">
<dt>The symmetric QR algorithm. This is the symmetric QR algorithm,</dt>
<dd>from Golub and Van Loan 3rd ed., Algorithm 8.3.3.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>Q</strong> (<em>MatrixBase</em>) â A matrix</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleSpMatrix.read_">
<code class="descname">read_</code><span class="sig-paren">(</span><em>is:istream</em>, <em>binary:bool</em>, <em>add:bool=default</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.DoubleSpMatrix.read_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Reads the matrix from the given C++ stream.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>is</strong> (<a class="reference internal" href="kaldi.base.html#kaldi.base.io.istream" title="kaldi.base.io.istream"><em>istream</em></a>) â The input C++ stream.</li>
<li><strong>binary</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) â Whether the stream is binary.</li>
<li><strong>add</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) â Whether to add existing contents to the read matrix.
Defaults to False.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleSpMatrix.resize_">
<code class="descname">resize_</code><span class="sig-paren">(</span><em>num_rows:int</em>, <em>resize_type:MatrixResizeType=default</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.DoubleSpMatrix.resize_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Resizes the matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>num_rows</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The new number of rows.</li>
<li><strong>resize_type</strong> (<code class="xref py py-class docutils literal"><span class="pre">MatrixResizeType</span></code>) â Determines how the elements
are initialized. If SET_ZERO, they are set to zero. If UNDEFINED,
they are left uninitialized. If COPY_DATA, existing elements are
retained, new ones are set to zero. Defaults to SET_ZERO.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleSpMatrix.scale_">
<code class="descname">scale_</code><span class="sig-paren">(</span><em>c:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.DoubleSpMatrix.scale_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Scales each element with the given scalar.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>c</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scaling coefficient.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleSpMatrix.scale_diag_">
<code class="descname">scale_diag_</code><span class="sig-paren">(</span><em>alpha:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.DoubleSpMatrix.scale_diag_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Scales the diagonal of the matrix by alpha.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â A scaling constant</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleSpMatrix.set_diag_">
<code class="descname">set_diag_</code><span class="sig-paren">(</span><em>alpha:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.DoubleSpMatrix.set_diag_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Sets all the diagonal elements to alpha.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â A constant</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleSpMatrix.set_randn_">
<code class="descname">set_randn_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.DoubleSpMatrix.set_randn_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Sets the elements to numbers from standard normal distribution.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleSpMatrix.set_unit_">
<code class="descname">set_unit_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.DoubleSpMatrix.set_unit_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Sets diagonal elements to one, off-diagonal elements to zero.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleSpMatrix.set_zero_">
<code class="descname">set_zero_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.DoubleSpMatrix.set_zero_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Sets the elements to zero.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleSpMatrix.size">
<code class="descname">size</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.DoubleSpMatrix.size" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns size as a tuple.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A tuple (num_rows, num_cols) of integers.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleSpMatrix.size_in_bytes">
<code class="descname">size_in_bytes</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; int<a class="headerlink" href="#kaldi.matrix.packed.DoubleSpMatrix.size_in_bytes" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the size (in bytes) of the data held by the matrix.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleSpMatrix.swap_">
<code class="descname">swap_</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.DoubleSpMatrix.swap_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Swaps the contents with another matrix.</p>
<p>Shallow swap.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>other</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.DoubleSpMatrix" title="kaldi.matrix.packed.DoubleSpMatrix"><em>DoubleSpMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.DoubleTpMatrix" title="kaldi.matrix.packed.DoubleTpMatrix"><em>DoubleTpMatrix</em></a>) â The input matrix.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> â If <strong>other</strong> is not a square matrix.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleSpMatrix.swap_with_matrix_">
<code class="descname">swap_with_matrix_</code><span class="sig-paren">(</span><em>other:DoubleMatrix</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.DoubleSpMatrix.swap_with_matrix_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Swaps the contents with a matrix.</p>
<p>Shallow swap.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>other</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The matrix to swap contents with.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleSpMatrix.swap_with_packed_">
<code class="descname">swap_with_packed_</code><span class="sig-paren">(</span><em>other:DoublePackedMatrix</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.DoubleSpMatrix.swap_with_packed_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Swaps the contents with another packed matrix.</p>
<p>Shallow swap.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>other</strong> (<em>PackedMatrix</em>) â The matrix to swap contents with.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleSpMatrix.swap_with_symmetric_">
<code class="descname">swap_with_symmetric_</code><span class="sig-paren">(</span><em>other:DoubleSpMatrix</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.DoubleSpMatrix.swap_with_symmetric_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Swaps the contents with another symmetric matrix.</p>
<p>Shallow swap.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>other</strong> (<a class="reference internal" href="#kaldi.matrix.packed.DoubleSpMatrix" title="kaldi.matrix.packed.DoubleSpMatrix"><em>DoubleSpMatrix</em></a>) â The matrix to swap contents with.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleSpMatrix.trace">
<code class="descname">trace</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.packed.DoubleSpMatrix.trace" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the trace of the matrix.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleSpMatrix.tridiagonalize_">
<code class="descname">tridiagonalize_</code><span class="sig-paren">(</span><em>Q:DoubleMatrixBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.DoubleSpMatrix.tridiagonalize_" title="Permalink to this definition">Â¶</a></dt>
<dd><dl class="docutils">
<dt>Tridiagonalize the matrix with an orthogonal transformation.</dt>
<dd>Performs  self = Q*self*Q^T for an orthogonal Q.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>Q</strong> (<em>DoubleMatrixBase</em>) â A matrix that must be orthogonal.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleSpMatrix.write">
<code class="descname">write</code><span class="sig-paren">(</span><em>os:ostream</em>, <em>binary:bool</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.DoubleSpMatrix.write" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Writes the matrix to given C++ stream.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>os</strong> (<a class="reference internal" href="kaldi.base.html#kaldi.base.io.ostream" title="kaldi.base.io.ostream"><em>ostream</em></a>) â The output C++ straem.</li>
<li><strong>binary</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) â Whether the stream is binary.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="kaldi.matrix.packed.DoubleTpMatrix">
<em class="property">class </em><code class="descclassname">kaldi.matrix.packed.</code><code class="descname">DoubleTpMatrix</code><span class="sig-paren">(</span><em>num_rows=None</em>, <em>resize_type=&lt;MatrixResizeType.SET_ZERO: 0&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/kaldi/matrix/packed.html#DoubleTpMatrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#kaldi.matrix.packed.DoubleTpMatrix" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Double precision triangular matrix.</p>
<p>Initializes a new triangular matrix.</p>
<p>If <a class="reference internal" href="#kaldi.matrix.packed.DoubleTpMatrix.num_rows" title="kaldi.matrix.packed.DoubleTpMatrix.num_rows"><code class="xref py py-obj docutils literal"><span class="pre">num_rows</span></code></a> is not <code class="docutils literal"><span class="pre">None</span></code>, initializes the triangular matrix to the
specified size. Otherwise, initializes an empty triangular matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>num_rows</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â Number of rows. Defaults to None.</li>
<li><strong>resize_type</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixResizeType" title="kaldi.matrix.common.MatrixResizeType"><em>MatrixResizeType</em></a>) â How to initialize the elements.
If <code class="docutils literal"><span class="pre">MatrixResizeType.SET_ZERO</span></code> or
<code class="docutils literal"><span class="pre">MatrixResizeType.COPY_DATA</span></code>, they are set to zero.
If <code class="docutils literal"><span class="pre">MatrixResizeType.UNDEFINED</span></code>, they are left uninitialized.
Defaults to <code class="docutils literal"><span class="pre">MatrixResizeType.SET_ZERO</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="kaldi.matrix.packed.DoubleTpMatrix.add_to_diag_">
<code class="descname">add_to_diag_</code><span class="sig-paren">(</span><em>r:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.DoubleTpMatrix.add_to_diag_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds a constant r to the diagonal of the matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>r</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â A constant</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleTpMatrix.add_tp">
<code class="descname">add_tp</code><span class="sig-paren">(</span><em>alpha:float</em>, <em>M:DoubleTpMatrix</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.DoubleTpMatrix.add_tp" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Performs self = self+alpha*M.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â A constant</li>
<li><strong>M</strong> (<a class="reference internal" href="#kaldi.matrix.packed.DoubleTpMatrix" title="kaldi.matrix.packed.DoubleTpMatrix"><em>DoubleTpMatrix</em></a>) â A triangular matrix</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of dimension mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleTpMatrix.cholesky_">
<code class="descname">cholesky_</code><span class="sig-paren">(</span><em>orig:DoubleSpMatrix</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.DoubleTpMatrix.cholesky_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Performs Cholesky decomposition.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>orig</strong> (<a class="reference internal" href="#kaldi.matrix.packed.DoubleSpMatrix" title="kaldi.matrix.packed.DoubleSpMatrix"><em>DoubleSpMatrix</em></a>) â The input symmetric matrix.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleTpMatrix.clone">
<code class="descname">clone</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/kaldi/matrix/packed.html#DoubleTpMatrix.clone"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#kaldi.matrix.packed.DoubleTpMatrix.clone" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Clones the triangular matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A copy of the triangular matrix.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#kaldi.matrix.packed.DoubleTpMatrix" title="kaldi.matrix.packed.DoubleTpMatrix">DoubleTpMatrix</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleTpMatrix.copy_from_mat_">
<code class="descname">copy_from_mat_</code><span class="sig-paren">(</span><em>M:DoubleMatrixBase</em>, <em>trans:MatrixTransposeType=default</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.DoubleTpMatrix.copy_from_mat_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies the elements from a square matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>M</strong> (<em>DoubleMatrixBase</em>) â The input matrix.</li>
<li><strong>trans</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixTransposeType" title="kaldi.matrix.common.MatrixTransposeType"><em>MatrixTransposeType</em></a>) â Determines which elements are copied.
If NO_TRANS, copies the lower triangular elements.
If TRANS, copies the upper triangular elements.
Defaults to NO_TRANS</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â If M is not square or if dimensions of self and M
are different.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleTpMatrix.copy_from_packed_">
<code class="descname">copy_from_packed_</code><span class="sig-paren">(</span><em>orig:DoublePackedMatrix</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.DoubleTpMatrix.copy_from_packed_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies the elements from a packed matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>orig</strong> (<em>DoublePackedMatrix</em>) â The packed matrix to copy from.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of dimension mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleTpMatrix.copy_from_tp_">
<code class="descname">copy_from_tp_</code><span class="sig-paren">(</span><em>other:DoubleTpMatrix</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.DoubleTpMatrix.copy_from_tp_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies the elements from another triangular matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>other</strong> (<a class="reference internal" href="#kaldi.matrix.packed.DoubleTpMatrix" title="kaldi.matrix.packed.DoubleTpMatrix"><em>DoubleTpMatrix</em></a>) â The input triangular matrix.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of dimension mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleTpMatrix.copy_from_vec_">
<code class="descname">copy_from_vec_</code><span class="sig-paren">(</span><em>orig:DoubleSubVector</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.DoubleTpMatrix.copy_from_vec_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies the elements from a vector.</p>
<p>Interprets the vector as having the same layout as the packed matrix.
Input vector and the packed matrix must have the same size, i.e.
<code class="xref py py-obj docutils literal"><span class="pre">orig.size</span> <span class="pre">==</span> <span class="pre">(self.num_rows</span> <span class="pre">*</span> <span class="pre">self.num_cols+1)</span> <span class="pre">/</span> <span class="pre">2</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>orig</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleSubVector" title="kaldi.matrix.DoubleSubVector"><em>DoubleSubVector</em></a>) â The vector to copy from.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleTpMatrix.determinant">
<code class="descname">determinant</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.packed.DoubleTpMatrix.determinant" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the determinant of the matrix.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleTpMatrix.from_other">
<code class="descname">from_other</code><span class="sig-paren">(</span><em>orig:DoubleTpMatrix</em><span class="sig-paren">)</span> &#x2192; DoubleTpMatrix<a class="headerlink" href="#kaldi.matrix.packed.DoubleTpMatrix.from_other" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Creates a new triangular matrix from the given triangular matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>orig</strong> (<a class="reference internal" href="#kaldi.matrix.packed.DoubleTpMatrix" title="kaldi.matrix.packed.DoubleTpMatrix"><em>DoubleTpMatrix</em></a>) â The input triangular matrix.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleTpMatrix.from_size">
<code class="descname">from_size</code><span class="sig-paren">(</span><em>r:int</em>, <em>resize_type:MatrixResizeType=default</em><span class="sig-paren">)</span> &#x2192; DoubleTpMatrix<a class="headerlink" href="#kaldi.matrix.packed.DoubleTpMatrix.from_size" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Creates a new triangular matrix of given size.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>r</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The number or rows.</li>
<li><strong>resize_type</strong> (<code class="xref py py-class docutils literal"><span class="pre">MatrixResizeType</span></code>) â Determines how the elements
are initialized. If SET_ZERO (or COPY_DATA), they are set to zero.
If UNDEFINED, they are left uninitialized. Defaults to SET_ZERO.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleTpMatrix.getitem">
<code class="descname">getitem</code><span class="sig-paren">(</span><em>r:int</em>, <em>c:int</em><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.packed.DoubleTpMatrix.getitem" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Gets the element at the given index.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>r</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The row index of the element to get.</li>
<li><strong>c</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The column index of the element to get.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The element at the given index.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â If r &gt; num_rows or c &gt; num_cols.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleTpMatrix.invert_">
<code class="descname">invert_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.DoubleTpMatrix.invert_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Inverts the matrix</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleTpMatrix.invert_double_">
<code class="descname">invert_double_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.DoubleTpMatrix.invert_double_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Inverts the matrix in double precision.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleTpMatrix.max">
<code class="descname">max</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.packed.DoubleTpMatrix.max" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the maximum value in the matrix.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleTpMatrix.min">
<code class="descname">min</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.packed.DoubleTpMatrix.min" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the minimum value in the matrix.</p>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.packed.DoubleTpMatrix.num_cols">
<code class="descname">num_cols</code><a class="headerlink" href="#kaldi.matrix.packed.DoubleTpMatrix.num_cols" title="Permalink to this definition">Â¶</a></dt>
<dd><p>The number of columns.</p>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.packed.DoubleTpMatrix.num_rows">
<code class="descname">num_rows</code><a class="headerlink" href="#kaldi.matrix.packed.DoubleTpMatrix.num_rows" title="Permalink to this definition">Â¶</a></dt>
<dd><p>The number of rows.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleTpMatrix.read_">
<code class="descname">read_</code><span class="sig-paren">(</span><em>is:istream</em>, <em>binary:bool</em>, <em>add:bool=default</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.DoubleTpMatrix.read_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Reads the matrix from the given C++ stream.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>is</strong> (<a class="reference internal" href="kaldi.base.html#kaldi.base.io.istream" title="kaldi.base.io.istream"><em>istream</em></a>) â The input C++ stream.</li>
<li><strong>binary</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) â Whether the stream is binary.</li>
<li><strong>add</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) â Whether to add existing contents to the read matrix.
Defaults to False.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleTpMatrix.resize_">
<code class="descname">resize_</code><span class="sig-paren">(</span><em>num_rows:int</em>, <em>resize_type:MatrixResizeType=default</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.DoubleTpMatrix.resize_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Resizes the matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>num_rows</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The new number of rows.</li>
<li><strong>resize_type</strong> (<code class="xref py py-class docutils literal"><span class="pre">MatrixResizeType</span></code>) â Determines how the elements
are initialized. If SET_ZERO, they are set to zero. If UNDEFINED,
they are left uninitialized. If COPY_DATA, existing elements are
retained, new ones are set to zero. Defaults to SET_ZERO.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleTpMatrix.scale_">
<code class="descname">scale_</code><span class="sig-paren">(</span><em>c:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.DoubleTpMatrix.scale_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Scales each element with the given scalar.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>c</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scaling coefficient.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleTpMatrix.scale_diag_">
<code class="descname">scale_diag_</code><span class="sig-paren">(</span><em>alpha:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.DoubleTpMatrix.scale_diag_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Scales the diagonal of the matrix by alpha.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â A scaling constant</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleTpMatrix.set_diag_">
<code class="descname">set_diag_</code><span class="sig-paren">(</span><em>alpha:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.DoubleTpMatrix.set_diag_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Sets all the diagonal elements to alpha.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â A constant</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleTpMatrix.set_randn_">
<code class="descname">set_randn_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.DoubleTpMatrix.set_randn_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Sets the elements to numbers from standard normal distribution.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleTpMatrix.set_unit_">
<code class="descname">set_unit_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.DoubleTpMatrix.set_unit_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Sets diagonal elements to one, off-diagonal elements to zero.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleTpMatrix.set_zero_">
<code class="descname">set_zero_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.DoubleTpMatrix.set_zero_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Sets the elements to zero.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleTpMatrix.size">
<code class="descname">size</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.DoubleTpMatrix.size" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns size as a tuple.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A tuple (num_rows, num_cols) of integers.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleTpMatrix.size_in_bytes">
<code class="descname">size_in_bytes</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; int<a class="headerlink" href="#kaldi.matrix.packed.DoubleTpMatrix.size_in_bytes" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the size (in bytes) of the data held by the matrix.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleTpMatrix.swap_">
<code class="descname">swap_</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.DoubleTpMatrix.swap_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Swaps the contents with another matrix.</p>
<p>Shallow swap.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>other</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.DoubleSpMatrix" title="kaldi.matrix.packed.DoubleSpMatrix"><em>DoubleSpMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.DoubleTpMatrix" title="kaldi.matrix.packed.DoubleTpMatrix"><em>DoubleTpMatrix</em></a>) â The input matrix.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> â If <strong>other</strong> is not a square matrix.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleTpMatrix.swap_with_matrix_">
<code class="descname">swap_with_matrix_</code><span class="sig-paren">(</span><em>other:DoubleMatrix</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.DoubleTpMatrix.swap_with_matrix_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Swaps the contents with a matrix.</p>
<p>Shallow swap.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>other</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The matrix to swap contents with.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleTpMatrix.swap_with_packed_">
<code class="descname">swap_with_packed_</code><span class="sig-paren">(</span><em>other:DoublePackedMatrix</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.DoubleTpMatrix.swap_with_packed_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Swaps the contents with another packed matrix.</p>
<p>Shallow swap.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>other</strong> (<em>PackedMatrix</em>) â The matrix to swap contents with.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleTpMatrix.swap_with_triangular_">
<code class="descname">swap_with_triangular_</code><span class="sig-paren">(</span><em>other:DoubleTpMatrix</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.DoubleTpMatrix.swap_with_triangular_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Swaps the contents with another triangular matrix.</p>
<p>Shallow swap.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>other</strong> (<a class="reference internal" href="#kaldi.matrix.packed.DoubleTpMatrix" title="kaldi.matrix.packed.DoubleTpMatrix"><em>DoubleTpMatrix</em></a>) â The matrix to swap contents with.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleTpMatrix.trace">
<code class="descname">trace</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.packed.DoubleTpMatrix.trace" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the trace of the matrix.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.DoubleTpMatrix.write">
<code class="descname">write</code><span class="sig-paren">(</span><em>os:ostream</em>, <em>binary:bool</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.DoubleTpMatrix.write" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Writes the matrix to given C++ stream.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>os</strong> (<a class="reference internal" href="kaldi.base.html#kaldi.base.io.ostream" title="kaldi.base.io.ostream"><em>ostream</em></a>) â The output C++ straem.</li>
<li><strong>binary</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) â Whether the stream is binary.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="kaldi.matrix.packed.SpMatrix">
<em class="property">class </em><code class="descclassname">kaldi.matrix.packed.</code><code class="descname">SpMatrix</code><span class="sig-paren">(</span><em>num_rows=None</em>, <em>resize_type=&lt;MatrixResizeType.SET_ZERO: 0&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/kaldi/matrix/packed.html#SpMatrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#kaldi.matrix.packed.SpMatrix" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Single precision symmetric matrix.</p>
<p>Creates a new symmetric matrix.</p>
<p>If <a class="reference internal" href="#kaldi.matrix.packed.SpMatrix.num_rows" title="kaldi.matrix.packed.SpMatrix.num_rows"><code class="xref py py-obj docutils literal"><span class="pre">num_rows</span></code></a> is not <code class="docutils literal"><span class="pre">None</span></code>, initializes the symmetric matrix to the
specified size. Otherwise, initializes an empty symmetric matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>num_rows</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The number of rows. Defaults to <code class="docutils literal"><span class="pre">None</span></code>.</li>
<li><strong>resize_type</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixResizeType" title="kaldi.matrix.common.MatrixResizeType"><em>MatrixResizeType</em></a>) â How to initialize the elements.
If <code class="docutils literal"><span class="pre">MatrixResizeType.SET_ZERO</span></code> or
<code class="docutils literal"><span class="pre">MatrixResizeType.COPY_DATA</span></code>, they are set to zero.
If <code class="docutils literal"><span class="pre">MatrixResizeType.UNDEFINED</span></code>, they are left uninitialized.
Defaults to <code class="docutils literal"><span class="pre">MatrixResizeType.SET_ZERO</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="kaldi.matrix.packed.SpMatrix.add_diag_vec_">
<code class="descname">add_diag_vec_</code><span class="sig-paren">(</span><em>alpha:float</em>, <em>v:VectorBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.SpMatrix.add_diag_vec_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Performs self = self+diag(v)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â A scaling constant</li>
<li><strong>v</strong> (<em>VectorBase</em>) â A vector</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last">Error in case of dimension mismatch</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.SpMatrix.add_mat2_">
<code class="descname">add_mat2_</code><span class="sig-paren">(</span><em>alpha:float</em>, <em>M:MatrixBase</em>, <em>transM:MatrixTransposeType</em>, <em>beta:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.SpMatrix.add_mat2_" title="Permalink to this definition">Â¶</a></dt>
<dd><dl class="docutils">
<dt>If transM == kNoTrans performs self = beta*self+alpha*M*M^T.</dt>
<dd>If transM == kTrans self = beta*self+alpha*M^T*M</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â A constant</li>
<li><strong>M</strong> (<em>MatrixBase</em>) â A matrix</li>
<li><strong>transM</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixTransposeType" title="kaldi.matrix.common.MatrixTransposeType"><em>MatrixTransposeType</em></a>) â Determines if M will be transposed</li>
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â A constant</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last">Error in case of dimension mismatch</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.SpMatrix.add_mat_2_sp_">
<code class="descname">add_mat_2_sp_</code><span class="sig-paren">(</span><em>alpha:float</em>, <em>M:MatrixBase</em>, <em>transM:MatrixTransposeType</em>, <em>A:SpMatrix</em>, <em>beta:float=default</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.SpMatrix.add_mat_2_sp_" title="Permalink to this definition">Â¶</a></dt>
<dd><dl class="docutils">
<dt>If transM == kNoTrans perform self = beta*self+alpha*M*A*M^T.</dt>
<dd>If transM == kTrans perform self = beta*self+alpha*M^T*A*M.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â A constant</li>
<li><strong>M</strong> (<em>MatrixBase</em>) â A matrix</li>
<li><strong>transM</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixTransposeType" title="kaldi.matrix.common.MatrixTransposeType"><em>MatrixTransposeType</em></a>) â Determines if M will be transposed</li>
<li><strong>A</strong> (<a class="reference internal" href="#kaldi.matrix.packed.SpMatrix" title="kaldi.matrix.packed.SpMatrix"><em>SpMatrix</em></a>) â A symmetric matrix</li>
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â A constant</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last">Error in case of dimension mismatch</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.SpMatrix.add_mat_2_vec_">
<code class="descname">add_mat_2_vec_</code><span class="sig-paren">(</span><em>alpha:float</em>, <em>M:MatrixBase</em>, <em>transM:MatrixTransposeType</em>, <em>v:VectorBase</em>, <em>beta:float=default</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.SpMatrix.add_mat_2_vec_" title="Permalink to this definition">Â¶</a></dt>
<dd><dl class="docutils">
<dt>If transM == kNoTrans perform self = beta*self+alpha*M*diag(v)*M^T.</dt>
<dd>If transM == kTrans perform self = beta*self+alpha*M^T*diag(v)*M.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â A constant</li>
<li><strong>M</strong> (<em>MatrixBase</em>) â A matrix</li>
<li><strong>transM</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixTransposeType" title="kaldi.matrix.common.MatrixTransposeType"><em>MatrixTransposeType</em></a>) â Determines if M will be transposed</li>
<li><strong>v</strong> (<em>VectorBase</em>) â A vector</li>
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â A constant</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last">Error in case of dimension mismatch</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.SpMatrix.add_smat_2_sp_">
<code class="descname">add_smat_2_sp_</code><span class="sig-paren">(</span><em>alpha:float</em>, <em>M:MatrixBase</em>, <em>transM:MatrixTransposeType</em>, <em>A:SpMatrix</em>, <em>beta:float=default</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.SpMatrix.add_smat_2_sp_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Same as AddMat2Sp, optimized for sparse M.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.SpMatrix.add_sp_">
<code class="descname">add_sp_</code><span class="sig-paren">(</span><em>alpha:float</em>, <em>Ma:SpMatrix</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.SpMatrix.add_sp_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Performs the operation self = self+alpha*Ma.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â A scaling constant</li>
<li><strong>Ma</strong> (<a class="reference internal" href="#kaldi.matrix.packed.SpMatrix" title="kaldi.matrix.packed.SpMatrix"><em>SpMatrix</em></a>) â A symmetrix Matrix</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.SpMatrix.add_to_diag_">
<code class="descname">add_to_diag_</code><span class="sig-paren">(</span><em>r:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.SpMatrix.add_to_diag_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds a constant r to the diagonal of the matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>r</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â A constant</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.SpMatrix.add_vec2_">
<code class="descname">add_vec2_</code><span class="sig-paren">(</span><em>alpha:float</em>, <em>v:VectorBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.SpMatrix.add_vec2_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Performs the operation self = self + alpha*(v*v^T)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â A scaling constant</li>
<li><strong>v</strong> (<em>VectorBase</em>) â A vector</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last">Error in case of dimension mismatch</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.SpMatrix.add_vec_2_sp_">
<code class="descname">add_vec_2_sp_</code><span class="sig-paren">(</span><em>alpha:float</em>, <em>v:VectorBase</em>, <em>S:SpMatrix</em>, <em>beta:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.SpMatrix.add_vec_2_sp_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Perform self = beta*self + alpha*diag(v)*S*diag(v)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â A scaling constant</li>
<li><strong>v</strong> (<em>VectorBase</em>) â A vector</li>
<li><strong>S</strong> (<a class="reference internal" href="#kaldi.matrix.packed.SpMatrix" title="kaldi.matrix.packed.SpMatrix"><em>SpMatrix</em></a>) â A symmetric matrix</li>
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â A scaling constant</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last">Error in case of dimension mismatch</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.SpMatrix.add_vec_vec_">
<code class="descname">add_vec_vec_</code><span class="sig-paren">(</span><em>alpha:float</em>, <em>v:VectorBase</em>, <em>w:VectorBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.SpMatrix.add_vec_vec_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Performs the operation self = self + alpha*(v*w^T+w*v^T)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â A scaling constant</li>
<li><strong>v</strong> (<em>VectorBase</em>) â A vector</li>
<li><strong>w</strong> (<em>VectorBase</em>) â A vector</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last">Error in case of dimension mismatch</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.SpMatrix.apply_floor_">
<code class="descname">apply_floor_</code><span class="sig-paren">(</span><em>floor:float</em><span class="sig-paren">)</span> &#x2192; int<a class="headerlink" href="#kaldi.matrix.packed.SpMatrix.apply_floor_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies floor to all elements. If self(i,j)&lt;floor then self(i,j)=floor.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>floor</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The floor value to check against</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The number of elements affected by the flooring operation</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.SpMatrix.apply_floor_matrix_">
<code class="descname">apply_floor_matrix_</code><span class="sig-paren">(</span><em>floor:SpMatrix</em>, <em>alpha:float=default</em>, <em>verbose:bool=default</em><span class="sig-paren">)</span> &#x2192; int<a class="headerlink" href="#kaldi.matrix.packed.SpMatrix.apply_floor_matrix_" title="Permalink to this definition">Â¶</a></dt>
<dd><dl class="docutils">
<dt>Floors this symmetric matrix to the matrix alpha*floor,</dt>
<dd>where the matrix floor is positive definite.
It is floored in the sense that after flooring it must be that
x^T*self*x &gt;= x^T*(alpha*floor)*x.
floor must be positive definite.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>floor</strong> (<a class="reference internal" href="#kaldi.matrix.packed.SpMatrix" title="kaldi.matrix.packed.SpMatrix"><em>SpMatrix</em></a>) â A positive definite matrix</li>
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â a contant</li>
<li><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) â Default is False. If true, extra messages
can be printed</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">the number of elements that were floored.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last">Error if floor is not positive definite.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.SpMatrix.apply_pow_">
<code class="descname">apply_pow_</code><span class="sig-paren">(</span><em>exponent:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.SpMatrix.apply_pow_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies power to all elements of matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>expoenent</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The exponent.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.SpMatrix.approx_equal">
<code class="descname">approx_equal</code><span class="sig-paren">(</span><em>other:SpMatrix</em>, <em>tol:float=default</em><span class="sig-paren">)</span> &#x2192; bool<a class="headerlink" href="#kaldi.matrix.packed.SpMatrix.approx_equal" title="Permalink to this definition">Â¶</a></dt>
<dd><dl class="docutils">
<dt>Checks if self is equal with other by calculating the Frobenius</dt>
<dd>norm of their difference.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>other</strong> (<a class="reference internal" href="#kaldi.matrix.packed.SpMatrix" title="kaldi.matrix.packed.SpMatrix"><em>SpMatrix</em></a>) â The matrix to check against</li>
<li><strong>tol</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â the tolerance</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">True if ||(self-other)||_F &lt;= tol * ||self||_F</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.SpMatrix.clone">
<code class="descname">clone</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/kaldi/matrix/packed.html#SpMatrix.clone"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#kaldi.matrix.packed.SpMatrix.clone" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Clones the symmetric matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A copy of the symmetric matrix.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#kaldi.matrix.packed.SpMatrix" title="kaldi.matrix.packed.SpMatrix">SpMatrix</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.SpMatrix.cond">
<code class="descname">cond</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.packed.SpMatrix.cond" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the condition number of the SVD computation.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.SpMatrix.copy_from_mat_">
<code class="descname">copy_from_mat_</code><span class="sig-paren">(</span><em>orig:MatrixBase</em>, <em>copy_type:SpCopyType=default</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.SpMatrix.copy_from_mat_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies the elements from a square matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>orig</strong> (<em>MatrixBase</em>) â The input matrix.</li>
<li><strong>copy_type</strong> (<a class="reference internal" href="#kaldi.matrix.common.SpCopyType" title="kaldi.matrix.common.SpCopyType"><em>SpCopyType</em></a>) â Determines how elements will be copied.
If TAKE_LOWER, takes lower triangular elements in orig.
If TAKE_UPPER, takes upper triangular elements in orig.
If TAKE_MEAN, takes the average of symmetric elements in orig.
If TAKE_MEAN_AND_CHECK, does an extra symmetry check before
taking average of symmetric elements in orig.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â If orig is not symmetric.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.SpMatrix.copy_from_packed_">
<code class="descname">copy_from_packed_</code><span class="sig-paren">(</span><em>orig:PackedMatrix</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.SpMatrix.copy_from_packed_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies the elements from a packed matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>orig</strong> (<em>PackedMatrix</em>) â The packed matrix to copy from.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of dimension mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.SpMatrix.copy_from_sp_">
<code class="descname">copy_from_sp_</code><span class="sig-paren">(</span><em>other:SpMatrix</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.SpMatrix.copy_from_sp_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies the elements from another symmetric matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>other</strong> (<a class="reference internal" href="#kaldi.matrix.packed.SpMatrix" title="kaldi.matrix.packed.SpMatrix"><em>SpMatrix</em></a>) â The input symmetric matrix.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of dimension mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.SpMatrix.copy_from_vec_">
<code class="descname">copy_from_vec_</code><span class="sig-paren">(</span><em>orig:SubVector</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.SpMatrix.copy_from_vec_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies the elements from a vector.</p>
<p>Interprets the vector as having the same layout as the packed matrix.
Input vector and the packed matrix must have the same size, i.e.
<code class="xref py py-obj docutils literal"><span class="pre">orig.size</span> <span class="pre">==</span> <span class="pre">(self.num_rows</span> <span class="pre">*</span> <span class="pre">self.num_cols+1)</span> <span class="pre">/</span> <span class="pre">2</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>orig</strong> (<a class="reference internal" href="#kaldi.matrix.SubVector" title="kaldi.matrix.SubVector"><em>SubVector</em></a>) â The vector to copy from.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.SpMatrix.frobenius_norm">
<code class="descname">frobenius_norm</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.packed.SpMatrix.frobenius_norm" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the Frobenius norm of the matrix.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.SpMatrix.from_matrix">
<code class="descname">from_matrix</code><span class="sig-paren">(</span><em>orig:MatrixBase</em>, <em>copy_type:SpCopyType=default</em><span class="sig-paren">)</span> &#x2192; SpMatrix<a class="headerlink" href="#kaldi.matrix.packed.SpMatrix.from_matrix" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Creates a new symmetric matrix from the given square matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>orig</strong> (<em>MatrixBase</em>) â The input square matrix.</li>
<li><strong>copy_type</strong> (<a class="reference internal" href="#kaldi.matrix.common.SpCopyType" title="kaldi.matrix.common.SpCopyType"><em>SpCopyType</em></a>) â Determines how elements will be copied.
If TAKE_LOWER, takes lower triangular elements in orig.
If TAKE_UPPER, takes upper triangular elements in orig.
If TAKE_MEAN, takes the average of symmetric elements in orig.
If TAKE_MEAN_AND_CHECK, does an extra symmetry check before
taking average of symmetric elements in orig.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â If orig is not a square matrix with matching size.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.SpMatrix.from_other">
<code class="descname">from_other</code><span class="sig-paren">(</span><em>orig:SpMatrix</em><span class="sig-paren">)</span> &#x2192; SpMatrix<a class="headerlink" href="#kaldi.matrix.packed.SpMatrix.from_other" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Creates a new symmetric matrix from the given symmetric matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>orig</strong> (<a class="reference internal" href="#kaldi.matrix.packed.SpMatrix" title="kaldi.matrix.packed.SpMatrix"><em>SpMatrix</em></a>) â The input symmetric matrix.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.SpMatrix.from_size">
<code class="descname">from_size</code><span class="sig-paren">(</span><em>r:int</em>, <em>resize_type:MatrixResizeType=default</em><span class="sig-paren">)</span> &#x2192; SpMatrix<a class="headerlink" href="#kaldi.matrix.packed.SpMatrix.from_size" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Creates a new symmetric matrix of given size.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>r</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The number or rows.</li>
<li><strong>resize_type</strong> (<code class="xref py py-class docutils literal"><span class="pre">MatrixResizeType</span></code>) â Determines how the elements
are initialized. If SET_ZERO (or COPY_DATA), they are set to zero.
If UNDEFINED, they are left uninitialized. Defaults to SET_ZERO.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.SpMatrix.getitem">
<code class="descname">getitem</code><span class="sig-paren">(</span><em>r:int</em>, <em>c:int</em><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.packed.SpMatrix.getitem" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Gets the element at the given index.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>r</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The row index of the element to get.</li>
<li><strong>c</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The column index of the element to get.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The element at the given index.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â If r &gt; num_rows or c &gt; num_cols.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.SpMatrix.invert_">
<code class="descname">invert_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.SpMatrix.invert_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Inverts the matrix.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.SpMatrix.invert_double_">
<code class="descname">invert_double_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.SpMatrix.invert_double_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Inverts the matrix in double precision.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.SpMatrix.is_diagonal">
<code class="descname">is_diagonal</code><span class="sig-paren">(</span><em>cutoff:float=default</em><span class="sig-paren">)</span> &#x2192; bool<a class="headerlink" href="#kaldi.matrix.packed.SpMatrix.is_diagonal" title="Permalink to this definition">Â¶</a></dt>
<dd><dl class="docutils">
<dt>Checks if the matrix is diagonal. The nondiagonal elements</dt>
<dd>must be less or equal to cutoff value.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cutoff</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â A cutoff value. Default is 1.0e-05</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if sum(digonal_elements)*cutoff &gt; sum(nondiagonal_elements),
otherwise false</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.SpMatrix.is_pos_def">
<code class="descname">is_pos_def</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; bool<a class="headerlink" href="#kaldi.matrix.packed.SpMatrix.is_pos_def" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns True if the matrix is positive definite.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.SpMatrix.is_triagonal">
<code class="descname">is_triagonal</code><span class="sig-paren">(</span><em>cutoff:float=default</em><span class="sig-paren">)</span> &#x2192; bool<a class="headerlink" href="#kaldi.matrix.packed.SpMatrix.is_triagonal" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns true if the matrix is tridiagonal(based on the
cutoff value).</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.SpMatrix.is_unit">
<code class="descname">is_unit</code><span class="sig-paren">(</span><em>cutoff:float=default</em><span class="sig-paren">)</span> &#x2192; bool<a class="headerlink" href="#kaldi.matrix.packed.SpMatrix.is_unit" title="Permalink to this definition">Â¶</a></dt>
<dd><dl class="docutils">
<dt>Checks if the matrix is identity-like. It does not have to be square.</dt>
<dd>The nondiagonal elements must be less or equal to cutoff value,
while the diagonal ones must be one.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cutoff</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â A cutoff value. Default is 1.0e-05</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if the diagonal elements are 1 and sum(nondiagonal_elements)&lt;=cutoff</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.SpMatrix.is_zero">
<code class="descname">is_zero</code><span class="sig-paren">(</span><em>cutoff:float=default</em><span class="sig-paren">)</span> &#x2192; bool<a class="headerlink" href="#kaldi.matrix.packed.SpMatrix.is_zero" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Checks if all elements are 0 (where 0 is the cutoff value).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cutoff</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â A cutoff value. Default is 1.0e-05</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if it is a zero matrix</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.SpMatrix.limit_cond">
<code class="descname">limit_cond</code><span class="sig-paren">(</span><em>maxCond:float=default</em>, <em>invert:bool=default</em><span class="sig-paren">)</span> &#x2192; int<a class="headerlink" href="#kaldi.matrix.packed.SpMatrix.limit_cond" title="Permalink to this definition">Â¶</a></dt>
<dd><dl class="docutils">
<dt>Performs self = P*diag(floor(s))*P^T, where s is the eigenvalues</dt>
<dd>and P is the eigenvectors.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>MaxCond</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â Determines the flooring threshold (i.e. floor=max_eigen/MaxCond)</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body">Error if matrix is not positive definite</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.SpMatrix.limit_cond_double">
<code class="descname">limit_cond_double</code><span class="sig-paren">(</span><em>maxCond:float=default</em>, <em>invert:bool=default</em><span class="sig-paren">)</span> &#x2192; int<a class="headerlink" href="#kaldi.matrix.packed.SpMatrix.limit_cond_double" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Same as LimitCond but the resulting operation has <a href="#id23"><span class="problematic" id="id24">``</span></a>doubleââ precision.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.SpMatrix.log_pos_def_det">
<code class="descname">log_pos_def_det</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.packed.SpMatrix.log_pos_def_det" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Computes the log determinant.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The log determinant</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â If matrix is not positive definite.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.SpMatrix.max">
<code class="descname">max</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.packed.SpMatrix.max" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the maximum value in the matrix.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.SpMatrix.max_abs_eig">
<code class="descname">max_abs_eig</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.packed.SpMatrix.max_abs_eig" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the maximum of the absolute values of the eigenvalues.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.SpMatrix.min">
<code class="descname">min</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.packed.SpMatrix.min" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the minimum value in the matrix.</p>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.packed.SpMatrix.num_cols">
<code class="descname">num_cols</code><a class="headerlink" href="#kaldi.matrix.packed.SpMatrix.num_cols" title="Permalink to this definition">Â¶</a></dt>
<dd><p>The number of columns.</p>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.packed.SpMatrix.num_rows">
<code class="descname">num_rows</code><a class="headerlink" href="#kaldi.matrix.packed.SpMatrix.num_rows" title="Permalink to this definition">Â¶</a></dt>
<dd><p>The number of rows.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.SpMatrix.qr_">
<code class="descname">qr_</code><span class="sig-paren">(</span><em>Q:MatrixBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.SpMatrix.qr_" title="Permalink to this definition">Â¶</a></dt>
<dd><dl class="docutils">
<dt>The symmetric QR algorithm. This is the symmetric QR algorithm,</dt>
<dd>from Golub and Van Loan 3rd ed., Algorithm 8.3.3.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>Q</strong> (<em>MatrixBase</em>) â A matrix</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.SpMatrix.read_">
<code class="descname">read_</code><span class="sig-paren">(</span><em>is:istream</em>, <em>binary:bool</em>, <em>add:bool=default</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.SpMatrix.read_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Reads the matrix from the given C++ stream.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>is</strong> (<a class="reference internal" href="kaldi.base.html#kaldi.base.io.istream" title="kaldi.base.io.istream"><em>istream</em></a>) â The input C++ stream.</li>
<li><strong>binary</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) â Whether the stream is binary.</li>
<li><strong>add</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) â Whether to add existing contents to the read matrix.
Defaults to False.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.SpMatrix.resize_">
<code class="descname">resize_</code><span class="sig-paren">(</span><em>num_rows:int</em>, <em>resize_type:MatrixResizeType=default</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.SpMatrix.resize_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Resizes the matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>num_rows</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The new number of rows.</li>
<li><strong>resize_type</strong> (<code class="xref py py-class docutils literal"><span class="pre">MatrixResizeType</span></code>) â Determines how the elements
are initialized. If SET_ZERO, they are set to zero. If UNDEFINED,
they are left uninitialized. If COPY_DATA, existing elements are
retained, new ones are set to zero. Defaults to SET_ZERO.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.SpMatrix.scale_">
<code class="descname">scale_</code><span class="sig-paren">(</span><em>c:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.SpMatrix.scale_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Scales each element with the given scalar.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>c</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scaling coefficient.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.SpMatrix.scale_diag_">
<code class="descname">scale_diag_</code><span class="sig-paren">(</span><em>alpha:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.SpMatrix.scale_diag_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Scales the diagonal of the matrix by alpha.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â A scaling constant</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.SpMatrix.set_diag_">
<code class="descname">set_diag_</code><span class="sig-paren">(</span><em>alpha:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.SpMatrix.set_diag_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Sets all the diagonal elements to alpha.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â A constant</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.SpMatrix.set_randn_">
<code class="descname">set_randn_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.SpMatrix.set_randn_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Sets the elements to numbers from standard normal distribution.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.SpMatrix.set_unit_">
<code class="descname">set_unit_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.SpMatrix.set_unit_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Sets diagonal elements to one, off-diagonal elements to zero.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.SpMatrix.set_zero_">
<code class="descname">set_zero_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.SpMatrix.set_zero_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Sets the elements to zero.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.SpMatrix.size">
<code class="descname">size</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.SpMatrix.size" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns size as a tuple.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A tuple (num_rows, num_cols) of integers.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.SpMatrix.size_in_bytes">
<code class="descname">size_in_bytes</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; int<a class="headerlink" href="#kaldi.matrix.packed.SpMatrix.size_in_bytes" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the size (in bytes) of the data held by the matrix.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.SpMatrix.swap_">
<code class="descname">swap_</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.SpMatrix.swap_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Swaps the contents with another matrix.</p>
<p>Shallow swap.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>other</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.SpMatrix" title="kaldi.matrix.packed.SpMatrix"><em>SpMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.TpMatrix" title="kaldi.matrix.packed.TpMatrix"><em>TpMatrix</em></a>) â The input matrix.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> â If <strong>other</strong> is not a square matrix.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.SpMatrix.swap_with_matrix_">
<code class="descname">swap_with_matrix_</code><span class="sig-paren">(</span><em>other:Matrix</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.SpMatrix.swap_with_matrix_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Swaps the contents with a matrix.</p>
<p>Shallow swap.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>other</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The matrix to swap contents with.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.SpMatrix.swap_with_packed_">
<code class="descname">swap_with_packed_</code><span class="sig-paren">(</span><em>other:PackedMatrix</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.SpMatrix.swap_with_packed_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Swaps the contents with another packed matrix.</p>
<p>Shallow swap.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>other</strong> (<em>PackedMatrix</em>) â The matrix to swap contents with.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.SpMatrix.swap_with_symmetric_">
<code class="descname">swap_with_symmetric_</code><span class="sig-paren">(</span><em>other:SpMatrix</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.SpMatrix.swap_with_symmetric_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Swaps the contents with another symmetric matrix.</p>
<p>Shallow swap.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>other</strong> (<a class="reference internal" href="#kaldi.matrix.packed.SpMatrix" title="kaldi.matrix.packed.SpMatrix"><em>SpMatrix</em></a>) â The matrix to swap contents with.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.SpMatrix.trace">
<code class="descname">trace</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.packed.SpMatrix.trace" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the trace of the matrix.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.SpMatrix.tridiagonalize_">
<code class="descname">tridiagonalize_</code><span class="sig-paren">(</span><em>Q:MatrixBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.SpMatrix.tridiagonalize_" title="Permalink to this definition">Â¶</a></dt>
<dd><dl class="docutils">
<dt>Tridiagonalize the matrix with an orthogonal transformation.</dt>
<dd>Performs  self = Q*self*Q^T for an orthogonal Q.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>Q</strong> (<em>MatrixBase</em>) â A matrix that must be orthogonal.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.SpMatrix.write">
<code class="descname">write</code><span class="sig-paren">(</span><em>os:ostream</em>, <em>binary:bool</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.SpMatrix.write" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Writes the matrix to given C++ stream.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>os</strong> (<a class="reference internal" href="kaldi.base.html#kaldi.base.io.ostream" title="kaldi.base.io.ostream"><em>ostream</em></a>) â The output C++ straem.</li>
<li><strong>binary</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) â Whether the stream is binary.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="kaldi.matrix.packed.TpMatrix">
<em class="property">class </em><code class="descclassname">kaldi.matrix.packed.</code><code class="descname">TpMatrix</code><span class="sig-paren">(</span><em>num_rows=None</em>, <em>resize_type=&lt;MatrixResizeType.SET_ZERO: 0&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/kaldi/matrix/packed.html#TpMatrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#kaldi.matrix.packed.TpMatrix" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Single precision triangular matrix.</p>
<p>Initializes a new triangular matrix.</p>
<p>If <a class="reference internal" href="#kaldi.matrix.packed.TpMatrix.num_rows" title="kaldi.matrix.packed.TpMatrix.num_rows"><code class="xref py py-obj docutils literal"><span class="pre">num_rows</span></code></a> is not <code class="docutils literal"><span class="pre">None</span></code>, initializes the triangular matrix to the
specified size. Otherwise, initializes an empty triangular matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>num_rows</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â Number of rows. Defaults to None.</li>
<li><strong>resize_type</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixResizeType" title="kaldi.matrix.common.MatrixResizeType"><em>MatrixResizeType</em></a>) â How to initialize the elements.
If <code class="docutils literal"><span class="pre">MatrixResizeType.SET_ZERO</span></code> or
<code class="docutils literal"><span class="pre">MatrixResizeType.COPY_DATA</span></code>, they are set to zero.
If <code class="docutils literal"><span class="pre">MatrixResizeType.UNDEFINED</span></code>, they are left uninitialized.
Defaults to <code class="docutils literal"><span class="pre">MatrixResizeType.SET_ZERO</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="kaldi.matrix.packed.TpMatrix.add_to_diag_">
<code class="descname">add_to_diag_</code><span class="sig-paren">(</span><em>r:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.TpMatrix.add_to_diag_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Adds a constant r to the diagonal of the matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>r</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â A constant</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.TpMatrix.add_tp">
<code class="descname">add_tp</code><span class="sig-paren">(</span><em>alpha:float</em>, <em>M:TpMatrix</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.TpMatrix.add_tp" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Performs self = self+alpha*M.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â A constant</li>
<li><strong>M</strong> (<a class="reference internal" href="#kaldi.matrix.packed.TpMatrix" title="kaldi.matrix.packed.TpMatrix"><em>TpMatrix</em></a>) â A triangular matrix</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of dimension mismatch.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.TpMatrix.cholesky_">
<code class="descname">cholesky_</code><span class="sig-paren">(</span><em>orig:SpMatrix</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.TpMatrix.cholesky_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Performs Cholesky decomposition.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>orig</strong> (<a class="reference internal" href="#kaldi.matrix.packed.SpMatrix" title="kaldi.matrix.packed.SpMatrix"><em>SpMatrix</em></a>) â The input symmetric matrix.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.TpMatrix.clone">
<code class="descname">clone</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/kaldi/matrix/packed.html#TpMatrix.clone"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#kaldi.matrix.packed.TpMatrix.clone" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Clones the triangular matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A copy of the triangular matrix.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#kaldi.matrix.packed.TpMatrix" title="kaldi.matrix.packed.TpMatrix">TpMatrix</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.TpMatrix.copy_from_mat_">
<code class="descname">copy_from_mat_</code><span class="sig-paren">(</span><em>M:MatrixBase</em>, <em>trans:MatrixTransposeType=default</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.TpMatrix.copy_from_mat_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies the elements from a square matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>M</strong> (<em>MatrixBase</em>) â The input matrix.</li>
<li><strong>trans</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixTransposeType" title="kaldi.matrix.common.MatrixTransposeType"><em>MatrixTransposeType</em></a>) â Determines which elements are copied.
If NO_TRANS, copies the lower triangular elements.
If TRANS, copies the upper triangular elements.
Defaults to NO_TRANS</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â If M is not square or if dimensions of self and M
are different.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.TpMatrix.copy_from_packed_">
<code class="descname">copy_from_packed_</code><span class="sig-paren">(</span><em>orig:PackedMatrix</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.TpMatrix.copy_from_packed_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies the elements from a packed matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>orig</strong> (<em>PackedMatrix</em>) â The packed matrix to copy from.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of dimension mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.TpMatrix.copy_from_tp_">
<code class="descname">copy_from_tp_</code><span class="sig-paren">(</span><em>other:TpMatrix</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.TpMatrix.copy_from_tp_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies the elements from another triangular matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>other</strong> (<a class="reference internal" href="#kaldi.matrix.packed.TpMatrix" title="kaldi.matrix.packed.TpMatrix"><em>TpMatrix</em></a>) â The input triangular matrix.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â In case of dimension mismatch.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.TpMatrix.copy_from_vec_">
<code class="descname">copy_from_vec_</code><span class="sig-paren">(</span><em>orig:SubVector</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.TpMatrix.copy_from_vec_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies the elements from a vector.</p>
<p>Interprets the vector as having the same layout as the packed matrix.
Input vector and the packed matrix must have the same size, i.e.
<code class="xref py py-obj docutils literal"><span class="pre">orig.size</span> <span class="pre">==</span> <span class="pre">(self.num_rows</span> <span class="pre">*</span> <span class="pre">self.num_cols+1)</span> <span class="pre">/</span> <span class="pre">2</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>orig</strong> (<a class="reference internal" href="#kaldi.matrix.SubVector" title="kaldi.matrix.SubVector"><em>SubVector</em></a>) â The vector to copy from.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.TpMatrix.determinant">
<code class="descname">determinant</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.packed.TpMatrix.determinant" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the determinant of the matrix.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.TpMatrix.from_other">
<code class="descname">from_other</code><span class="sig-paren">(</span><em>orig:TpMatrix</em><span class="sig-paren">)</span> &#x2192; TpMatrix<a class="headerlink" href="#kaldi.matrix.packed.TpMatrix.from_other" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Creates a new triangular matrix from the given triangular matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>orig</strong> (<a class="reference internal" href="#kaldi.matrix.packed.TpMatrix" title="kaldi.matrix.packed.TpMatrix"><em>TpMatrix</em></a>) â The input triangular matrix.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.TpMatrix.from_size">
<code class="descname">from_size</code><span class="sig-paren">(</span><em>r:int</em>, <em>resize_type:MatrixResizeType=default</em><span class="sig-paren">)</span> &#x2192; TpMatrix<a class="headerlink" href="#kaldi.matrix.packed.TpMatrix.from_size" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Creates a new triangular matrix of given size.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>r</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The number or rows.</li>
<li><strong>resize_type</strong> (<code class="xref py py-class docutils literal"><span class="pre">MatrixResizeType</span></code>) â Determines how the elements
are initialized. If SET_ZERO (or COPY_DATA), they are set to zero.
If UNDEFINED, they are left uninitialized. Defaults to SET_ZERO.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.TpMatrix.getitem">
<code class="descname">getitem</code><span class="sig-paren">(</span><em>r:int</em>, <em>c:int</em><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.packed.TpMatrix.getitem" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Gets the element at the given index.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>r</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The row index of the element to get.</li>
<li><strong>c</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The column index of the element to get.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The element at the given index.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> â If r &gt; num_rows or c &gt; num_cols.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.TpMatrix.invert_">
<code class="descname">invert_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.TpMatrix.invert_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Inverts the matrix</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.TpMatrix.invert_double_">
<code class="descname">invert_double_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.TpMatrix.invert_double_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Inverts the matrix in double precision.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.TpMatrix.max">
<code class="descname">max</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.packed.TpMatrix.max" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the maximum value in the matrix.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.TpMatrix.min">
<code class="descname">min</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.packed.TpMatrix.min" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the minimum value in the matrix.</p>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.packed.TpMatrix.num_cols">
<code class="descname">num_cols</code><a class="headerlink" href="#kaldi.matrix.packed.TpMatrix.num_cols" title="Permalink to this definition">Â¶</a></dt>
<dd><p>The number of columns.</p>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.packed.TpMatrix.num_rows">
<code class="descname">num_rows</code><a class="headerlink" href="#kaldi.matrix.packed.TpMatrix.num_rows" title="Permalink to this definition">Â¶</a></dt>
<dd><p>The number of rows.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.TpMatrix.read_">
<code class="descname">read_</code><span class="sig-paren">(</span><em>is:istream</em>, <em>binary:bool</em>, <em>add:bool=default</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.TpMatrix.read_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Reads the matrix from the given C++ stream.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>is</strong> (<a class="reference internal" href="kaldi.base.html#kaldi.base.io.istream" title="kaldi.base.io.istream"><em>istream</em></a>) â The input C++ stream.</li>
<li><strong>binary</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) â Whether the stream is binary.</li>
<li><strong>add</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) â Whether to add existing contents to the read matrix.
Defaults to False.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.TpMatrix.resize_">
<code class="descname">resize_</code><span class="sig-paren">(</span><em>num_rows:int</em>, <em>resize_type:MatrixResizeType=default</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.TpMatrix.resize_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Resizes the matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>num_rows</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The new number of rows.</li>
<li><strong>resize_type</strong> (<code class="xref py py-class docutils literal"><span class="pre">MatrixResizeType</span></code>) â Determines how the elements
are initialized. If SET_ZERO, they are set to zero. If UNDEFINED,
they are left uninitialized. If COPY_DATA, existing elements are
retained, new ones are set to zero. Defaults to SET_ZERO.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.TpMatrix.scale_">
<code class="descname">scale_</code><span class="sig-paren">(</span><em>c:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.TpMatrix.scale_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Scales each element with the given scalar.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>c</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â The scaling coefficient.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.TpMatrix.scale_diag_">
<code class="descname">scale_diag_</code><span class="sig-paren">(</span><em>alpha:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.TpMatrix.scale_diag_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Scales the diagonal of the matrix by alpha.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â A scaling constant</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.TpMatrix.set_diag_">
<code class="descname">set_diag_</code><span class="sig-paren">(</span><em>alpha:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.TpMatrix.set_diag_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Sets all the diagonal elements to alpha.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â A constant</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.TpMatrix.set_randn_">
<code class="descname">set_randn_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.TpMatrix.set_randn_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Sets the elements to numbers from standard normal distribution.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.TpMatrix.set_unit_">
<code class="descname">set_unit_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.TpMatrix.set_unit_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Sets diagonal elements to one, off-diagonal elements to zero.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.TpMatrix.set_zero_">
<code class="descname">set_zero_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.TpMatrix.set_zero_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Sets the elements to zero.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.TpMatrix.size">
<code class="descname">size</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.TpMatrix.size" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns size as a tuple.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A tuple (num_rows, num_cols) of integers.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.TpMatrix.size_in_bytes">
<code class="descname">size_in_bytes</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; int<a class="headerlink" href="#kaldi.matrix.packed.TpMatrix.size_in_bytes" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the size (in bytes) of the data held by the matrix.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.TpMatrix.swap_">
<code class="descname">swap_</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.TpMatrix.swap_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Swaps the contents with another matrix.</p>
<p>Shallow swap.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>other</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.SpMatrix" title="kaldi.matrix.packed.SpMatrix"><em>SpMatrix</em></a><em> or </em><a class="reference internal" href="#kaldi.matrix.packed.TpMatrix" title="kaldi.matrix.packed.TpMatrix"><em>TpMatrix</em></a>) â The input matrix.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> â If <strong>other</strong> is not a square matrix.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.TpMatrix.swap_with_matrix_">
<code class="descname">swap_with_matrix_</code><span class="sig-paren">(</span><em>other:Matrix</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.TpMatrix.swap_with_matrix_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Swaps the contents with a matrix.</p>
<p>Shallow swap.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>other</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â The matrix to swap contents with.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.TpMatrix.swap_with_packed_">
<code class="descname">swap_with_packed_</code><span class="sig-paren">(</span><em>other:PackedMatrix</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.TpMatrix.swap_with_packed_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Swaps the contents with another packed matrix.</p>
<p>Shallow swap.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>other</strong> (<em>PackedMatrix</em>) â The matrix to swap contents with.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.TpMatrix.swap_with_triangular_">
<code class="descname">swap_with_triangular_</code><span class="sig-paren">(</span><em>other:TpMatrix</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.TpMatrix.swap_with_triangular_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Swaps the contents with another triangular matrix.</p>
<p>Shallow swap.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>other</strong> (<a class="reference internal" href="#kaldi.matrix.packed.TpMatrix" title="kaldi.matrix.packed.TpMatrix"><em>TpMatrix</em></a>) â The matrix to swap contents with.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.TpMatrix.trace">
<code class="descname">trace</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.packed.TpMatrix.trace" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the trace of the matrix.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.packed.TpMatrix.write">
<code class="descname">write</code><span class="sig-paren">(</span><em>os:ostream</em>, <em>binary:bool</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.packed.TpMatrix.write" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Writes the matrix to given C++ stream.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>os</strong> (<a class="reference internal" href="kaldi.base.html#kaldi.base.io.ostream" title="kaldi.base.io.ostream"><em>ostream</em></a>) â The output C++ straem.</li>
<li><strong>binary</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) â Whether the stream is binary.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-kaldi.matrix.sparse">
<span id="kaldi-matrix-sparse"></span><h2>kaldi.matrix.sparse<a class="headerlink" href="#module-kaldi.matrix.sparse" title="Permalink to this headline">Â¶</a></h2>
<p class="rubric">Functions</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#kaldi.matrix.sparse.extract_row_range_with_padding" title="kaldi.matrix.sparse.extract_row_range_with_padding"><code class="xref py py-obj docutils literal"><span class="pre">extract_row_range_with_padding</span></code></a></td>
<td>Extracts a row-range from a general matrix.</td>
</tr>
</tbody>
</table>
<p class="rubric">Classes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#kaldi.matrix.sparse.DoubleSparseMatrix" title="kaldi.matrix.sparse.DoubleSparseMatrix"><code class="xref py py-obj docutils literal"><span class="pre">DoubleSparseMatrix</span></code></a></td>
<td>This class defines a Sparse Matrix.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#kaldi.matrix.sparse.DoubleSparseVector" title="kaldi.matrix.sparse.DoubleSparseVector"><code class="xref py py-obj docutils literal"><span class="pre">DoubleSparseVector</span></code></a></td>
<td>Defines a class for sparse vectors.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#kaldi.matrix.sparse.GeneralMatrix" title="kaldi.matrix.sparse.GeneralMatrix"><code class="xref py py-obj docutils literal"><span class="pre">GeneralMatrix</span></code></a></td>
<td>Defines a class for general matrices.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#kaldi.matrix.sparse.GeneralMatrixType" title="kaldi.matrix.sparse.GeneralMatrixType"><code class="xref py py-obj docutils literal"><span class="pre">GeneralMatrixType</span></code></a></td>
<td>An enumeration.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#kaldi.matrix.sparse.SparseMatrix" title="kaldi.matrix.sparse.SparseMatrix"><code class="xref py py-obj docutils literal"><span class="pre">SparseMatrix</span></code></a></td>
<td>This class defines a Sparse Matrix.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#kaldi.matrix.sparse.SparseVector" title="kaldi.matrix.sparse.SparseVector"><code class="xref py py-obj docutils literal"><span class="pre">SparseVector</span></code></a></td>
<td>Defines a class for sparse vectors.</td>
</tr>
</tbody>
</table>
<dl class="class">
<dt id="kaldi.matrix.sparse.DoubleSparseMatrix">
<em class="property">class </em><code class="descclassname">kaldi.matrix.sparse.</code><code class="descname">DoubleSparseMatrix</code><a class="headerlink" href="#kaldi.matrix.sparse.DoubleSparseMatrix" title="Permalink to this definition">Â¶</a></dt>
<dd><p>This class defines a Sparse Matrix.</p>
<dl class="method">
<dt id="kaldi.matrix.sparse.DoubleSparseMatrix.add_to_mat">
<code class="descname">add_to_mat</code><span class="sig-paren">(</span><em>alpha:float</em>, <em>other:DoubleMatrixBase</em>, <em>t:MatrixTransposeType=default</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.sparse.DoubleSparseMatrix.add_to_mat" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Performs other = other+alpha*self if t==kNoTrans
or other^T = other^T+alpha*self if t==kTrans</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â A constant</li>
<li><strong>other</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleMatrix" title="kaldi.matrix.DoubleMatrix"><em>DoubleMatrix</em></a>) â A matrix</li>
<li><strong>t</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixTransposeType" title="kaldi.matrix.common.MatrixTransposeType"><em>MatrixTransposeType</em></a>) â transpose or not</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last">Error in case of dimension mismatch</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.DoubleSparseMatrix.copy_elements_to_vec">
<code class="descname">copy_elements_to_vec</code><span class="sig-paren">(</span><em>other:DoubleVectorBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.sparse.DoubleSparseMatrix.copy_elements_to_vec" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies the nonzero elements of the matrix to the vector other.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>other</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a>) â A vector to store the nonzero elements of self</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li>Error if the size of other is different than the number of nonzero</li>
<li>elements of self</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.DoubleSparseMatrix.copy_from_smat_">
<code class="descname">copy_from_smat_</code><span class="sig-paren">(</span><em>other:DoubleSparseMatrix</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.sparse.DoubleSparseMatrix.copy_from_smat_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copy data from another sparse matrix. Will resize if necessary.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>other</strong> (<a class="reference internal" href="#kaldi.matrix.sparse.DoubleSparseMatrix" title="kaldi.matrix.sparse.DoubleSparseMatrix"><em>DoubleSparseMatrix</em></a>) â The matrix to copy from.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.DoubleSparseMatrix.copy_to_mat">
<code class="descname">copy_to_mat</code><span class="sig-paren">(</span><em>other:DoubleMatrixBase</em>, <em>t:MatrixTransposeType=default</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.sparse.DoubleSparseMatrix.copy_to_mat" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Calls C++ function
void ::kaldi::SparseMatrix&lt;double&gt;::CopyToMat(::kaldi::MatrixBase&lt;double&gt; <a href="#id25"><span class="problematic" id="id26">*</span></a>, ::kaldi::MatrixTransposeType)</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.DoubleSparseMatrix.frobenius_norm">
<code class="descname">frobenius_norm</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.sparse.DoubleSparseMatrix.frobenius_norm" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Computes and returns the Frobenius norm.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.DoubleSparseMatrix.from_dims">
<code class="descname">from_dims</code><span class="sig-paren">(</span><em>num_rows:int</em>, <em>num_cols:int</em><span class="sig-paren">)</span> &#x2192; DoubleSparseMatrix<a class="headerlink" href="#kaldi.matrix.sparse.DoubleSparseMatrix.from_dims" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Initialization by defining the dimensions.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>num_rows</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The number of rows</li>
<li><strong>num_cols</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The number of columns</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.DoubleSparseMatrix.from_other">
<code class="descname">from_other</code><span class="sig-paren">(</span><em>other:DoubleSparseMatrix</em><span class="sig-paren">)</span> &#x2192; DoubleSparseMatrix<a class="headerlink" href="#kaldi.matrix.sparse.DoubleSparseMatrix.from_other" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Initialization by copying the elements of another sparse matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>other</strong> (<a class="reference internal" href="#kaldi.matrix.sparse.DoubleSparseMatrix" title="kaldi.matrix.sparse.DoubleSparseMatrix"><em>DoubleSparseMatrix</em></a>) â A sparse matrix</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.DoubleSparseMatrix.from_pairs">
<code class="descname">from_pairs</code><span class="sig-paren">(</span><em>dim:int</em>, <em>pairs:list&lt;list&lt;tuple&lt;int</em>, <em>float&gt;&gt;&gt;</em><span class="sig-paren">)</span> &#x2192; DoubleSparseMatrix<a class="headerlink" href="#kaldi.matrix.sparse.DoubleSparseMatrix.from_pairs" title="Permalink to this definition">Â¶</a></dt>
<dd><dl class="docutils">
<dt>Initialization by a list of list of tuples. The tuples hold</dt>
<dd>and index for the matrix and the corresponding value.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>dim</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â Determines the number of columns</li>
<li><strong>pairs</strong> (<em>list&lt;list&lt;tuple&lt;python:int</em><em>,</em><em>float&gt;&gt;&gt;</em>) â Contains the element of the matrix.
The length of the <a href="#id27"><span class="problematic" id="id28">``</span></a>outerââ list determines
the number of rows</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.sparse.DoubleSparseMatrix.num_cols">
<code class="descname">num_cols</code><a class="headerlink" href="#kaldi.matrix.sparse.DoubleSparseMatrix.num_cols" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Number of columns (zero for empty matrix).</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.DoubleSparseMatrix.num_elements">
<code class="descname">num_elements</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; int<a class="headerlink" href="#kaldi.matrix.sparse.DoubleSparseMatrix.num_elements" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the number of nonzero elements.</p>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.sparse.DoubleSparseMatrix.num_rows">
<code class="descname">num_rows</code><a class="headerlink" href="#kaldi.matrix.sparse.DoubleSparseMatrix.num_rows" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Number of rows (zero for empty matrix).</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.DoubleSparseMatrix.read_">
<code class="descname">read_</code><span class="sig-paren">(</span><em>is:istream</em>, <em>binary:bool</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.sparse.DoubleSparseMatrix.read_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Reads from C++ stream.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>is</strong> (<a class="reference internal" href="kaldi.base.html#kaldi.base.io.istream" title="kaldi.base.io.istream"><em>istream</em></a>) â The input straem.</li>
<li><strong>binary</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) â If the stream is binary.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.DoubleSparseMatrix.resize_">
<code class="descname">resize_</code><span class="sig-paren">(</span><em>rows:int</em>, <em>cols:int</em>, <em>resize_type:MatrixResizeType=default</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.sparse.DoubleSparseMatrix.resize_" title="Permalink to this definition">Â¶</a></dt>
<dd><dl class="docutils">
<dt>Resizes a matrix. If the resize_type is kSetZero,</dt>
<dd>the new data will be zero. If the resize type is kUndefined,
the new data will be undefined. Finally if the resize type is kCopyData,
the new data will be the same as the old data in any shared positions,
and zero elsewhere. stride_type defines how data will be read from memory,
we advise to let it in its default value.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>rows</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The new number of rows</li>
<li><strong>cols</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The new number of columns</li>
<li><strong>resize_type</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixResizeType" title="kaldi.matrix.common.MatrixResizeType"><em>MatrixResizeType</em></a>) â Determines the initial values of the vector.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.DoubleSparseMatrix.row">
<code class="descname">row</code><span class="sig-paren">(</span><em>r:int</em><span class="sig-paren">)</span> &#x2192; DoubleSparseVector<a class="headerlink" href="#kaldi.matrix.sparse.DoubleSparseMatrix.row" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the row indexed by r as a sparse vector</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.DoubleSparseMatrix.scale_">
<code class="descname">scale_</code><span class="sig-paren">(</span><em>alpha:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.sparse.DoubleSparseMatrix.scale_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Scale the elements of the matrix by alpha.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.DoubleSparseMatrix.set_randn_">
<code class="descname">set_randn_</code><span class="sig-paren">(</span><em>zero_prob:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.sparse.DoubleSparseMatrix.set_randn_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Sets up to a pseudo-randomly initialized matrix,
with each element zero with probability zero_prob
and else normally distributed.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.DoubleSparseMatrix.set_row_">
<code class="descname">set_row_</code><span class="sig-paren">(</span><em>r:int</em>, <em>vec:DoubleSparseVector</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.sparse.DoubleSparseMatrix.set_row_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Sets row r to âvecâ; makes sure it has the correct dimension.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.DoubleSparseMatrix.sum">
<code class="descname">sum</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.sparse.DoubleSparseMatrix.sum" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the sum of the elememts.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.DoubleSparseMatrix.swap_">
<code class="descname">swap_</code><span class="sig-paren">(</span><em>other:DoubleSparseMatrix</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.sparse.DoubleSparseMatrix.swap_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Swaps the contents of self and other. Shallow swap.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.DoubleSparseMatrix.write">
<code class="descname">write</code><span class="sig-paren">(</span><em>os:ostream</em>, <em>binary:bool</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.sparse.DoubleSparseMatrix.write" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Writes to C++ stream.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>os</strong> (<a class="reference internal" href="kaldi.base.html#kaldi.base.io.ostream" title="kaldi.base.io.ostream"><em>ostream</em></a>) â The output straem.</li>
<li><strong>binary</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) â If the stream is binary.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="kaldi.matrix.sparse.DoubleSparseVector">
<em class="property">class </em><code class="descclassname">kaldi.matrix.sparse.</code><code class="descname">DoubleSparseVector</code><a class="headerlink" href="#kaldi.matrix.sparse.DoubleSparseVector" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Defines a class for sparse vectors.</p>
<dl class="method">
<dt id="kaldi.matrix.sparse.DoubleSparseVector.add_to_vec">
<code class="descname">add_to_vec</code><span class="sig-paren">(</span><em>alpha:float</em>, <em>vec:DoubleVectorBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.sparse.DoubleSparseVector.add_to_vec" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Performs vec=vec+alpha*self</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â A scaling constant</li>
<li><strong>vec</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a>) â A vector</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.DoubleSparseVector.copy_elements_to_vec">
<code class="descname">copy_elements_to_vec</code><span class="sig-paren">(</span><em>vec:DoubleVectorBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.sparse.DoubleSparseVector.copy_elements_to_vec" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copy the elements of self to vec.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>vec</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a>) â A vector</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body">Error in case of dimension mismatch</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.DoubleSparseVector.copy_from_svec">
<code class="descname">copy_from_svec</code><span class="sig-paren">(</span><em>other:DoubleSparseVector</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.sparse.DoubleSparseVector.copy_from_svec" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copy elements of other to self</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>other</strong> (<a class="reference internal" href="#kaldi.matrix.sparse.DoubleSparseVector" title="kaldi.matrix.sparse.DoubleSparseVector"><em>DoubleSparseVector</em></a>) â A sparse vector whose elements we will copy</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body">Error in case of dimension mismatch</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.sparse.DoubleSparseVector.dim">
<code class="descname">dim</code><a class="headerlink" href="#kaldi.matrix.sparse.DoubleSparseVector.dim" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Dimension (zero for empty vector).</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.DoubleSparseVector.from_dim">
<code class="descname">from_dim</code><span class="sig-paren">(</span><em>dim:int</em><span class="sig-paren">)</span> &#x2192; DoubleSparseVector<a class="headerlink" href="#kaldi.matrix.sparse.DoubleSparseVector.from_dim" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Initialization by defining the size of the vector.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>dim</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The size of the vector</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.DoubleSparseVector.from_other">
<code class="descname">from_other</code><span class="sig-paren">(</span><em>other:DoubleSparseVector</em><span class="sig-paren">)</span> &#x2192; DoubleSparseVector<a class="headerlink" href="#kaldi.matrix.sparse.DoubleSparseVector.from_other" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Initialization by copying the elements of other.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.DoubleSparseVector.from_pairs">
<code class="descname">from_pairs</code><span class="sig-paren">(</span><em>dim:int</em>, <em>pairs:list&lt;tuple&lt;int</em>, <em>float&gt;&gt;</em><span class="sig-paren">)</span> &#x2192; DoubleSparseVector<a class="headerlink" href="#kaldi.matrix.sparse.DoubleSparseVector.from_pairs" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Initialization using a list of tuples(pairs).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>dim</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The size of the vector</li>
<li><strong>pairs</strong> (<em>list&lt;tuple&lt;python:int</em><em>,</em><em>float&gt;&gt;</em>) â A list of tuples. Each tuple holds an index
in the vector and its corresponding value</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.DoubleSparseVector.get_elements">
<code class="descname">get_elements</code><span class="sig-paren">(</span><em>i:int</em><span class="sig-paren">)</span> &#x2192; tuple&lt;int, float&gt;<a class="headerlink" href="#kaldi.matrix.sparse.DoubleSparseVector.get_elements" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Get an indexed element.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A tuple holding the index and a float</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.DoubleSparseVector.max">
<code class="descname">max</code><span class="sig-paren">(</span><em>) -&gt; (value:float</em>, <em>index:int</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.sparse.DoubleSparseVector.max" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns a tuple holding the maximum value(float) of the vector and its index(int).</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.DoubleSparseVector.num_elements">
<code class="descname">num_elements</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; int<a class="headerlink" href="#kaldi.matrix.sparse.DoubleSparseVector.num_elements" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the number of nonzero elements.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.DoubleSparseVector.read_">
<code class="descname">read_</code><span class="sig-paren">(</span><em>is:istream</em>, <em>binary:bool</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.sparse.DoubleSparseVector.read_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Reads from C++ stream.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>is</strong> (<a class="reference internal" href="kaldi.base.html#kaldi.base.io.istream" title="kaldi.base.io.istream"><em>istream</em></a>) â The input straem.</li>
<li><strong>binary</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) â If the stream is binary.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.DoubleSparseVector.resize_">
<code class="descname">resize_</code><span class="sig-paren">(</span><em>dim:int</em>, <em>resize_type:MatrixResizeType=default</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.sparse.DoubleSparseVector.resize_" title="Permalink to this definition">Â¶</a></dt>
<dd><dl class="docutils">
<dt>Set vector size to length (length can be zero).</dt>
<dd>The default resize type is kSetZero, in which case the new data will
be zero. If the resize type is kUndefined, the new data will be undefined.
Finally if the resize type is kCopyData, the new data will be the same as
the old data in any shared positions, and zero elsewhere.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>dim</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The new size of the vector</li>
<li><strong>resize_type</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixResizeType" title="kaldi.matrix.common.MatrixResizeType"><em>MatrixResizeType</em></a>) â Determines the initial values of the vector.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.DoubleSparseVector.scale">
<code class="descname">scale</code><span class="sig-paren">(</span><em>alpha:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.sparse.DoubleSparseVector.scale" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Scale the elements of the vector by alpha</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.DoubleSparseVector.set_randn_">
<code class="descname">set_randn_</code><span class="sig-paren">(</span><em>zero_prob:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.sparse.DoubleSparseVector.set_randn_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Sets elements to zero with probability zero_prob, else normally distributed.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.DoubleSparseVector.sum">
<code class="descname">sum</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.sparse.DoubleSparseVector.sum" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the summation of the elements.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.DoubleSparseVector.swap_">
<code class="descname">swap_</code><span class="sig-paren">(</span><em>other:DoubleSparseVector</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.sparse.DoubleSparseVector.swap_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Swaps the contents of self and other. Shallow swap.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>other</strong> (<a class="reference internal" href="#kaldi.matrix.DoubleVector" title="kaldi.matrix.DoubleVector"><em>DoubleVector</em></a>) â The vector whose elements we want to swap with self.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.DoubleSparseVector.write">
<code class="descname">write</code><span class="sig-paren">(</span><em>os:ostream</em>, <em>binary:bool</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.sparse.DoubleSparseVector.write" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Writes to C++ stream.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>os</strong> (<a class="reference internal" href="kaldi.base.html#kaldi.base.io.ostream" title="kaldi.base.io.ostream"><em>ostream</em></a>) â The output straem.</li>
<li><strong>binary</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) â If the stream is binary.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="kaldi.matrix.sparse.GeneralMatrix">
<em class="property">class </em><code class="descclassname">kaldi.matrix.sparse.</code><code class="descname">GeneralMatrix</code><a class="headerlink" href="#kaldi.matrix.sparse.GeneralMatrix" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Defines a class for general matrices. A general matrix can be either
full(kFullMatrix), compresssed(kCompressedMatrix), or sparse(kSparseMatrix).</p>
<dl class="method">
<dt id="kaldi.matrix.sparse.GeneralMatrix.add_to_mat">
<code class="descname">add_to_mat</code><span class="sig-paren">(</span><em>alpha:float</em>, <em>mat:MatrixBase</em>, <em>trans:MatrixTransposeType=default</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.sparse.GeneralMatrix.add_to_mat" title="Permalink to this definition">Â¶</a></dt>
<dd><dl class="docutils">
<dt>Performs mat=mat+alpha*self if MatrixTransposeType==kNoTrans.</dt>
<dd>Performs mat^T=mat^T+alpha*self if MatrixTransposeType==kNoTrans.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â A constant</li>
<li><strong>mat</strong> (<em>MatrixBase</em>) â A matrix</li>
<li><strong>trans</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixTransposeType" title="kaldi.matrix.common.MatrixTransposeType"><em>MatrixTransposeType</em></a>) â Determines transposition of mat.
Default is kNoTrans</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last">Error in case of dimension mismatch</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.GeneralMatrix.clear">
<code class="descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.sparse.GeneralMatrix.clear" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Clear the contents of self.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.GeneralMatrix.compress">
<code class="descname">compress</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.sparse.GeneralMatrix.compress" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Compresses the matrix to a sparse one.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.GeneralMatrix.copy_to_cu_mat">
<code class="descname">copy_to_cu_mat</code><span class="sig-paren">(</span><em>cu_mat:CuMatrixBase</em>, <em>trans:MatrixTransposeType=default</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.sparse.GeneralMatrix.copy_to_cu_mat" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Calls C++ function
void ::kaldi::GeneralMatrix::CopyToMat(::kaldi::CuMatrixBase&lt;float&gt; <a href="#id29"><span class="problematic" id="id30">*</span></a>, ::kaldi::MatrixTransposeType)</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.GeneralMatrix.copy_to_mat">
<code class="descname">copy_to_mat</code><span class="sig-paren">(</span><em>mat:MatrixBase</em>, <em>trans:MatrixTransposeType=default</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.sparse.GeneralMatrix.copy_to_mat" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Calls C++ function
void ::kaldi::GeneralMatrix::CopyToMat(::kaldi::MatrixBase&lt;float&gt; <a href="#id31"><span class="problematic" id="id32">*</span></a>, ::kaldi::MatrixTransposeType)</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.GeneralMatrix.from_compressed">
<code class="descname">from_compressed</code><span class="sig-paren">(</span><em>other:CompressedMatrix</em><span class="sig-paren">)</span> &#x2192; GeneralMatrix<a class="headerlink" href="#kaldi.matrix.sparse.GeneralMatrix.from_compressed" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Initialization of a General Matrix from matrix of class CompressesMatrix.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.GeneralMatrix.from_matrix">
<code class="descname">from_matrix</code><span class="sig-paren">(</span><em>other:MatrixBase</em><span class="sig-paren">)</span> &#x2192; GeneralMatrix<a class="headerlink" href="#kaldi.matrix.sparse.GeneralMatrix.from_matrix" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Initialization of a General Matrix from matrix of class MatrixBase.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.GeneralMatrix.from_other">
<code class="descname">from_other</code><span class="sig-paren">(</span><em>other:GeneralMatrix</em><span class="sig-paren">)</span> &#x2192; GeneralMatrix<a class="headerlink" href="#kaldi.matrix.sparse.GeneralMatrix.from_other" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Initialization of a General Matrix from matrix of class GeneralMatrix.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.GeneralMatrix.from_sparse">
<code class="descname">from_sparse</code><span class="sig-paren">(</span><em>other:SparseMatrix</em><span class="sig-paren">)</span> &#x2192; GeneralMatrix<a class="headerlink" href="#kaldi.matrix.sparse.GeneralMatrix.from_sparse" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Initialization of a General Matrix from matrix of class SparseMatrix.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.GeneralMatrix.get_compressed_matrix">
<code class="descname">get_compressed_matrix</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; CompressedMatrix<a class="headerlink" href="#kaldi.matrix.sparse.GeneralMatrix.get_compressed_matrix" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the contents as a compressed matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li>Error if type returns something other than kCompressedMatrix,</li>
<li>or NumRows() != 0</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.GeneralMatrix.get_full_matrix">
<code class="descname">get_full_matrix</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; Matrix<a class="headerlink" href="#kaldi.matrix.sparse.GeneralMatrix.get_full_matrix" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the contents as an instance of class Matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li>Error if the type is anything other than kFullMatrix</li>
<li>or NumRows() != 0</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.GeneralMatrix.get_matrix">
<code class="descname">get_matrix</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; Matrix<a class="headerlink" href="#kaldi.matrix.sparse.GeneralMatrix.get_matrix" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Outputs the contents as an instance of class Matrix.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.GeneralMatrix.get_sparse_matrix">
<code class="descname">get_sparse_matrix</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; SparseMatrix<a class="headerlink" href="#kaldi.matrix.sparse.GeneralMatrix.get_sparse_matrix" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the contents as a SparseMatrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li>Error if type returns something other than kSparseMatrix,</li>
<li>or NumRows() != 0</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.GeneralMatrix.num_cols">
<code class="descname">num_cols</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; int<a class="headerlink" href="#kaldi.matrix.sparse.GeneralMatrix.num_cols" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return the number of columns.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.GeneralMatrix.num_rows">
<code class="descname">num_rows</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; int<a class="headerlink" href="#kaldi.matrix.sparse.GeneralMatrix.num_rows" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return the number of rows.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.GeneralMatrix.read">
<code class="descname">read</code><span class="sig-paren">(</span><em>is:istream</em>, <em>binary:bool</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.sparse.GeneralMatrix.read" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Reads from C++ stream.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>is</strong> (<a class="reference internal" href="kaldi.base.html#kaldi.base.io.istream" title="kaldi.base.io.istream"><em>istream</em></a>) â The input straem.</li>
<li><strong>binary</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) â If the stream is binary.</li>
<li><strong>add</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) â True if you want to add the stream to self.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.GeneralMatrix.scale">
<code class="descname">scale</code><span class="sig-paren">(</span><em>alpha:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.sparse.GeneralMatrix.scale" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Scale all elements of the matrix by alpha.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.GeneralMatrix.swap">
<code class="descname">swap</code><span class="sig-paren">(</span><em>other:GeneralMatrix</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.sparse.GeneralMatrix.swap" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Swaps the contents of self and other. Shallow swap.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.GeneralMatrix.swap_compressed_matrix">
<code class="descname">swap_compressed_matrix</code><span class="sig-paren">(</span><em>cmat:CompressedMatrix</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.sparse.GeneralMatrix.swap_compressed_matrix" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Swaps the current compressed matrix with another(cmat).</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.GeneralMatrix.swap_full_matrix">
<code class="descname">swap_full_matrix</code><span class="sig-paren">(</span><em>cmat:Matrix</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.sparse.GeneralMatrix.swap_full_matrix" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Swap the contents of self with cmat.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li>Error if type is anything other than kFullMatrix,</li>
<li>or if NumRows() != 0</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.GeneralMatrix.swap_sparse_matrix">
<code class="descname">swap_sparse_matrix</code><span class="sig-paren">(</span><em>smat:SparseMatrix</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.sparse.GeneralMatrix.swap_sparse_matrix" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Swaps the contents of self and smat.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li>Error if type returns something other than kSparseMatrix,</li>
<li>or NumRows() != 0</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.GeneralMatrix.type">
<code class="descname">type</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; GeneralMatrixType<a class="headerlink" href="#kaldi.matrix.sparse.GeneralMatrix.type" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the type of the matrix: kSparseMatrix, kCompressedMatrix
or kFullMatrix. If this matrix is empty, returns kFullMatrix.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.GeneralMatrix.uncompress">
<code class="descname">uncompress</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.sparse.GeneralMatrix.uncompress" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Uncompresses the matrix to a one of class Matrix.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.GeneralMatrix.write">
<code class="descname">write</code><span class="sig-paren">(</span><em>os:ostream</em>, <em>binary:bool</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.sparse.GeneralMatrix.write" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Writes to C++ stream.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>os</strong> (<a class="reference internal" href="kaldi.base.html#kaldi.base.io.ostream" title="kaldi.base.io.ostream"><em>ostream</em></a>) â The output straem.</li>
<li><strong>binary</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) â If the stream is binary.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="kaldi.matrix.sparse.GeneralMatrixType">
<em class="property">class </em><code class="descclassname">kaldi.matrix.sparse.</code><code class="descname">GeneralMatrixType</code><a class="headerlink" href="#kaldi.matrix.sparse.GeneralMatrixType" title="Permalink to this definition">Â¶</a></dt>
<dd><p>An enumeration.</p>
<dl class="attribute">
<dt id="kaldi.matrix.sparse.GeneralMatrixType.COMPRESSED_MATRIX">
<code class="descname">COMPRESSED_MATRIX</code><em class="property"> = 1</em><a class="headerlink" href="#kaldi.matrix.sparse.GeneralMatrixType.COMPRESSED_MATRIX" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.sparse.GeneralMatrixType.FULL_MATRIX">
<code class="descname">FULL_MATRIX</code><em class="property"> = 0</em><a class="headerlink" href="#kaldi.matrix.sparse.GeneralMatrixType.FULL_MATRIX" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.sparse.GeneralMatrixType.SPARSE_MATRIX">
<code class="descname">SPARSE_MATRIX</code><em class="property"> = 2</em><a class="headerlink" href="#kaldi.matrix.sparse.GeneralMatrixType.SPARSE_MATRIX" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="kaldi.matrix.sparse.SparseMatrix">
<em class="property">class </em><code class="descclassname">kaldi.matrix.sparse.</code><code class="descname">SparseMatrix</code><a class="headerlink" href="#kaldi.matrix.sparse.SparseMatrix" title="Permalink to this definition">Â¶</a></dt>
<dd><p>This class defines a Sparse Matrix.</p>
<dl class="method">
<dt id="kaldi.matrix.sparse.SparseMatrix.add_to_mat">
<code class="descname">add_to_mat</code><span class="sig-paren">(</span><em>alpha:float</em>, <em>other:MatrixBase</em>, <em>t:MatrixTransposeType=default</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.sparse.SparseMatrix.add_to_mat" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Performs other = other+alpha*self if t==kNoTrans
or other^T = other^T+alpha*self if t==kTrans</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â A constant</li>
<li><strong>other</strong> (<a class="reference internal" href="#kaldi.matrix.Matrix" title="kaldi.matrix.Matrix"><em>Matrix</em></a>) â A matrix</li>
<li><strong>t</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixTransposeType" title="kaldi.matrix.common.MatrixTransposeType"><em>MatrixTransposeType</em></a>) â transpose or not</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last">Error in case of dimension mismatch</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.SparseMatrix.copy_elements_to_vec">
<code class="descname">copy_elements_to_vec</code><span class="sig-paren">(</span><em>other:VectorBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.sparse.SparseMatrix.copy_elements_to_vec" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copies the nonzero elements of the matrix to the vector other.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>other</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a>) â A vector to store the nonzero elements of self</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li>Error if the size of other is different than the number of nonzero</li>
<li>elements of self</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.SparseMatrix.copy_from_smat_">
<code class="descname">copy_from_smat_</code><span class="sig-paren">(</span><em>other:SparseMatrix</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.sparse.SparseMatrix.copy_from_smat_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copy data from another sparse matrix. Will resize if necessary.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>other</strong> (<a class="reference internal" href="#kaldi.matrix.sparse.SparseMatrix" title="kaldi.matrix.sparse.SparseMatrix"><em>SparseMatrix</em></a>) â The matrix to copy from.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.SparseMatrix.copy_to_mat">
<code class="descname">copy_to_mat</code><span class="sig-paren">(</span><em>other:MatrixBase</em>, <em>t:MatrixTransposeType=default</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.sparse.SparseMatrix.copy_to_mat" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Calls C++ function
void ::kaldi::SparseMatrix&lt;float&gt;::CopyToMat(::kaldi::MatrixBase&lt;float&gt; <a href="#id33"><span class="problematic" id="id34">*</span></a>, ::kaldi::MatrixTransposeType)</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.SparseMatrix.frobenius_norm">
<code class="descname">frobenius_norm</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.sparse.SparseMatrix.frobenius_norm" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Computes and returns the Frobenius norm.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.SparseMatrix.from_dims">
<code class="descname">from_dims</code><span class="sig-paren">(</span><em>num_rows:int</em>, <em>num_cols:int</em><span class="sig-paren">)</span> &#x2192; SparseMatrix<a class="headerlink" href="#kaldi.matrix.sparse.SparseMatrix.from_dims" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Initialization by defining the dimensions.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>num_rows</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The number of rows</li>
<li><strong>num_cols</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The number of columns</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.SparseMatrix.from_other">
<code class="descname">from_other</code><span class="sig-paren">(</span><em>other:SparseMatrix</em><span class="sig-paren">)</span> &#x2192; SparseMatrix<a class="headerlink" href="#kaldi.matrix.sparse.SparseMatrix.from_other" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Initialization by copying the elements of another sparse matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>other</strong> (<a class="reference internal" href="#kaldi.matrix.sparse.SparseMatrix" title="kaldi.matrix.sparse.SparseMatrix"><em>SparseMatrix</em></a>) â A sparse matrix</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.SparseMatrix.from_pairs">
<code class="descname">from_pairs</code><span class="sig-paren">(</span><em>dim:int</em>, <em>pairs:list&lt;list&lt;tuple&lt;int</em>, <em>float&gt;&gt;&gt;</em><span class="sig-paren">)</span> &#x2192; SparseMatrix<a class="headerlink" href="#kaldi.matrix.sparse.SparseMatrix.from_pairs" title="Permalink to this definition">Â¶</a></dt>
<dd><dl class="docutils">
<dt>Initialization by a list of list of tuples. The tuples hold</dt>
<dd>and index for the matrix and the corresponding value.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>dim</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â Determines the number of columns</li>
<li><strong>pairs</strong> (<em>list&lt;list&lt;tuple&lt;python:int</em><em>,</em><em>float&gt;&gt;&gt;</em>) â Contains the element of the matrix.
The length of the <a href="#id35"><span class="problematic" id="id36">``</span></a>outerââ list determines
the number of rows</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.sparse.SparseMatrix.num_cols">
<code class="descname">num_cols</code><a class="headerlink" href="#kaldi.matrix.sparse.SparseMatrix.num_cols" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Number of columns (zero for empty matrix).</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.SparseMatrix.num_elements">
<code class="descname">num_elements</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; int<a class="headerlink" href="#kaldi.matrix.sparse.SparseMatrix.num_elements" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the number of nonzero elements.</p>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.sparse.SparseMatrix.num_rows">
<code class="descname">num_rows</code><a class="headerlink" href="#kaldi.matrix.sparse.SparseMatrix.num_rows" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Number of rows (zero for empty matrix).</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.SparseMatrix.read_">
<code class="descname">read_</code><span class="sig-paren">(</span><em>is:istream</em>, <em>binary:bool</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.sparse.SparseMatrix.read_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Reads from C++ stream.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>is</strong> (<a class="reference internal" href="kaldi.base.html#kaldi.base.io.istream" title="kaldi.base.io.istream"><em>istream</em></a>) â The input straem.</li>
<li><strong>binary</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) â If the stream is binary.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.SparseMatrix.resize_">
<code class="descname">resize_</code><span class="sig-paren">(</span><em>rows:int</em>, <em>cols:int</em>, <em>resize_type:MatrixResizeType=default</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.sparse.SparseMatrix.resize_" title="Permalink to this definition">Â¶</a></dt>
<dd><dl class="docutils">
<dt>Resizes a matrix. If the resize_type is kSetZero,</dt>
<dd>the new data will be zero. If the resize type is kUndefined,
the new data will be undefined. Finally if the resize type is kCopyData,
the new data will be the same as the old data in any shared positions,
and zero elsewhere. stride_type defines how data will be read from memory,
we advise to let it in its default value.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>rows</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The new number of rows</li>
<li><strong>cols</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The new number of columns</li>
<li><strong>resize_type</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixResizeType" title="kaldi.matrix.common.MatrixResizeType"><em>MatrixResizeType</em></a>) â Determines the initial values of the vector.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.SparseMatrix.row">
<code class="descname">row</code><span class="sig-paren">(</span><em>r:int</em><span class="sig-paren">)</span> &#x2192; SparseVector<a class="headerlink" href="#kaldi.matrix.sparse.SparseMatrix.row" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the row indexed by r as a sparse vector</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.SparseMatrix.scale_">
<code class="descname">scale_</code><span class="sig-paren">(</span><em>alpha:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.sparse.SparseMatrix.scale_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Scale the elements of the matrix by alpha.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.SparseMatrix.set_randn_">
<code class="descname">set_randn_</code><span class="sig-paren">(</span><em>zero_prob:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.sparse.SparseMatrix.set_randn_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Sets up to a pseudo-randomly initialized matrix,
with each element zero with probability zero_prob
and else normally distributed.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.SparseMatrix.set_row_">
<code class="descname">set_row_</code><span class="sig-paren">(</span><em>r:int</em>, <em>vec:SparseVector</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.sparse.SparseMatrix.set_row_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Sets row r to âvecâ; makes sure it has the correct dimension.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.SparseMatrix.sum">
<code class="descname">sum</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.sparse.SparseMatrix.sum" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the sum of the elememts.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.SparseMatrix.swap_">
<code class="descname">swap_</code><span class="sig-paren">(</span><em>other:SparseMatrix</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.sparse.SparseMatrix.swap_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Swaps the contents of self and other. Shallow swap.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.SparseMatrix.write">
<code class="descname">write</code><span class="sig-paren">(</span><em>os:ostream</em>, <em>binary:bool</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.sparse.SparseMatrix.write" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Writes to C++ stream.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>os</strong> (<a class="reference internal" href="kaldi.base.html#kaldi.base.io.ostream" title="kaldi.base.io.ostream"><em>ostream</em></a>) â The output straem.</li>
<li><strong>binary</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) â If the stream is binary.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="kaldi.matrix.sparse.SparseVector">
<em class="property">class </em><code class="descclassname">kaldi.matrix.sparse.</code><code class="descname">SparseVector</code><a class="headerlink" href="#kaldi.matrix.sparse.SparseVector" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Defines a class for sparse vectors.</p>
<dl class="method">
<dt id="kaldi.matrix.sparse.SparseVector.add_to_vec">
<code class="descname">add_to_vec</code><span class="sig-paren">(</span><em>alpha:float</em>, <em>vec:VectorBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.sparse.SparseVector.add_to_vec" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Performs vec=vec+alpha*self</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) â A scaling constant</li>
<li><strong>vec</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a>) â A vector</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.SparseVector.copy_elements_to_vec">
<code class="descname">copy_elements_to_vec</code><span class="sig-paren">(</span><em>vec:VectorBase</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.sparse.SparseVector.copy_elements_to_vec" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copy the elements of self to vec.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>vec</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a>) â A vector</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body">Error in case of dimension mismatch</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.SparseVector.copy_from_svec_">
<code class="descname">copy_from_svec_</code><span class="sig-paren">(</span><em>other:SparseVector</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.sparse.SparseVector.copy_from_svec_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Copy elements of other to self</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>other</strong> (<a class="reference internal" href="#kaldi.matrix.sparse.SparseVector" title="kaldi.matrix.sparse.SparseVector"><em>SparseVector</em></a>) â A sparse vector whose elements we will copy</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body">Error in case of dimension mismatch</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.matrix.sparse.SparseVector.dim">
<code class="descname">dim</code><a class="headerlink" href="#kaldi.matrix.sparse.SparseVector.dim" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Dimension (zero for empty vector).</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.SparseVector.from_dim">
<code class="descname">from_dim</code><span class="sig-paren">(</span><em>dim:int</em><span class="sig-paren">)</span> &#x2192; SparseVector<a class="headerlink" href="#kaldi.matrix.sparse.SparseVector.from_dim" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Initialization by defining the size of the vector.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>dim</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The size of the vector</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.SparseVector.from_other">
<code class="descname">from_other</code><span class="sig-paren">(</span><em>other:SparseVector</em><span class="sig-paren">)</span> &#x2192; SparseVector<a class="headerlink" href="#kaldi.matrix.sparse.SparseVector.from_other" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Initialization by copying the elements of other.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.SparseVector.from_pairs">
<code class="descname">from_pairs</code><span class="sig-paren">(</span><em>dim:int</em>, <em>pairs:list&lt;tuple&lt;int</em>, <em>float&gt;&gt;</em><span class="sig-paren">)</span> &#x2192; SparseVector<a class="headerlink" href="#kaldi.matrix.sparse.SparseVector.from_pairs" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Initialization using a list of tuples(pairs).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>dim</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The size of the vector</li>
<li><strong>pairs</strong> (<em>list&lt;tuple&lt;python:int</em><em>,</em><em>float&gt;&gt;</em>) â A list of tuples. Each tuple holds an index
in the vector and its corresponding value</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.SparseVector.get_elements">
<code class="descname">get_elements</code><span class="sig-paren">(</span><em>i:int</em><span class="sig-paren">)</span> &#x2192; tuple&lt;int, float&gt;<a class="headerlink" href="#kaldi.matrix.sparse.SparseVector.get_elements" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Get an indexed element.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A tuple holding the index and a float</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.SparseVector.max">
<code class="descname">max</code><span class="sig-paren">(</span><em>) -&gt; (value:float</em>, <em>index:int</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.sparse.SparseVector.max" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns a tuple holding the maximum value(float) of the vector and its index(int).</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.SparseVector.num_elements">
<code class="descname">num_elements</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; int<a class="headerlink" href="#kaldi.matrix.sparse.SparseVector.num_elements" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the number of nonzero elements.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.SparseVector.read_">
<code class="descname">read_</code><span class="sig-paren">(</span><em>is:istream</em>, <em>binary:bool</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.sparse.SparseVector.read_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Reads from C++ stream.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>is</strong> (<a class="reference internal" href="kaldi.base.html#kaldi.base.io.istream" title="kaldi.base.io.istream"><em>istream</em></a>) â The input straem.</li>
<li><strong>binary</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) â If the stream is binary.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.SparseVector.resize_">
<code class="descname">resize_</code><span class="sig-paren">(</span><em>dim:int</em>, <em>resize_type:MatrixResizeType=default</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.sparse.SparseVector.resize_" title="Permalink to this definition">Â¶</a></dt>
<dd><dl class="docutils">
<dt>Set vector size to length (length can be zero).</dt>
<dd>The default resize type is kSetZero, in which case the new data will
be zero. If the resize type is kUndefined, the new data will be undefined.
Finally if the resize type is kCopyData, the new data will be the same as
the old data in any shared positions, and zero elsewhere.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>dim</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The new size of the vector</li>
<li><strong>resize_type</strong> (<a class="reference internal" href="#kaldi.matrix.common.MatrixResizeType" title="kaldi.matrix.common.MatrixResizeType"><em>MatrixResizeType</em></a>) â Determines the initial values of the vector.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.SparseVector.scale_">
<code class="descname">scale_</code><span class="sig-paren">(</span><em>alpha:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.sparse.SparseVector.scale_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Scale the elements of the vector by alpha</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.SparseVector.set_randn_">
<code class="descname">set_randn_</code><span class="sig-paren">(</span><em>zero_prob:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.sparse.SparseVector.set_randn_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Sets elements to zero with probability zero_prob, else normally distributed.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.SparseVector.sum">
<code class="descname">sum</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.matrix.sparse.SparseVector.sum" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the summation of the elements.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.SparseVector.swap_">
<code class="descname">swap_</code><span class="sig-paren">(</span><em>other:SparseVector</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.sparse.SparseVector.swap_" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Swaps the contents of self and other. Shallow swap.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>other</strong> (<a class="reference internal" href="#kaldi.matrix.Vector" title="kaldi.matrix.Vector"><em>Vector</em></a>) â The vector whose elements we want to swap with self.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.matrix.sparse.SparseVector.write">
<code class="descname">write</code><span class="sig-paren">(</span><em>os:ostream</em>, <em>binary:bool</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.matrix.sparse.SparseVector.write" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Writes to C++ stream.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>os</strong> (<a class="reference internal" href="kaldi.base.html#kaldi.base.io.ostream" title="kaldi.base.io.ostream"><em>ostream</em></a>) â The output straem.</li>
<li><strong>binary</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) â If the stream is binary.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="kaldi.matrix.sparse.extract_row_range_with_padding">
<code class="descclassname">kaldi.matrix.sparse.</code><code class="descname">extract_row_range_with_padding</code><span class="sig-paren">(</span><em>matrix:GeneralMatrix</em>, <em>row_offset:int</em>, <em>num_rows:int</em><span class="sig-paren">)</span> &#x2192; GeneralMatrix<a class="headerlink" href="#kaldi.matrix.sparse.extract_row_range_with_padding" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Extracts a row-range from a general matrix.</p>
<blockquote>
<div>This function extracts a row-range from a general matrix and writes
a GeneralMatrix containing the same type of underlying matrix.
If the row-range is partly outside the row-range of âinâ
(i.e. if row_offset &lt; 0 or row_offset + num_rows &gt; in.NumRows())
then it will pad with copies of the first and last row as needed.
This is more efficient than un-compressing and re-compressing
the underlying CompressedMatrix, and causes less accuracy loss
due to re-compression (no loss in most cases).</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>matrix</strong> (<a class="reference internal" href="#kaldi.matrix.sparse.GeneralMatrix" title="kaldi.matrix.sparse.GeneralMatrix"><em>GeneralMatrix</em></a>) â The general matrix.</li>
<li><strong>row_offset</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The start row index.</li>
<li><strong>num_rows</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) â The number of rows.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A general matrix.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="kaldi.nnet3.html" class="btn btn-neutral float-right" title="kaldi.nnet3" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="kaldi.lm.html" class="btn btn-neutral" title="kaldi.lm" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017-2018, DoÄan Can, Victor Martinez.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.0.9',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>