

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>kaldi.hmm &mdash; PyKaldi 0.0.9 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato" type="text/css" />
  
    <link rel="stylesheet" href="../_static/pykaldi-theme.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="PyKaldi 0.0.9 documentation" href="../index.html"/>
        <link rel="next" title="kaldi.itf" href="kaldi.itf.html"/>
        <link rel="prev" title="kaldi.gmm" href="kaldi.gmm.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/pykaldi-logo-light.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                0.0.9
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
    
            
            
              
            
            
              <p class="caption"><span class="caption-text">User Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../user/about.html">About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/install.html">Installation</a></li>
</ul>
<p class="caption"><span class="caption-text">Developer Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../dev/conv.html">Coding Conventions</a></li>
</ul>
<p class="caption"><span class="caption-text">API Guide</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="kaldi.html">kaldi.alignment</a></li>
<li class="toctree-l1"><a class="reference internal" href="kaldi.html#module-kaldi.asr">kaldi.asr</a></li>
<li class="toctree-l1"><a class="reference internal" href="kaldi.base.html">kaldi.base</a></li>
<li class="toctree-l1"><a class="reference internal" href="kaldi.chain.html">kaldi.chain</a></li>
<li class="toctree-l1"><a class="reference internal" href="kaldi.cudamatrix.html">kaldi.cudamatrix</a></li>
<li class="toctree-l1"><a class="reference internal" href="kaldi.decoder.html">kaldi.decoder</a></li>
<li class="toctree-l1"><a class="reference internal" href="kaldi.feat.html">kaldi.feat</a></li>
<li class="toctree-l1"><a class="reference internal" href="kaldi.fstext.html">kaldi.fstext</a></li>
<li class="toctree-l1"><a class="reference internal" href="kaldi.gmm.html">kaldi.gmm</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">kaldi.hmm</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#hmm-topology">HMM Topology</a></li>
<li class="toctree-l2"><a class="reference internal" href="#transition-model">Transition Model</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="kaldi.itf.html">kaldi.itf</a></li>
<li class="toctree-l1"><a class="reference internal" href="kaldi.ivector.html">kaldi.ivector</a></li>
<li class="toctree-l1"><a class="reference internal" href="kaldi.kws.html">kaldi.kws</a></li>
<li class="toctree-l1"><a class="reference internal" href="kaldi.lat.html">kaldi.lat</a></li>
<li class="toctree-l1"><a class="reference internal" href="kaldi.lm.html">kaldi.lm</a></li>
<li class="toctree-l1"><a class="reference internal" href="kaldi.matrix.html">kaldi.matrix</a></li>
<li class="toctree-l1"><a class="reference internal" href="kaldi.nnet3.html">kaldi.nnet3</a></li>
<li class="toctree-l1"><a class="reference internal" href="kaldi.online2.html">kaldi.online2</a></li>
<li class="toctree-l1"><a class="reference internal" href="kaldi.rnnlm.html">kaldi.rnnlm</a></li>
<li class="toctree-l1"><a class="reference internal" href="kaldi.sgmm2.html">kaldi.sgmm2</a></li>
<li class="toctree-l1"><a class="reference internal" href="kaldi.tfrnnlm.html">kaldi.tfrnnlm</a></li>
<li class="toctree-l1"><a class="reference internal" href="kaldi.transform.html">kaldi.transform</a></li>
<li class="toctree-l1"><a class="reference internal" href="kaldi.tree.html">kaldi.tree</a></li>
<li class="toctree-l1"><a class="reference internal" href="kaldi.util.html">kaldi.util</a></li>
</ul>

            
          
    <p class="caption"><span class="caption-text">Other</span></p>
    <ul>
    <li class="toctree-l1"><a href="../genindex.html">Index</a></li>
    </ul>
  
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">PyKaldi</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>kaldi.hmm</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/api/kaldi.hmm.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-kaldi.hmm">
<span id="kaldi-hmm"></span><h1>kaldi.hmm<a class="headerlink" href="#module-kaldi.hmm" title="Permalink to this headline">¶</a></h1>
<div class="section" id="hmm-topology">
<h2>HMM Topology<a class="headerlink" href="#hmm-topology" title="Permalink to this headline">¶</a></h2>
<p>The following would be the text form for the “normal” HMM topology. Note that
the first state is the start state, and the final state, which must have no
output transitions and must be nonemitting, has an exit probability of one (no
other state can have nonzero exit probability; you can treat the transition
probability to the final state as an exit probability).</p>
<p>Note also that it’s valid to omit the “&lt;PdfClass&gt;” entry of the &lt;State&gt;, which
will mean we won’t have a pdf on that state [non-emitting state].  This is
equivalent to setting the &lt;PdfClass&gt; to -1.  We do this normally just for the
final state.</p>
<p>The Topology object can have multiple &lt;TopologyEntry&gt; blocks. This is useful if
there are multiple types of topology in the system.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">Topology</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">TopologyEntry</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">ForPhones</span><span class="o">&gt;</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">4</span> <span class="mi">5</span> <span class="mi">6</span> <span class="mi">7</span> <span class="mi">8</span> <span class="o">&lt;/</span><span class="n">ForPhones</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">State</span><span class="o">&gt;</span> <span class="mi">0</span> <span class="o">&lt;</span><span class="n">PdfClass</span><span class="o">&gt;</span> <span class="mi">0</span>
<span class="o">&lt;</span><span class="n">Transition</span><span class="o">&gt;</span> <span class="mi">0</span> <span class="mf">0.5</span>
<span class="o">&lt;</span><span class="n">Transition</span><span class="o">&gt;</span> <span class="mi">1</span> <span class="mf">0.5</span>
<span class="o">&lt;/</span><span class="n">State</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">State</span><span class="o">&gt;</span> <span class="mi">1</span> <span class="o">&lt;</span><span class="n">PdfClass</span><span class="o">&gt;</span> <span class="mi">1</span>
<span class="o">&lt;</span><span class="n">Transition</span><span class="o">&gt;</span> <span class="mi">1</span> <span class="mf">0.5</span>
<span class="o">&lt;</span><span class="n">Transition</span><span class="o">&gt;</span> <span class="mi">2</span> <span class="mf">0.5</span>
<span class="o">&lt;/</span><span class="n">State</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">State</span><span class="o">&gt;</span> <span class="mi">2</span> <span class="o">&lt;</span><span class="n">PdfClass</span><span class="o">&gt;</span> <span class="mi">2</span>
<span class="o">&lt;</span><span class="n">Transition</span><span class="o">&gt;</span> <span class="mi">2</span> <span class="mf">0.5</span>
<span class="o">&lt;</span><span class="n">Transition</span><span class="o">&gt;</span> <span class="mi">3</span> <span class="mf">0.5</span>
<span class="o">&lt;</span><span class="n">Final</span><span class="o">&gt;</span> <span class="mf">0.5</span>
<span class="o">&lt;/</span><span class="n">State</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">State</span><span class="o">&gt;</span> <span class="mi">3</span>
<span class="o">&lt;/</span><span class="n">State</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">TopologyEntry</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">Topology</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><a class="reference internal" href="#kaldi.hmm.NO_PDF" title="kaldi.hmm.NO_PDF"><code class="xref py py-obj docutils literal"><span class="pre">NO_PDF</span></code></a> is used where pdf_class or pdf would be used, to indicate, none is
there.  Mainly useful in skippable models, but also used for end states.</p>
<p>A caveat with non-emitting states is that their out-transitions are not
trainable, due to technical issues with the way we decided to accumulate the
stats.  Any transitions arising from (*) HMM states with <a class="reference internal" href="#kaldi.hmm.NO_PDF" title="kaldi.hmm.NO_PDF"><code class="xref py py-obj docutils literal"><span class="pre">NO_PDF</span></code></a> as the label
are second-class transitions, They do not have “transition-states” or
“transition-ids” associated with them.  They are used to create the FST version
of the HMMs, where they lead to epsilon arcs.</p>
<p>(*) “arising from” is a bit of a technical term here, due to the way (if
reorder == true), we put the transition-id associated with the outward arcs of
the state, on the input transition to the state.</p>
</div>
<div class="section" id="transition-model">
<h2>Transition Model<a class="headerlink" href="#transition-model" title="Permalink to this headline">¶</a></h2>
<p>The class <a class="reference internal" href="#kaldi.hmm.TransitionModel" title="kaldi.hmm.TransitionModel"><code class="xref py py-obj docutils literal"><span class="pre">TransitionModel</span></code></a> is a repository for the transition probabilities.
It also handles certain integer mappings.</p>
<p>The basic model is as follows.  Each phone has a HMM topology. Each HMM-state of
each of these phones has a number of transitions (and final-probs) out of it.
Each HMM-state defined in the <a class="reference internal" href="#kaldi.hmm.HmmTopology" title="kaldi.hmm.HmmTopology"><code class="xref py py-obj docutils literal"><span class="pre">HmmTopology</span></code></a> class has an associated “pdf_class”.
This gets replaced with an actual pdf-id via the tree.  The transition model
associates the transition probs with the (phone, HMM-state, pdf-id).  We
associate with each such triple a transition-state.  Each transition-state has a
number of associated probabilities to estimate; this depends on the number of
transitions/final-probs in the topology for that (phone, HMM-state).  Each
probability has an associated transition-index. We associate with each
(transition-state, transition-index) a unique transition-id. Each individual
probability estimated by the transition-model is asociated with a transition-id.</p>
<p>List of the various types of quantity referred to here and what they mean:</p>
<dl class="docutils">
<dt>phone</dt>
<dd>a phone index (1, 2, 3 …)</dd>
<dt>HMM-state</dt>
<dd>a number (0, 1, 2…) that indexes TopologyEntry (see hmm-topology.h)</dd>
<dt>pdf-id</dt>
<dd>a number output by the compute method of <code class="xref py py-obj docutils literal"><span class="pre">ContextDependency</span></code> (it indexes
pdf’s, either forward or self-loop). Zero-based.</dd>
<dt>transition-state</dt>
<dd>the states for which we estimate transition probabilities for transitions
out of them.  In some topologies, will map one-to-one with pdf-ids.
One-based, since it appears on FSTs.</dd>
<dt>transition-index</dt>
<dd>identifier of a transition (or final-prob) in the HMM.  Indexes the
“transitions” vector in <a class="reference internal" href="#kaldi.hmm.HmmTopology.HmmState" title="kaldi.hmm.HmmTopology.HmmState"><code class="xref py py-obj docutils literal"><span class="pre">HmmTopology.HmmState</span></code></a>.  [if it is out of range,
equal to length of transitions, it refers to the final-prob.] Zero-based.</dd>
<dt>transition-id</dt>
<dd>identifier of a unique parameter of the <a class="reference internal" href="#kaldi.hmm.TransitionModel" title="kaldi.hmm.TransitionModel"><code class="xref py py-obj docutils literal"><span class="pre">TransitionModel</span></code></a>. Associated with a
(transition-state, transition-index) pair. One-based, since it appears on
FSTs.</dd>
</dl>
<p>List of the possible mappings TransitionModel can do:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">Forward</span> <span class="n">mappings</span><span class="p">:</span>

<span class="p">(</span><span class="n">phone</span><span class="p">,</span> <span class="n">HMM</span><span class="o">-</span><span class="n">state</span><span class="p">,</span> <span class="n">forward</span><span class="o">-</span><span class="n">pdf</span><span class="o">-</span><span class="nb">id</span><span class="p">,</span> <span class="bp">self</span><span class="o">-</span><span class="n">loop</span><span class="o">-</span><span class="n">pdf</span><span class="o">-</span><span class="nb">id</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">transition</span><span class="o">-</span><span class="n">state</span>
                <span class="p">(</span><span class="n">transition</span><span class="o">-</span><span class="n">state</span><span class="p">,</span> <span class="n">transition</span><span class="o">-</span><span class="n">index</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">transition</span><span class="o">-</span><span class="nb">id</span>

<span class="n">Reverse</span> <span class="n">mappings</span><span class="p">:</span>
                                       <span class="n">transition</span><span class="o">-</span><span class="nb">id</span> <span class="o">-&gt;</span> <span class="n">transition</span><span class="o">-</span><span class="n">state</span>
                                       <span class="n">transition</span><span class="o">-</span><span class="nb">id</span> <span class="o">-&gt;</span> <span class="n">transition</span><span class="o">-</span><span class="n">index</span>
                                    <span class="n">transition</span><span class="o">-</span><span class="n">state</span> <span class="o">-&gt;</span> <span class="n">phone</span>
                                    <span class="n">transition</span><span class="o">-</span><span class="n">state</span> <span class="o">-&gt;</span> <span class="n">HMM</span><span class="o">-</span><span class="n">state</span>
                                    <span class="n">transition</span><span class="o">-</span><span class="n">state</span> <span class="o">-&gt;</span> <span class="n">forward</span><span class="o">-</span><span class="n">pdf</span><span class="o">-</span><span class="nb">id</span>
                                    <span class="n">transition</span><span class="o">-</span><span class="n">state</span> <span class="o">-&gt;</span> <span class="bp">self</span><span class="o">-</span><span class="n">loop</span><span class="o">-</span><span class="n">pdf</span><span class="o">-</span><span class="nb">id</span>
</pre></div>
</div>
<p>The main things the TransitionModel object can do are:</p>
<ul class="simple">
<li>Get initialized (need ContextDependency and HmmTopology objects).</li>
<li>Read/write.</li>
<li>Update [given a vector of counts indexed by transition-id].</li>
<li>Do the various integer mappings mentioned above.</li>
<li>Get the probability (or log-probability) associated with a particular
transition-id.</li>
</ul>
<hr class="docutils" />
<dl class="data">
<dt id="kaldi.hmm.NO_PDF">
<code class="descclassname">kaldi.hmm.</code><code class="descname">NO_PDF</code><em class="property"> = -1</em><a class="headerlink" href="#kaldi.hmm.NO_PDF" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p class="rubric">Functions</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#kaldi.hmm.accumulate_tree_stats" title="kaldi.hmm.accumulate_tree_stats"><code class="xref py py-obj docutils literal"><span class="pre">accumulate_tree_stats</span></code></a></td>
<td>Accumulates the stats needed for training context-dependency trees.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#kaldi.hmm.add_self_loops" title="kaldi.hmm.add_self_loops"><code class="xref py py-obj docutils literal"><span class="pre">add_self_loops</span></code></a></td>
<td>Expands an FST that has been built without self-loops.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#kaldi.hmm.add_transition_probs" title="kaldi.hmm.add_transition_probs"><code class="xref py py-obj docutils literal"><span class="pre">add_transition_probs</span></code></a></td>
<td>Adds transition probabilities with the supplied scales to the graph.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#kaldi.hmm.add_transition_probs_lat" title="kaldi.hmm.add_transition_probs_lat"><code class="xref py py-obj docutils literal"><span class="pre">add_transition_probs_lat</span></code></a></td>
<td>Adds transition probabilities with the supplied scales to the lattice.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#kaldi.hmm.convert_alignment" title="kaldi.hmm.convert_alignment"><code class="xref py py-obj docutils literal"><span class="pre">convert_alignment</span></code></a></td>
<td>Converts an alignment that was created using one model to another.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#kaldi.hmm.convert_alignment_with_phone_map" title="kaldi.hmm.convert_alignment_with_phone_map"><code class="xref py py-obj docutils literal"><span class="pre">convert_alignment_with_phone_map</span></code></a></td>
<td>Converts an alignment that was created using one model to another.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#kaldi.hmm.convert_phnx_to_prons" title="kaldi.hmm.convert_phnx_to_prons"><code class="xref py py-obj docutils literal"><span class="pre">convert_phnx_to_prons</span></code></a></td>
<td>Converts a phone sequence and a word sequence to a list of pronunciations</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#kaldi.hmm.get_h_transducer" title="kaldi.hmm.get_h_transducer"><code class="xref py py-obj docutils literal"><span class="pre">get_h_transducer</span></code></a></td>
<td>Creates the H transducer.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#kaldi.hmm.get_ilabel_mapping" title="kaldi.hmm.get_ilabel_mapping"><code class="xref py py-obj docutils literal"><span class="pre">get_ilabel_mapping</span></code></a></td>
<td>Produces a mapping from logical to physical HMMs.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#kaldi.hmm.get_pdfs_for_phones" title="kaldi.hmm.get_pdfs_for_phones"><code class="xref py py-obj docutils literal"><span class="pre">get_pdfs_for_phones</span></code></a></td>
<td>Works out which pdfs might correspond to the given phones.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#kaldi.hmm.get_phones_for_pdfs" title="kaldi.hmm.get_phones_for_pdfs"><code class="xref py py-obj docutils literal"><span class="pre">get_phones_for_pdfs</span></code></a></td>
<td>Works out which phones might correspond to the given pdfs.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#kaldi.hmm.merge_posteriors" title="kaldi.hmm.merge_posteriors"><code class="xref py py-obj docutils literal"><span class="pre">merge_posteriors</span></code></a></td>
<td>Merges two Posterior objects.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#kaldi.hmm.posterior_entries_are_disjoint" title="kaldi.hmm.posterior_entries_are_disjoint"><code class="xref py py-obj docutils literal"><span class="pre">posterior_entries_are_disjoint</span></code></a></td>
<td>Returns True if the lists have no common first element (transition-id).</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#kaldi.hmm.read_phone_map" title="kaldi.hmm.read_phone_map"><code class="xref py py-obj docutils literal"><span class="pre">read_phone_map</span></code></a></td>
<td>Reads a mapping from one phone set to another.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#kaldi.hmm.split_to_phones" title="kaldi.hmm.split_to_phones"><code class="xref py py-obj docutils literal"><span class="pre">split_to_phones</span></code></a></td>
<td>Splits transition-ids in alignment into phones (one list per phone).</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#kaldi.hmm.vector_to_posterior_entries" title="kaldi.hmm.vector_to_posterior_entries"><code class="xref py py-obj docutils literal"><span class="pre">vector_to_posterior_entries</span></code></a></td>
<td>Converts log-likelihoods to a list of posterior entries.</td>
</tr>
</tbody>
</table>
<p class="rubric">Classes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#kaldi.hmm.AccumulateTreeStatsInfo" title="kaldi.hmm.AccumulateTreeStatsInfo"><code class="xref py py-obj docutils literal"><span class="pre">AccumulateTreeStatsInfo</span></code></a></td>
<td>Alternative options representation for accumulating tree statistics.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#kaldi.hmm.AccumulateTreeStatsOptions" title="kaldi.hmm.AccumulateTreeStatsOptions"><code class="xref py py-obj docutils literal"><span class="pre">AccumulateTreeStatsOptions</span></code></a></td>
<td>Options for accumulating tree statistics.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#kaldi.hmm.HTransducerConfig" title="kaldi.hmm.HTransducerConfig"><code class="xref py py-obj docutils literal"><span class="pre">HTransducerConfig</span></code></a></td>
<td>CLIF wrapper for ::kaldi::HTransducerConfig</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#kaldi.hmm.HmmTopology" title="kaldi.hmm.HmmTopology"><code class="xref py py-obj docutils literal"><span class="pre">HmmTopology</span></code></a></td>
<td>HMM topology information for phones.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#kaldi.hmm.MapTransitionUpdateConfig" title="kaldi.hmm.MapTransitionUpdateConfig"><code class="xref py py-obj docutils literal"><span class="pre">MapTransitionUpdateConfig</span></code></a></td>
<td>Options for MAP estimation of transition probabilities.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#kaldi.hmm.MleTransitionUpdateConfig" title="kaldi.hmm.MleTransitionUpdateConfig"><code class="xref py py-obj docutils literal"><span class="pre">MleTransitionUpdateConfig</span></code></a></td>
<td>Options for MLE estimation of transition probabilities.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#kaldi.hmm.Posterior" title="kaldi.hmm.Posterior"><code class="xref py py-obj docutils literal"><span class="pre">Posterior</span></code></a></td>
<td>Wrapper for frame posteriors.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#kaldi.hmm.TransitionModel" title="kaldi.hmm.TransitionModel"><code class="xref py py-obj docutils literal"><span class="pre">TransitionModel</span></code></a></td>
<td>Transition model.</td>
</tr>
</tbody>
</table>
<dl class="class">
<dt id="kaldi.hmm.AccumulateTreeStatsInfo">
<em class="property">class </em><code class="descclassname">kaldi.hmm.</code><code class="descname">AccumulateTreeStatsInfo</code><a class="headerlink" href="#kaldi.hmm.AccumulateTreeStatsInfo" title="Permalink to this definition">¶</a></dt>
<dd><p>Alternative options representation for accumulating tree statistics.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>opts</strong> (<a class="reference internal" href="#kaldi.hmm.AccumulateTreeStatsOptions" title="kaldi.hmm.AccumulateTreeStatsOptions"><em>AccumulateTreeStatsOptions</em></a>) – Options for accumulating tree
statistics.</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="kaldi.hmm.AccumulateTreeStatsInfo.central_position">
<code class="descname">central_position</code><a class="headerlink" href="#kaldi.hmm.AccumulateTreeStatsInfo.central_position" title="Permalink to this definition">¶</a></dt>
<dd><p>Central position of context-window, zero-based (default=1).</p>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.hmm.AccumulateTreeStatsInfo.ci_phones">
<code class="descname">ci_phones</code><a class="headerlink" href="#kaldi.hmm.AccumulateTreeStatsInfo.ci_phones" title="Permalink to this definition">¶</a></dt>
<dd><p>List of integer indices for context-independent phones.</p>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.hmm.AccumulateTreeStatsInfo.context_width">
<code class="descname">context_width</code><a class="headerlink" href="#kaldi.hmm.AccumulateTreeStatsInfo.context_width" title="Permalink to this definition">¶</a></dt>
<dd><p>Context window size (default=3).</p>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.hmm.AccumulateTreeStatsInfo.phone_map">
<code class="descname">phone_map</code><a class="headerlink" href="#kaldi.hmm.AccumulateTreeStatsInfo.phone_map" title="Permalink to this definition">¶</a></dt>
<dd><p>List of old-&gt;now phone mappings.</p>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.hmm.AccumulateTreeStatsInfo.var_floor">
<code class="descname">var_floor</code><a class="headerlink" href="#kaldi.hmm.AccumulateTreeStatsInfo.var_floor" title="Permalink to this definition">¶</a></dt>
<dd><p>Variance floor for tree clustering (default=0.01).</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="kaldi.hmm.AccumulateTreeStatsOptions">
<em class="property">class </em><code class="descclassname">kaldi.hmm.</code><code class="descname">AccumulateTreeStatsOptions</code><a class="headerlink" href="#kaldi.hmm.AccumulateTreeStatsOptions" title="Permalink to this definition">¶</a></dt>
<dd><p>Options for accumulating tree statistics.</p>
<dl class="attribute">
<dt id="kaldi.hmm.AccumulateTreeStatsOptions.central_position">
<code class="descname">central_position</code><a class="headerlink" href="#kaldi.hmm.AccumulateTreeStatsOptions.central_position" title="Permalink to this definition">¶</a></dt>
<dd><p>Central position of context-window, zero-based (default=1).</p>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.hmm.AccumulateTreeStatsOptions.ci_phones_str">
<code class="descname">ci_phones_str</code><a class="headerlink" href="#kaldi.hmm.AccumulateTreeStatsOptions.ci_phones_str" title="Permalink to this definition">¶</a></dt>
<dd><p>Colon-separated list of integer indices for context-independent phones.</p>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.hmm.AccumulateTreeStatsOptions.context_width">
<code class="descname">context_width</code><a class="headerlink" href="#kaldi.hmm.AccumulateTreeStatsOptions.context_width" title="Permalink to this definition">¶</a></dt>
<dd><p>Context window size (default=3).</p>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.hmm.AccumulateTreeStatsOptions.phone_map_rxfilename">
<code class="descname">phone_map_rxfilename</code><a class="headerlink" href="#kaldi.hmm.AccumulateTreeStatsOptions.phone_map_rxfilename" title="Permalink to this definition">¶</a></dt>
<dd><p>Extended filename for the old-&gt;now phone mappings.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.hmm.AccumulateTreeStatsOptions.register">
<code class="descname">register</code><span class="sig-paren">(</span><em>opts:OptionsItf</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.hmm.AccumulateTreeStatsOptions.register" title="Permalink to this definition">¶</a></dt>
<dd><p>Registers options with an object implementing the options interface.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>opts</strong> (<a class="reference internal" href="kaldi.itf.html#kaldi.itf.OptionsItf" title="kaldi.itf.OptionsItf"><em>OptionsItf</em></a>) – An object implementing the options interface.
Typically a command-line option parser.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.hmm.AccumulateTreeStatsOptions.var_floor">
<code class="descname">var_floor</code><a class="headerlink" href="#kaldi.hmm.AccumulateTreeStatsOptions.var_floor" title="Permalink to this definition">¶</a></dt>
<dd><p>Variance floor for tree clustering (default=0.01).</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="kaldi.hmm.HTransducerConfig">
<em class="property">class </em><code class="descclassname">kaldi.hmm.</code><code class="descname">HTransducerConfig</code><a class="headerlink" href="#kaldi.hmm.HTransducerConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>CLIF wrapper for ::kaldi::HTransducerConfig</p>
<dl class="method">
<dt id="kaldi.hmm.HTransducerConfig.register">
<code class="descname">register</code><span class="sig-paren">(</span><em>opts:OptionsItf</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.hmm.HTransducerConfig.register" title="Permalink to this definition">¶</a></dt>
<dd><p>Registers options with an object implementing the options interface.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>opts</strong> (<a class="reference internal" href="kaldi.itf.html#kaldi.itf.OptionsItf" title="kaldi.itf.OptionsItf"><em>OptionsItf</em></a>) – An object implementing the options interface.
Typically a command-line option parser.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.hmm.HTransducerConfig.transition_scale">
<code class="descname">transition_scale</code><a class="headerlink" href="#kaldi.hmm.HTransducerConfig.transition_scale" title="Permalink to this definition">¶</a></dt>
<dd><p>Scale of transition probabilities (relative to language model)</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="kaldi.hmm.HmmTopology">
<em class="property">class </em><code class="descclassname">kaldi.hmm.</code><code class="descname">HmmTopology</code><a class="headerlink" href="#kaldi.hmm.HmmTopology" title="Permalink to this definition">¶</a></dt>
<dd><p>HMM topology information for phones.</p>
<dl class="class">
<dt id="kaldi.hmm.HmmTopology.HmmState">
<em class="property">class </em><code class="descname">HmmState</code><a class="headerlink" href="#kaldi.hmm.HmmTopology.HmmState" title="Permalink to this definition">¶</a></dt>
<dd><p>HMM state.</p>
<dl class="attribute">
<dt id="kaldi.hmm.HmmTopology.HmmState.forward_pdf_class">
<code class="descname">forward_pdf_class</code><a class="headerlink" href="#kaldi.hmm.HmmTopology.HmmState.forward_pdf_class" title="Permalink to this definition">¶</a></dt>
<dd><p>Forward PDF class, typically 0, 1 or 2; -1 means non-emitting.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.hmm.HmmTopology.HmmState.from_forward_and_self_pdf">
<code class="descname">from_forward_and_self_pdf</code><span class="sig-paren">(</span><em>forward_pdf_class:int</em>, <em>self_loop_pdf_class:int</em><span class="sig-paren">)</span> &#x2192; HmmState<a class="headerlink" href="#kaldi.hmm.HmmTopology.HmmState.from_forward_and_self_pdf" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructs a new HmmState object given PDF classes.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.hmm.HmmTopology.HmmState.from_pdf">
<code class="descname">from_pdf</code><span class="sig-paren">(</span><em>pdf_class:int</em><span class="sig-paren">)</span> &#x2192; HmmState<a class="headerlink" href="#kaldi.hmm.HmmTopology.HmmState.from_pdf" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructs a new HmmState object from given PDF class.</p>
<p>Both forward and self-loop PDFs are assigned to same class (usual case).</p>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.hmm.HmmTopology.HmmState.self_loop_pdf_class">
<code class="descname">self_loop_pdf_class</code><a class="headerlink" href="#kaldi.hmm.HmmTopology.HmmState.self_loop_pdf_class" title="Permalink to this definition">¶</a></dt>
<dd><p>Self-loop PDF class.</p>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.hmm.HmmTopology.HmmState.transitions">
<code class="descname">transitions</code><a class="headerlink" href="#kaldi.hmm.HmmTopology.HmmState.transitions" title="Permalink to this definition">¶</a></dt>
<dd><p>List of transitions in the form (next HMM-state index, initial-transition-prob)</p>
</dd></dl>

</dd></dl>

<dl class="method">
<dt id="kaldi.hmm.HmmTopology.check">
<code class="descname">check</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.hmm.HmmTopology.check" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if HmmTopology object is valid.</p>
<dl class="docutils">
<dt>Throws:</dt>
<dd>RuntimeError: If object is invalid.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="kaldi.hmm.HmmTopology.get_phone_to_num_pdf_classes">
<code class="descname">get_phone_to_num_pdf_classes</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; list&lt;int&gt;<a class="headerlink" href="#kaldi.hmm.HmmTopology.get_phone_to_num_pdf_classes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of PDF classes for each phone.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.hmm.HmmTopology.get_phones">
<code class="descname">get_phones</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; list&lt;int&gt;<a class="headerlink" href="#kaldi.hmm.HmmTopology.get_phones" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a sorted, unique list of phones covered by the topology.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.hmm.HmmTopology.is_hmm">
<code class="descname">is_hmm</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; bool<a class="headerlink" href="#kaldi.hmm.HmmTopology.is_hmm" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if HmmTopology is ‘hmm-like’.</p>
<p>A topology is ‘hmm-like’ if the pdf-classes on the self-loop and
forward transitions of any state are identical. [note: in HMMs, the
densities are associated with the states.] Topologies that are not
‘hmm-like’, where those pdf-classes are different, are also supported.
For instance, ‘chain models’ (AKA lattice-free MMI) use 1-state
topologies that have different pdf-classes for the self-loop and the
forward transition for more compact decoding graphs. Note that we
always use the ‘reorder=true’ option so the forward transition actually
comes before the self-loop.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.hmm.HmmTopology.min_length">
<code class="descname">min_length</code><span class="sig-paren">(</span><em>phone:int</em><span class="sig-paren">)</span> &#x2192; int<a class="headerlink" href="#kaldi.hmm.HmmTopology.min_length" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the minimum number of frames it takes to traverse the HMM for given phone.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.hmm.HmmTopology.num_pdf_classes">
<code class="descname">num_pdf_classes</code><span class="sig-paren">(</span><em>phone:int</em><span class="sig-paren">)</span> &#x2192; int<a class="headerlink" href="#kaldi.hmm.HmmTopology.num_pdf_classes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of PDF classes for given phone.</p>
<dl class="docutils">
<dt>Throws:</dt>
<dd>RuntimeError: If the phone is not covered by the topology.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="kaldi.hmm.HmmTopology.read">
<code class="descname">read</code><span class="sig-paren">(</span><em>is:istream</em>, <em>binary:bool</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.hmm.HmmTopology.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads HmmTopology object from input stream.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.hmm.HmmTopology.topology_for_phone">
<code class="descname">topology_for_phone</code><span class="sig-paren">(</span><em>phone:int</em><span class="sig-paren">)</span> &#x2192; list&lt;HmmState&gt;<a class="headerlink" href="#kaldi.hmm.HmmTopology.topology_for_phone" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the topology entry (i.e. list of HMM states) for given phone.</p>
<dl class="docutils">
<dt>Throws:</dt>
<dd>RuntimeError: If the phone is not covered by the topology.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="kaldi.hmm.HmmTopology.write">
<code class="descname">write</code><span class="sig-paren">(</span><em>os:ostream</em>, <em>binary:bool</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.hmm.HmmTopology.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes HmmTopology object to output stream.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="kaldi.hmm.MapTransitionUpdateConfig">
<em class="property">class </em><code class="descclassname">kaldi.hmm.</code><code class="descname">MapTransitionUpdateConfig</code><a class="headerlink" href="#kaldi.hmm.MapTransitionUpdateConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Options for MAP estimation of transition probabilities.</p>
<dl class="method">
<dt id="kaldi.hmm.MapTransitionUpdateConfig.register">
<code class="descname">register</code><span class="sig-paren">(</span><em>opts:OptionsItf</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.hmm.MapTransitionUpdateConfig.register" title="Permalink to this definition">¶</a></dt>
<dd><p>Registers options with an object implementing the options interface.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>opts</strong> (<a class="reference internal" href="kaldi.itf.html#kaldi.itf.OptionsItf" title="kaldi.itf.OptionsItf"><em>OptionsItf</em></a>) – An object implementing the options interface.
Typically a command-line option parser.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.hmm.MapTransitionUpdateConfig.share_for_pdfs">
<code class="descname">share_for_pdfs</code><a class="headerlink" href="#kaldi.hmm.MapTransitionUpdateConfig.share_for_pdfs" title="Permalink to this definition">¶</a></dt>
<dd><p>Share all transition parameters where the states have the same PDF</p>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.hmm.MapTransitionUpdateConfig.tau">
<code class="descname">tau</code><a class="headerlink" href="#kaldi.hmm.MapTransitionUpdateConfig.tau" title="Permalink to this definition">¶</a></dt>
<dd><p>Tau value for MAP estimation of transition probabilities.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="kaldi.hmm.MleTransitionUpdateConfig">
<em class="property">class </em><code class="descclassname">kaldi.hmm.</code><code class="descname">MleTransitionUpdateConfig</code><a class="headerlink" href="#kaldi.hmm.MleTransitionUpdateConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Options for MLE estimation of transition probabilities.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>floor</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – Floor for transition probabilities (default=0.01).</li>
<li><strong>mincount</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – Minimum count required to update transitions from
a state (default=5.0).</li>
<li><strong>share_for_pdfs</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Share all transition parameters where the
states have the same PDF (default=False).</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="kaldi.hmm.MleTransitionUpdateConfig.floor">
<code class="descname">floor</code><a class="headerlink" href="#kaldi.hmm.MleTransitionUpdateConfig.floor" title="Permalink to this definition">¶</a></dt>
<dd><p>Floor for transition probabilities</p>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.hmm.MleTransitionUpdateConfig.mincount">
<code class="descname">mincount</code><a class="headerlink" href="#kaldi.hmm.MleTransitionUpdateConfig.mincount" title="Permalink to this definition">¶</a></dt>
<dd><p>Minimum count required to update transitions from a state</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.hmm.MleTransitionUpdateConfig.register">
<code class="descname">register</code><span class="sig-paren">(</span><em>opts:OptionsItf</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.hmm.MleTransitionUpdateConfig.register" title="Permalink to this definition">¶</a></dt>
<dd><p>Registers options with an object implementing the options interface.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>opts</strong> (<a class="reference internal" href="kaldi.itf.html#kaldi.itf.OptionsItf" title="kaldi.itf.OptionsItf"><em>OptionsItf</em></a>) – An object implementing the options interface.
Typically a command-line option parser.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="kaldi.hmm.MleTransitionUpdateConfig.share_for_pdfs">
<code class="descname">share_for_pdfs</code><a class="headerlink" href="#kaldi.hmm.MleTransitionUpdateConfig.share_for_pdfs" title="Permalink to this definition">¶</a></dt>
<dd><p>Share all transition parameters where the states have the same PDF</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="kaldi.hmm.Posterior">
<em class="property">class </em><code class="descclassname">kaldi.hmm.</code><code class="descname">Posterior</code><a class="headerlink" href="#kaldi.hmm.Posterior" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper for frame posteriors.</p>
<p>We wrap frame posteriors (of type list&lt;list&lt;tuple&lt;int, float&gt;&gt;&gt;) with
this class to avoid copying frame posteriors every time a function that
accept frame posteriors is called and also to provide a more Pythonic
interface.</p>
<dl class="method">
<dt id="kaldi.hmm.Posterior.convert_transitions_to_pdfs">
<code class="descname">convert_transitions_to_pdfs</code><span class="sig-paren">(</span><em>tmodel:TransitionModel</em><span class="sig-paren">)</span> &#x2192; Posterior<a class="headerlink" href="#kaldi.hmm.Posterior.convert_transitions_to_pdfs" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts posteriors over transition-ids to posteriors over pdf-ids.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.hmm.Posterior.convert_transitions_to_phones">
<code class="descname">convert_transitions_to_phones</code><span class="sig-paren">(</span><em>tmodel:TransitionModel</em><span class="sig-paren">)</span> &#x2192; Posterior<a class="headerlink" href="#kaldi.hmm.Posterior.convert_transitions_to_phones" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts posteriors over transition-ids to posteriors over phones.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.hmm.Posterior.from_alignment">
<code class="descname">from_alignment</code><span class="sig-paren">(</span><em>ali:list&lt;int&gt;</em><span class="sig-paren">)</span> &#x2192; Posterior<a class="headerlink" href="#kaldi.hmm.Posterior.from_alignment" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a new Posterior object from an alignment.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.hmm.Posterior.from_posteriors">
<code class="descname">from_posteriors</code><span class="sig-paren">(</span><em>post:list&lt;list&lt;tuple&lt;int</em>, <em>float&gt;&gt;&gt;</em><span class="sig-paren">)</span> &#x2192; Posterior<a class="headerlink" href="#kaldi.hmm.Posterior.from_posteriors" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a new Posterior object from frame posteriors.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.hmm.Posterior.get_posteriors">
<code class="descname">get_posteriors</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; list&lt;list&lt;tuple&lt;int, float&gt;&gt;&gt;<a class="headerlink" href="#kaldi.hmm.Posterior.get_posteriors" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the frame posteriors.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.hmm.Posterior.read">
<code class="descname">read</code><span class="sig-paren">(</span><em>is:istream</em>, <em>binary:bool</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.hmm.Posterior.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads Posterior object from input stream.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.hmm.Posterior.scale">
<code class="descname">scale</code><span class="sig-paren">(</span><em>scale:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.hmm.Posterior.scale" title="Permalink to this definition">¶</a></dt>
<dd><p>Scales frame posteriors.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.hmm.Posterior.sort_by_pdfs">
<code class="descname">sort_by_pdfs</code><span class="sig-paren">(</span><em>tmodel:TransitionModel</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.hmm.Posterior.sort_by_pdfs" title="Permalink to this definition">¶</a></dt>
<dd><p>Sorts posterior entries by pdf-ids.</p>
<p>At the end of this operation posterior entries for transition-ids with
the same pdf-ids are next to each other.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.hmm.Posterior.to_matrix">
<code class="descname">to_matrix</code><span class="sig-paren">(</span><em>post_dim:int</em><span class="sig-paren">)</span> &#x2192; Matrix<a class="headerlink" href="#kaldi.hmm.Posterior.to_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts frame posteriors to a matrix.</p>
<p>The number of matrix-rows is the same as the length of the posterior and
the number of matrix-columns is defined by ‘post_dim’. The elements which
are not specified in the posterior are equal to zero.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.hmm.Posterior.to_pdf_matrix">
<code class="descname">to_pdf_matrix</code><span class="sig-paren">(</span><em>model:TransitionModel</em><span class="sig-paren">)</span> &#x2192; Matrix<a class="headerlink" href="#kaldi.hmm.Posterior.to_pdf_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts frame posteriors to a matrix.</p>
<p>The number of matrix-rows is the same as the length of the posterior and
the number of matrix-columns is defined by the number of PDFs in the
transition model. The elements which are not specified in the posterior
are equal to zero.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.hmm.Posterior.total">
<code class="descname">total</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.hmm.Posterior.total" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the total of all the weights in the frame posteriors.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.hmm.Posterior.weight_silence">
<code class="descname">weight_silence</code><span class="sig-paren">(</span><em>tmodel:TransitionModel</em>, <em>silence_set:ConstIntegerSet</em>, <em>silence_scale:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.hmm.Posterior.weight_silence" title="Permalink to this definition">¶</a></dt>
<dd><p>Weights silence phones.</p>
<p>Any silence phone in the frame posteriors (i.e. any phone in the set
“silence_set”) is weighted by “silence_scale”.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.hmm.Posterior.weight_silence_distributed">
<code class="descname">weight_silence_distributed</code><span class="sig-paren">(</span><em>tmodel:TransitionModel</em>, <em>silence_set:ConstIntegerSet</em>, <em>silence_scale:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.hmm.Posterior.weight_silence_distributed" title="Permalink to this definition">¶</a></dt>
<dd><p>Weights silence phones.</p>
<p>This is similar to <a class="reference internal" href="#kaldi.hmm.Posterior.weight_silence" title="kaldi.hmm.Posterior.weight_silence"><code class="xref py py-meth docutils literal"><span class="pre">weight_silence()</span></code></a>, except that on each frame it
works out the amount by which the overall posterior would be reduced,
and scales down everything on that frame by the same amount.  It
has the effect that frames that are mostly silence get down-weighted.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.hmm.Posterior.write">
<code class="descname">write</code><span class="sig-paren">(</span><em>os:ostream</em>, <em>binary:bool</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.hmm.Posterior.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes Posterior object to output stream.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="kaldi.hmm.TransitionModel">
<em class="property">class </em><code class="descclassname">kaldi.hmm.</code><code class="descname">TransitionModel</code><a class="headerlink" href="#kaldi.hmm.TransitionModel" title="Permalink to this definition">¶</a></dt>
<dd><p>Transition model.</p>
<dl class="method">
<dt id="kaldi.hmm.TransitionModel.accumulate">
<code class="descname">accumulate</code><span class="sig-paren">(</span><em>prob:float</em>, <em>trans_id:int</em>, <em>stats:DoubleVector</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.hmm.TransitionModel.accumulate" title="Permalink to this definition">¶</a></dt>
<dd><p>Accumulates statistics.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.hmm.TransitionModel.compatible">
<code class="descname">compatible</code><span class="sig-paren">(</span><em>other:TransitionModel</em><span class="sig-paren">)</span> &#x2192; bool<a class="headerlink" href="#kaldi.hmm.TransitionModel.compatible" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if this transition model is compatible with another.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.hmm.TransitionModel.from_topo">
<code class="descname">from_topo</code><span class="sig-paren">(</span><em>ctx_dep:ContextDependencyInterface</em>, <em>hmm_topo:HmmTopology</em><span class="sig-paren">)</span> &#x2192; TransitionModel<a class="headerlink" href="#kaldi.hmm.TransitionModel.from_topo" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a new TransitionModel object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>ctx_dep</strong> (<a class="reference internal" href="kaldi.itf.html#kaldi.itf.ContextDependencyInterface" title="kaldi.itf.ContextDependencyInterface"><em>ContextDependencyInterface</em></a>) – Context dependency decision
tree.</li>
<li><strong>hmm_topo</strong> (<a class="reference internal" href="#kaldi.hmm.HmmTopology" title="kaldi.hmm.HmmTopology"><em>HmmTopology</em></a>) – HMM topology.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.hmm.TransitionModel.get_non_self_loop_log_prob">
<code class="descname">get_non_self_loop_log_prob</code><span class="sig-paren">(</span><em>trans_id:int</em><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.hmm.TransitionModel.get_non_self_loop_log_prob" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the log of non-self-loop probability mass for given transition.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.hmm.TransitionModel.get_phones">
<code class="descname">get_phones</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; list&lt;int&gt;<a class="headerlink" href="#kaldi.hmm.TransitionModel.get_phones" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a sorted, unique list of phones.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.hmm.TransitionModel.get_topo">
<code class="descname">get_topo</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; HmmTopology<a class="headerlink" href="#kaldi.hmm.TransitionModel.get_topo" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the HMM topology.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.hmm.TransitionModel.get_transition_log_prob">
<code class="descname">get_transition_log_prob</code><span class="sig-paren">(</span><em>trans_id:int</em><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.hmm.TransitionModel.get_transition_log_prob" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the log probability associated with given transition-id.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.hmm.TransitionModel.get_transition_log_prob_ignoring_self_loops">
<code class="descname">get_transition_log_prob_ignoring_self_loops</code><span class="sig-paren">(</span><em>trans_id:int</em><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.hmm.TransitionModel.get_transition_log_prob_ignoring_self_loops" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the log probability associated with given transition-id if self-loop is ignored.</p>
<p>Returns the log-probability of a particular non-self-loop transition
after subtracting the probability mass of the self-loop and
renormalizing.  Specifically: for non-self-loops it returns
log(prob-for-transition / (1 - prob-for-sel-floop)).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> – if called on a self-loop.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="kaldi.hmm.TransitionModel.get_transition_prob">
<code class="descname">get_transition_prob</code><span class="sig-paren">(</span><em>trans_id:int</em><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#kaldi.hmm.TransitionModel.get_transition_prob" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the probability associated with given transition-id.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.hmm.TransitionModel.init_stats">
<code class="descname">init_stats</code><span class="sig-paren">(</span><em>stats:DoubleVector</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.hmm.TransitionModel.init_stats" title="Permalink to this definition">¶</a></dt>
<dd><p>Initializes statistics.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.hmm.TransitionModel.is_final">
<code class="descname">is_final</code><span class="sig-paren">(</span><em>trans_id:int</em><span class="sig-paren">)</span> &#x2192; bool<a class="headerlink" href="#kaldi.hmm.TransitionModel.is_final" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if this transition-id foes to the final state.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.hmm.TransitionModel.is_self_loop">
<code class="descname">is_self_loop</code><span class="sig-paren">(</span><em>trans_id:int</em><span class="sig-paren">)</span> &#x2192; bool<a class="headerlink" href="#kaldi.hmm.TransitionModel.is_self_loop" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if this transition-id corresponds to a self-loop.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.hmm.TransitionModel.map_update">
<code class="descname">map_update</code><span class="sig-paren">(</span><em>stats:DoubleVector</em>, <em>cfg:MapTransitionUpdateConfig) -&gt; (objf_impr_out:float</em>, <em>count_out:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.hmm.TransitionModel.map_update" title="Permalink to this definition">¶</a></dt>
<dd><p>Does Maximum A Posteriori estimation.</p>
<p>The stats are counts/weights, indexed by transition-id.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.hmm.TransitionModel.mle_update">
<code class="descname">mle_update</code><span class="sig-paren">(</span><em>stats:DoubleVector</em>, <em>cfg:MleTransitionUpdateConfig) -&gt; (objf_impr_out:float</em>, <em>count_out:float</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.hmm.TransitionModel.mle_update" title="Permalink to this definition">¶</a></dt>
<dd><p>Does Maximum Likelihood estimation.</p>
<p>The stats are counts/weights, indexed by transition-id.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.hmm.TransitionModel.num_pdfs">
<code class="descname">num_pdfs</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; int<a class="headerlink" href="#kaldi.hmm.TransitionModel.num_pdfs" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the highest numbered PDF we ever saw plus one.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.hmm.TransitionModel.num_phones">
<code class="descname">num_phones</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; int<a class="headerlink" href="#kaldi.hmm.TransitionModel.num_phones" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the highest phone index present.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.hmm.TransitionModel.num_transition_ids">
<code class="descname">num_transition_ids</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; int<a class="headerlink" href="#kaldi.hmm.TransitionModel.num_transition_ids" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the total number of transition-ids.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.hmm.TransitionModel.num_transition_indices">
<code class="descname">num_transition_indices</code><span class="sig-paren">(</span><em>trans_state:int</em><span class="sig-paren">)</span> &#x2192; int<a class="headerlink" href="#kaldi.hmm.TransitionModel.num_transition_indices" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of transition-indices for given transition-state.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.hmm.TransitionModel.num_transition_states">
<code class="descname">num_transition_states</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; int<a class="headerlink" href="#kaldi.hmm.TransitionModel.num_transition_states" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the total number of transition-states.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.hmm.TransitionModel.pair_to_transition_id">
<code class="descname">pair_to_transition_id</code><span class="sig-paren">(</span><em>trans_state:int</em>, <em>trans_index:int</em><span class="sig-paren">)</span> &#x2192; int<a class="headerlink" href="#kaldi.hmm.TransitionModel.pair_to_transition_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Maps (trans-state, trans-index) pair to transition-id.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.hmm.TransitionModel.print_model">
<code class="descname">print_model</code><span class="sig-paren">(</span><em>os:ostream</em>, <em>phone_names:list&lt;str&gt;</em>, <em>occs:DoubleVector=default</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.hmm.TransitionModel.print_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints a human-readable representation of transition model.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.hmm.TransitionModel.read">
<code class="descname">read</code><span class="sig-paren">(</span><em>is:istream</em>, <em>binary:bool</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.hmm.TransitionModel.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads TransitionModel object from input stream.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.hmm.TransitionModel.self_loop_of">
<code class="descname">self_loop_of</code><span class="sig-paren">(</span><em>trans_state:int</em><span class="sig-paren">)</span> &#x2192; int<a class="headerlink" href="#kaldi.hmm.TransitionModel.self_loop_of" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the self-loop transition-id, or zero id this state does not have a self-loop.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.hmm.TransitionModel.transition_id_to_hmm_state">
<code class="descname">transition_id_to_hmm_state</code><span class="sig-paren">(</span><em>trans_id:int</em><span class="sig-paren">)</span> &#x2192; int<a class="headerlink" href="#kaldi.hmm.TransitionModel.transition_id_to_hmm_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Maps transition-id to hmm-state.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.hmm.TransitionModel.transition_id_to_pdf">
<code class="descname">transition_id_to_pdf</code><span class="sig-paren">(</span><em>trans_id:int</em><span class="sig-paren">)</span> &#x2192; int<a class="headerlink" href="#kaldi.hmm.TransitionModel.transition_id_to_pdf" title="Permalink to this definition">¶</a></dt>
<dd><p>Maps transition-id to pdf-id.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.hmm.TransitionModel.transition_id_to_pdf_class">
<code class="descname">transition_id_to_pdf_class</code><span class="sig-paren">(</span><em>trans_id:int</em><span class="sig-paren">)</span> &#x2192; int<a class="headerlink" href="#kaldi.hmm.TransitionModel.transition_id_to_pdf_class" title="Permalink to this definition">¶</a></dt>
<dd><p>Maps transition-id to pdf-class.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.hmm.TransitionModel.transition_id_to_phone">
<code class="descname">transition_id_to_phone</code><span class="sig-paren">(</span><em>trans_id:int</em><span class="sig-paren">)</span> &#x2192; int<a class="headerlink" href="#kaldi.hmm.TransitionModel.transition_id_to_phone" title="Permalink to this definition">¶</a></dt>
<dd><p>Maps transition-id to phone.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.hmm.TransitionModel.transition_id_to_transition_index">
<code class="descname">transition_id_to_transition_index</code><span class="sig-paren">(</span><em>trans_id:int</em><span class="sig-paren">)</span> &#x2192; int<a class="headerlink" href="#kaldi.hmm.TransitionModel.transition_id_to_transition_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Maps transition-id to transition-index.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.hmm.TransitionModel.transition_id_to_transition_state">
<code class="descname">transition_id_to_transition_state</code><span class="sig-paren">(</span><em>trans_id:int</em><span class="sig-paren">)</span> &#x2192; int<a class="headerlink" href="#kaldi.hmm.TransitionModel.transition_id_to_transition_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Maps transition-id to transition-state.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.hmm.TransitionModel.transition_state_to_forward_pdf">
<code class="descname">transition_state_to_forward_pdf</code><span class="sig-paren">(</span><em>trans_state:int</em><span class="sig-paren">)</span> &#x2192; int<a class="headerlink" href="#kaldi.hmm.TransitionModel.transition_state_to_forward_pdf" title="Permalink to this definition">¶</a></dt>
<dd><p>Maps transition-state to forward-pdf-id.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.hmm.TransitionModel.transition_state_to_forward_pdf_class">
<code class="descname">transition_state_to_forward_pdf_class</code><span class="sig-paren">(</span><em>trans_state:int</em><span class="sig-paren">)</span> &#x2192; int<a class="headerlink" href="#kaldi.hmm.TransitionModel.transition_state_to_forward_pdf_class" title="Permalink to this definition">¶</a></dt>
<dd><p>Maps transition-state to forward-pdf-class.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.hmm.TransitionModel.transition_state_to_hmm_state">
<code class="descname">transition_state_to_hmm_state</code><span class="sig-paren">(</span><em>trans_state:int</em><span class="sig-paren">)</span> &#x2192; int<a class="headerlink" href="#kaldi.hmm.TransitionModel.transition_state_to_hmm_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Maps transition-state to hmm-state.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.hmm.TransitionModel.transition_state_to_phone">
<code class="descname">transition_state_to_phone</code><span class="sig-paren">(</span><em>trans_state:int</em><span class="sig-paren">)</span> &#x2192; int<a class="headerlink" href="#kaldi.hmm.TransitionModel.transition_state_to_phone" title="Permalink to this definition">¶</a></dt>
<dd><p>Maps transition-state to phone.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.hmm.TransitionModel.transition_state_to_self_loop_pdf">
<code class="descname">transition_state_to_self_loop_pdf</code><span class="sig-paren">(</span><em>trans_state:int</em><span class="sig-paren">)</span> &#x2192; int<a class="headerlink" href="#kaldi.hmm.TransitionModel.transition_state_to_self_loop_pdf" title="Permalink to this definition">¶</a></dt>
<dd><p>Maps transition-state to self-loop-pdf-id.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.hmm.TransitionModel.transition_state_to_self_loop_pdf_class">
<code class="descname">transition_state_to_self_loop_pdf_class</code><span class="sig-paren">(</span><em>trans_state:int</em><span class="sig-paren">)</span> &#x2192; int<a class="headerlink" href="#kaldi.hmm.TransitionModel.transition_state_to_self_loop_pdf_class" title="Permalink to this definition">¶</a></dt>
<dd><p>Maps transition-state to self-loop-pdf-class.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.hmm.TransitionModel.tuple_to_transition_state">
<code class="descname">tuple_to_transition_state</code><span class="sig-paren">(</span><em>phone:int</em>, <em>hmm_state:int</em>, <em>pdf:int</em>, <em>self_loop_pdf:int</em><span class="sig-paren">)</span> &#x2192; int<a class="headerlink" href="#kaldi.hmm.TransitionModel.tuple_to_transition_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Maps (phone, hmm-state, forward-pdf-id, self-loop-pdf-id) tuple to transition-state.</p>
</dd></dl>

<dl class="method">
<dt id="kaldi.hmm.TransitionModel.write">
<code class="descname">write</code><span class="sig-paren">(</span><em>os:ostream</em>, <em>binary:bool</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.hmm.TransitionModel.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes TransitionModel object to output stream.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="kaldi.hmm.accumulate_tree_stats">
<code class="descclassname">kaldi.hmm.</code><code class="descname">accumulate_tree_stats</code><span class="sig-paren">(</span><em>trans_model:TransitionModel</em>, <em>info:AccumulateTreeStatsInfo</em>, <em>alignment:list&lt;int&gt;</em>, <em>features:Matrix</em><span class="sig-paren">)</span> &#x2192; dict&lt;list&lt;tuple&lt;int, int&gt;&gt;, GaussClusterable&gt;<a class="headerlink" href="#kaldi.hmm.accumulate_tree_stats" title="Permalink to this definition">¶</a></dt>
<dd><p>Accumulates the stats needed for training context-dependency trees.</p>
</dd></dl>

<dl class="function">
<dt id="kaldi.hmm.add_self_loops">
<code class="descclassname">kaldi.hmm.</code><code class="descname">add_self_loops</code><span class="sig-paren">(</span><em>trans_model:TransitionModel</em>, <em>disambig_syms:list&lt;int&gt;</em>, <em>self_loop_scale:float</em>, <em>reorder:bool</em>, <em>fst:StdVectorFst</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.hmm.add_self_loops" title="Permalink to this definition">¶</a></dt>
<dd><p>Expands an FST that has been built without self-loops.</p>
</dd></dl>

<dl class="function">
<dt id="kaldi.hmm.add_transition_probs">
<code class="descclassname">kaldi.hmm.</code><code class="descname">add_transition_probs</code><span class="sig-paren">(</span><em>trans_model:TransitionModel</em>, <em>disambig_syms:list&lt;int&gt;</em>, <em>transition_scale:float</em>, <em>self_loop_scale:float</em>, <em>fst:StdVectorFst</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.hmm.add_transition_probs" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds transition probabilities with the supplied scales to the graph.</p>
</dd></dl>

<dl class="function">
<dt id="kaldi.hmm.add_transition_probs_lat">
<code class="descclassname">kaldi.hmm.</code><code class="descname">add_transition_probs_lat</code><span class="sig-paren">(</span><em>trans_model:TransitionModel</em>, <em>transition_scale:float</em>, <em>self_loop_scale:float</em>, <em>fst:LatticeVectorFst</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.hmm.add_transition_probs_lat" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds transition probabilities with the supplied scales to the lattice.</p>
</dd></dl>

<dl class="function">
<dt id="kaldi.hmm.convert_alignment">
<code class="descclassname">kaldi.hmm.</code><code class="descname">convert_alignment</code><span class="sig-paren">(</span><em>old_trans_model:TransitionModel</em>, <em>new_trans_model:TransitionModel</em>, <em>new_ctx_dep:ContextDependencyInterface</em>, <em>old_alignment:list&lt;int&gt;</em>, <em>subsample_factor:int</em>, <em>repeat_frames:bool</em>, <em>reorder:bool) -&gt; (success:bool</em>, <em>new_alignment:list&lt;int&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.hmm.convert_alignment" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts an alignment that was created using one model to another.</p>
</dd></dl>

<dl class="function">
<dt id="kaldi.hmm.convert_alignment_with_phone_map">
<code class="descclassname">kaldi.hmm.</code><code class="descname">convert_alignment_with_phone_map</code><span class="sig-paren">(</span><em>old_trans_model:TransitionModel</em>, <em>new_trans_model:TransitionModel</em>, <em>new_ctx_dep:ContextDependencyInterface</em>, <em>old_alignment:list&lt;int&gt;</em>, <em>subsample_factor:int</em>, <em>repeat_frames:bool</em>, <em>reorder:bool</em>, <em>phone_map:list&lt;int&gt;) -&gt; (success:bool</em>, <em>new_alignment:list&lt;int&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.hmm.convert_alignment_with_phone_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts an alignment that was created using one model to another.</p>
</dd></dl>

<dl class="function">
<dt id="kaldi.hmm.convert_phnx_to_prons">
<code class="descclassname">kaldi.hmm.</code><code class="descname">convert_phnx_to_prons</code><span class="sig-paren">(</span><em>phnx:list&lt;int&gt;</em>, <em>words:list&lt;int&gt;</em>, <em>word_start_sym:int</em>, <em>word_end_sym:int) -&gt; (success:bool</em>, <em>prons:list&lt;list&lt;int&gt;&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.hmm.convert_phnx_to_prons" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a phone sequence and a word sequence to a list of pronunciations</p>
</dd></dl>

<dl class="function">
<dt id="kaldi.hmm.get_h_transducer">
<code class="descclassname">kaldi.hmm.</code><code class="descname">get_h_transducer</code><span class="sig-paren">(</span><em>ilabel_info:list&lt;list&lt;int&gt;&gt;</em>, <em>ctx_dep:ContextDependencyInterface</em>, <em>trans_model:TransitionModel</em>, <em>config:HTransducerConfig) -&gt; (h_transducer:StdVectorFst</em>, <em>disambig_syms_left:list&lt;int&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.hmm.get_h_transducer" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates the H transducer.</p>
</dd></dl>

<dl class="function">
<dt id="kaldi.hmm.get_ilabel_mapping">
<code class="descclassname">kaldi.hmm.</code><code class="descname">get_ilabel_mapping</code><span class="sig-paren">(</span><em>ilabel_info_old:list&lt;list&lt;int&gt;&gt;</em>, <em>ctx_dep:ContextDependencyInterface</em>, <em>trans_model:TransitionModel</em><span class="sig-paren">)</span> &#x2192; list&lt;int&gt;<a class="headerlink" href="#kaldi.hmm.get_ilabel_mapping" title="Permalink to this definition">¶</a></dt>
<dd><p>Produces a mapping from logical to physical HMMs.</p>
</dd></dl>

<dl class="function">
<dt id="kaldi.hmm.get_pdfs_for_phones">
<code class="descclassname">kaldi.hmm.</code><code class="descname">get_pdfs_for_phones</code><span class="sig-paren">(</span><em>trans_model:TransitionModel</em>, <em>phones:list&lt;int&gt;) -&gt; (ret:bool</em>, <em>pdfs:list&lt;int&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.hmm.get_pdfs_for_phones" title="Permalink to this definition">¶</a></dt>
<dd><p>Works out which pdfs might correspond to the given phones.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>trans_model</strong> (<a class="reference internal" href="#kaldi.hmm.TransitionModel" title="kaldi.hmm.TransitionModel"><em>TransitionModel</em></a>) – Transition-model used to work out this information</li>
<li><strong>phones</strong> (<em>List</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>]</em>) – A sorted, unique vector that represents a set of phones</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">First return value will be True if returned
pdf-ids correspond to just the given set of phones, False if they may
be shared with other phones. Second return value is a sorted, unique
list of pdf-ids that correspond to given set of phones.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="kaldi.fstext.html#kaldi.fstext.CompactLatticeEncodeTable.Tuple" title="kaldi.fstext.CompactLatticeEncodeTable.Tuple">Tuple</a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)">bool</a>, List[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)">int</a>]]</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="kaldi.hmm.get_phones_for_pdfs">
<code class="descclassname">kaldi.hmm.</code><code class="descname">get_phones_for_pdfs</code><span class="sig-paren">(</span><em>trans_model:TransitionModel</em>, <em>pdfs:list&lt;int&gt;) -&gt; (ret:bool</em>, <em>phones:list&lt;int&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.hmm.get_phones_for_pdfs" title="Permalink to this definition">¶</a></dt>
<dd><p>Works out which phones might correspond to the given pdfs.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>trans_model</strong> (<a class="reference internal" href="#kaldi.hmm.TransitionModel" title="kaldi.hmm.TransitionModel"><em>TransitionModel</em></a>) – Transition-model used to work out this information</li>
<li><strong>pdfs</strong> (<em>List</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>]</em>) – A sorted, unique vector that represents a set of pdfs</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">First return value will be True if returned
phones correspond to just the given set of pdfs, False if they may
be shared with other pdfs. Second return value is a sorted, unique
list of phones that correspond to given set of pdfs.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="kaldi.fstext.html#kaldi.fstext.CompactLatticeEncodeTable.Tuple" title="kaldi.fstext.CompactLatticeEncodeTable.Tuple">Tuple</a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)">bool</a>, List[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)">int</a>]]</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="kaldi.hmm.merge_posteriors">
<code class="descclassname">kaldi.hmm.</code><code class="descname">merge_posteriors</code><span class="sig-paren">(</span><em>post1:Posterior</em>, <em>post2:Posterior</em>, <em>merge:bool</em>, <em>drop_frames:bool) -&gt; (num_frames:int</em>, <em>post_out:Posterior</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.hmm.merge_posteriors" title="Permalink to this definition">¶</a></dt>
<dd><p>Merges two Posterior objects.</p>
<p>Inputs must have the same number of frames. If “merge” is true, it will
make a common entry whenever there are duplicated entries, adding up the
weights. If “drop_frames” is true, for frames where the two sets of
posteriors were originally disjoint, makes no entries for that frame
(relates to frame dropping, or drop_frames, see Vesely et al, ICASSP
2013). Also returns the number of frames for which the two posteriors
were disjoint (i.e. no common transition-ids or whatever index we are
using).</p>
</dd></dl>

<dl class="function">
<dt id="kaldi.hmm.posterior_entries_are_disjoint">
<code class="descclassname">kaldi.hmm.</code><code class="descname">posterior_entries_are_disjoint</code><span class="sig-paren">(</span><em>post_entries1:list&lt;tuple&lt;int</em>, <em>float&gt;&gt;</em>, <em>post_entries2:list&lt;tuple&lt;int</em>, <em>float&gt;&gt;</em><span class="sig-paren">)</span> &#x2192; bool<a class="headerlink" href="#kaldi.hmm.posterior_entries_are_disjoint" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if the lists have no common first element (transition-id).</p>
</dd></dl>

<dl class="function">
<dt id="kaldi.hmm.read_phone_map">
<code class="descclassname">kaldi.hmm.</code><code class="descname">read_phone_map</code><span class="sig-paren">(</span><em>phone_map_rxfilename:str</em><span class="sig-paren">)</span> &#x2192; list&lt;int&gt;<a class="headerlink" href="#kaldi.hmm.read_phone_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads a mapping from one phone set to another.</p>
<p>The phone map file has lines of the form &lt;old-phone&gt; &lt;new-phone&gt;, where
both entries are integers, usually nonzero (but this is not enforced).</p>
<p>The output vector “phone_map” will be indexed by old-phone and will
contain the corresponding new-phone, or -1 for any entry that was not
defined.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>phone_map_rxfilename</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Extended filename for the phone map.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Phone mapping.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">List[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)">int</a>]</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> – if the input is invalid, e.g. there are multiple</li>
<li>inconsistent entries for the same old phone.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="kaldi.hmm.split_to_phones">
<code class="descclassname">kaldi.hmm.</code><code class="descname">split_to_phones</code><span class="sig-paren">(</span><em>trans_model:TransitionModel</em>, <em>alignment:list&lt;int&gt;) -&gt; (success:bool</em>, <em>split_alignment:list&lt;list&lt;int&gt;&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.hmm.split_to_phones" title="Permalink to this definition">¶</a></dt>
<dd><p>Splits transition-ids in alignment into phones (one list per phone).</p>
</dd></dl>

<dl class="function">
<dt id="kaldi.hmm.vector_to_posterior_entries">
<code class="descclassname">kaldi.hmm.</code><code class="descname">vector_to_posterior_entries</code><span class="sig-paren">(</span><em>log_likes:VectorBase</em>, <em>num_gselect:int</em>, <em>min_post:float) -&gt; (log_like:float</em>, <em>post_entries:list&lt;tuple&lt;int</em>, <em>float&gt;&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#kaldi.hmm.vector_to_posterior_entries" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts log-likelihoods to a list of posterior entries.</p>
<p>Given a vector of log-likelihoods (typically of Gaussians in a GMM
but could be of pdf-ids), a number gselect &gt;= 1 and a minimum posterior
0 &lt;= min_post &lt; 1, it gets the posterior for each element of log-likes
by applying softmax, then prunes the posteriors using “gselect” and
“min_post” (keeping at least one), and outputs the result into
“post_entries”, sorted from greatest to least posterior.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The total log-likelihood (the softmax output) and the “post_entries”.</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="kaldi.itf.html" class="btn btn-neutral float-right" title="kaldi.itf" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="kaldi.gmm.html" class="btn btn-neutral" title="kaldi.gmm" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017-2018, Doğan Can, Victor Martinez.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.0.9',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>